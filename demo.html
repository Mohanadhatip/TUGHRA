<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <title>Tughra</title>
    <meta name="theme-color">
    <style>
        a {
            color: #007bff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .toc {
            margin: 20px 0;
            padding: 10px;
        }

        .toc a {
            display: block;
            margin: 5px 0;
        }

        .section {
            margin: 20px 0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;

        }

        .group-names {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            margin-top: 0px !important;
            scrollbar-width: none;
            /* Hide scrollbar for Firefox */
        }

        .group-names::-webkit-scrollbar {
            display: none;
            /* Hide scrollbar for Chrome, Safari, Opera */
        }

        .group-name {
            padding-right: 10px;
            border: 1px solid #3263b3;
            cursor: pointer;
            transition: background-color 0.3s;
            white-space: nowrap;
        }


        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(30px, 1fr));
            gap: 5px;
            font-size: 18px;
            text-align: center;
            max-height: 155px;
            /* Set a fixed height for the result */
            overflow-y: auto;
            scrollbar-width: none;
            /* Hide scrollbar for Firefox */
            margin-bottom: 20px;
            border: 1px solid #3263b3;
            border-radius: 5px;
            padding: 10px;
        }

        .character-grid::-webkit-scrollbar {
            display: none;
            /* Hide scrollbar for Chrome, Safari, Opera */
        }

        .buttons::-webkit-scrollbar {
            display: none;
            /* Hide scrollbar for Chrome, Safari, Opera */
        }

        .character {
            padding: 10px;
            border: 1px solid #6f91c9;
            background-color: #eaeff7;
            cursor: pointer;
            transition: background-color 0.3s;
            border-radius: 2px;
        }

        .character:hover {
            background-color: #3263b3;
            color: #fff;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            min-width: 400px;
            max-width: 800px;
            margin-top: 20px;
            margin-bottom: 20px;

        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
        }

        h2 {
            padding-top: 13px;
            margin-bottom: 13px;
            font-size: 20px;
        }

        strong {
            padding-top: 7px;
            padding-bottom: 7px;
        }

        .input-group,
        .output-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        textarea,
        input[type="text"],
        input[type="password"] {
            width: 100%;
            padding: 10px;
            border: 0.05rem solid #3263b3;
            border-radius: 5px;
            font-size: 16px;
        }

        textarea {
            height: 30vh;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            border-radius: 5px;
            border: 0.05rem solid #3263b3;
            position: relative;
            /* For positioning the tooltip */
            overflow: auto;
            /* Enables scrolling if content overflows */
            max-width: 100%;
            /* Optional: Restrict the container's maximum width */
        }

        button {
            margin: 5px;
            padding: 10px;
            background-color: transparent;
            color: #3263b3;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .cycle-container {
            display: flex;
            align-items: center;
            margin-bottom: 20px;

        }

        .cycle-btn {
            padding: 10px 15px;
            background-color: #3263b3;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s, transform 0.2s;
        }

        .cycle-btn:hover {
            background-color: transparent;
            color: #3263b3;
            border: 0.05rem solid #3263b3;
        }

        .cycle {
            width: 100%;
            padding: 10px;
            border: 0.05rem solid #3263b3;
            font-size: 16px;
            text-align: center;
            color: #3263b3;
            border-radius: 5px;
        }

        .cycle-btn:active {
            background-color: #1a3563;
        }

        button:hover {
            background-color: #3263b3;
            color: #fff;
        }

        .cycle:disabled {
            color: #799ad4;
            background-color: transparent;
            cursor: not-allowed;
        }

        button:disabled {
            color: #799ad4;
            background-color: transparent;
            cursor: not-allowed;
        }


        .input-wrapper {
            display: flex;
            flex-wrap: wrap;
            /* Allow items to wrap into a new row */
            min-width: 380px;
            max-width: 800px;
            margin-bottom: 10px;
            align-items: center;
            justify-content: start;
        }

        .input-item {
            width: calc(100% / 6 - 5px);
            /* Divide width for 6 items, subtract margin */
            margin-right: 10px;
            /* Space between input items */
            margin-bottom: 10px;
            /* Space below each item */
        }

        .input-container {
            display: flex;
            align-items: center;
            /* Center align input and button */
        }



        .input-number:last-child {
            margin-right: 0;
        }


        .input-item {
            position: relative;
            margin-right: 5px;
            /* Position relative for absolute positioning of button */
        }


        .remove-button {
            position: absolute;
            top: 0px;
            background-color:
                color: red;
            padding: 0px;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }

        .remove-button:hover {
            background-color: transparent;
            color: red;
            /* Darker red on hover */
        }


        button:focus {
            outline: none;
            /* Remove outline */
        }

        .tooltip {
            display: none;
            position: absolute;
            background-color: #333;
            /* Dark background */
            color: #fff;
            /* White text */
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            /* Prevent text from wrapping */
            z-index: 10;
            /* Make sure tooltip is above other elements */
        }

        .show {
            display: block;
            /* Show the tooltip */
        }


        .content {
            padding: 0 18px;
            display: none;
            /* Hidden by default */
            overflow: hidden;
            margin-bottom: 20px;
        }

        a {
            color: #3263b3;
        }

        code {
            color: #e63e3e;
        }

        .toast-container {
            position: fixed;
            top: 40px !important;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1001001;
            display: flex;
            flex-direction: column;
            gap: 10px;


        }

        .light.toast-container {
            background-color: transparent !important;
        }

        /* Toast style with sky blue background */
        .toast {
            margin-top: 20px;
            min-width: 250px;
            max-width: 550px;
            background-color: #fff;
            /* Sky blue */
            color: #3263b3;
            padding: 5px;
            border-radius: 4px;
            border: 1px solid #3263b3;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slide-in 0.5s ease-out;
            font-family: Arial, sans-serif;
        }

        /* Toast close button */
        .toast button {
            background: none;
            border: none;
            color: #3263b3;
            font-size: 16px;
            cursor: pointer;
            margin-left: 10px;
        }

        /* Animation for the toast */
        @keyframes slide-in {
            from {
                transform: translateY(100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Animation for toast removal */
        @keyframes slide-out {
            from {
                transform: translateY(0);
                opacity: 1;
            }

            to {
                transform: translateY(100%);
                opacity: 0;
            }
        }

        mark {
            background-color: #3263b3;
            color: #fff;
            border-radius: 2px;
            padding-right: 4px;
            padding-left: 4px;
        }

        #spinner {
            display: none;
            /* Hidden by default */
            border: 8px solid #f3f3f3;
            /* Light grey */
            border-top: 8px solid #3263b3;
            /* Blue */
            border-radius: 50%;
            /* Circular shape */
            width: 50px;
            /* Width of the spinner */
            height: 50px;
            /* Height of the spinner */
            animation: spin 1s linear infinite;
            /* Animation for spinning */
            position: relative;
            /* Position relative to its container */
            pointer-events: none;
            /* Prevent mouse events on the spinner */
            z-index: 1110001;
        }

        .blur-background {
            filter: blur(1px);
            /* Adjust the blur strength as needed */
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }



        /* Progress bar container */
        #progressBarContainer {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
            align-items: center;
        }

        /* Progress bar */
        #progressBar {
            height: 100%;
            width: 0%;
            background-color: #3263b3;
            text-align: center;
            line-height: 20px;
            color: #fff;
            border-radius: 5px;
            transition: width 0.4s ease;
        }

        .navigation {
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
            background-color: transparent;
            border: 1px solid #3263b3;
            padding: 0.125em 0;
            border-radius: 0.5em;
            width: 100%;
            margin-bottom: 20px;
        }

        .action-btn {
            background-color: transparent;
            border: 0;
            color: #3263b3 !important;
            font-size: 0.875rem;
            width: 2em;
            cursor: pointer;
            margin: 0 0.5em;
            padding: 0.5em 0.25em;
        }

        .action-btn.action-btn-big {
            color: #3263b3 !important;
            font-size: 0.95rem;
        }

        .action-btn:hover {
            outline: 0;
            color: #7ea3de !important;
            background-color: transparent;
        }


        .progress-container {
            background: #eee;
            border-radius: 0.25em;
            cursor: pointer;
            margin: 0.5em;
            height: 0.25em;
            width: 95%;
        }

        .progress {
            background-color: #3263b3;
            border-radius: 0.25em;
            height: 100%;
            width: 0%;
            transition: width 0.1s linear;
        }

        .player_slider {
            width: 0.75rem;
            height: 3rem;
        }

        .time {
            color: #3263b3;
            font-size: 0.9rem;
            padding-right: 0.25em;
        }

        #video-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            width: 100%;
            margin: 0 auto;
            border: 1px solid #3263b3;
            margin-bottom: 20px;
        }

        .video_player {
            width: 100%;
            height: 360px;
            border-radius: 8px 8px 0 0;
        }

        /* Controls navigation-video bar */
        .navigation-video {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 10px 0;
        }

        .action-btn-video {
            background-color: transparent;
            border: 0;
            color: #3263b3 !important;
            font-size: 0.875rem;
            width: 2em;
            cursor: pointer;
            margin: 0 0.5em;
            padding: 0.5em 0.25em;
        }

        .action-btn-video.action-btn-big-video {
            color: #3263b3 !important;
            font-size: 0.95rem;
        }

        .action-btn-video:hover {
            outline: 0;
            color: #7ea3de !important;
            background-color: transparent;
        }


        /* progress-video bar container */
        .progress-video-container-video {
            flex-grow: 1;
            height: 5px;
            background-color: #eee;
            margin: 0 15px;
            border-radius: 5px;
            position: relative;
            cursor: pointer;
        }

        .progress-video {
            height: 100%;
            background-color: #3263b3;
            width: 0%;
            border-radius: 5px;
            transition: width 0.1s ease;
        }

        /* timevideo display (current timevideo and duration) */
        .timevideo {
            display: flex;
            align-items: center;
            color: #fff;
            font-size: 14px;
        }

        .timevideo span {
            margin-left: 5px;
            margin-right: 5px;
        }




        #removevideo:hover {
            color: #b00711;
        }

        #thumbnail {
            margin-top: 15px;
            border-radius: 8px;
        }

        #togglerecordBtn:hover,
        #uploadTextBtn:hover,
        #extractQRCode:hover,
        #copy:hover,
        #paste:hover,
        #makeCode:hover,
        #downloadTextBtn:hover {
            background: none;
            /* Removes the background */
            outline: none;
            /* Removes the outline */
            color: #7ea3de;
        }

        /* Modal container */
        .modal {
            display: none;
            /* Hidden by default */
            position: fixed;
            z-index: 110000;
            /* On top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            /* Black background with opacity */
            justify-content: center;
            align-items: center;
        }

        /* Modal content */
        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Buttons */
        .modal-buttons {
            margin-top: 20px;
        }



        #continueBtn {
            background-color: #3263b3;
            color: #fff;
        }

        #closeBtn {

            color: #3263b3;
            border: 1px solid #3263b3;
        }

        /* Fullscreen modalrecordVideo styling */
        #modalrecordVideo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 90099;
        }

        /* Fit video to cover the modalrecordVideo */
        #previewVideo,
        #recordedvideo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            background-color: black;
        }

        /* Controls when recording */
        .record-controls,
        .video-record-actions {
            position: fixed;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .record-controls button,
        .video-record-actions button {
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
        }

        /* Hide recordedvideo video controls initially */
        .video-record-actions {
            display: none;
        }

        .recordbutton {
            margin: 5px;
            background-color: transparent;
            outline: none;
            border: none;

            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .recordbutton:hover {
            background-color: transparent;
        }

        .recordbutton:disabled {
            background-color: transparent;
            color: #cccccc;
            cursor: not-allowed;
        }

        #photoContainer {
            position: fixed;
            top: 10px;
            left: 10px;
            display: none;
            border-radius: 8px;
            overflow: hidden;
            width: 90vw;
            /* Adjust width for smaller screens */
            max-width: 400px;
            /* Limit width on larger screens */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            background-color: #fff;
        }

        /* Ensure the image fills the container */
        #snapshot {
            width: 100%;
            height: auto;
            display: block;
            object-fit: cover;
            z-index: 1;
            /* Image stays underneath the buttons */
        }

        /* Float buttons over the image */
        .photo-buttons {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            position: absolute;
            bottom: 0;
            /* Align buttons at the bottom of the image */
            width: 100%;
            /* Ensure buttons stretch across the image */
            z-index: 2;
            /* Keep buttons above the image */
        }

        /* Style buttons */
        .photo-buttons button {
            flex: 1;
            /* Ensure equal width */
            margin: 0 5px;
            /* Add some space between buttons */
        }

        /* Adjustments for smaller screens (mobile) */
        @media (max-width: 600px) {
            #photoContainer {
                width: 50vw;
                /* Use almost full width on small screens */
            }

            .photo-buttons button {
                padding: 8px;
                /* Slightly smaller buttons on mobile */
                font-size: 12px;
                /* Smaller font size */
            }
        }

        .loading {
            cursor: wait;
            /* Change cursor to 'wait' when processing */
        }

        .setting-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001000;
        }

        .setting-modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            min-width: 400px;
            max-height: 80vh;
            /* Set maximum height */
            overflow-y: auto;
            /* Enable vertical scrolling */
        }

        .setting-modal h2 {
            margin-top: 0;
            text-align: center;
        }

        /* Close Button */
        .setting-close-btn {
            border: 1px solid #3263b3;
            color: #3263b3;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;

        }


        input.empty-input {
            border: 2px solid red !important;
            /* Change border color to red */
            background-color: #ffe6e6 !important;
            /* Light red background */
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #3263b3;
        }

        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #3263b3;
            border-radius: 4px;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }


        select:focus {
            border-color: #ccc;
        }


        .light {
            background-color: #ffffff !important;
            color: #15202b !important;
        }

        .dark {
            background-color: #15202b !important;
            color: #ffffff !important;
        }

        body.light {
            background-color: #f4f4f4 !important;
        }

        /* Dark Mode */
        body.dark {
            background-color: #192734 !important;
        }

        input.light {
            background-color: #f4f4f4 !important;
        }

        /* Dark Mode */
        input.dark {
            background-color: #253747 !important;
        }

        textarea.light {
            background-color: #f4f4f4 !important;
        }

        /* Dark Mode */
        textarea.dark {
            background-color: #253747 !important;
        }


        .checkbox-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 28vh;
            /* Set maximum height */
            overflow-y: auto;
            /* Enable vertical scrolling */
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 34px;
            height: 20px;
            margin-right: 10px;
            margin-left: 10px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 20px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: #3263b3;
        }

        input:checked+.slider:before {
            transform: translateX(14px);
        }

        /* Style for baseOutput div */
        #baseOutput {
            padding: 10px;
            /* Add some padding */
            margin-top: 20px;
            /* Space above the div */

        }

        /* Style for the paragraph inside the baseOutput */
        #baseOutput p {
            font-size: 14px;
            /* Larger text for heading */
            font-weight: bold;
            /* Make it bold */
            margin-bottom: 10px;
            /* Space below the text */

        }

        /* Style for the select dropdown */
        #alphabetSelect {
            width: 100%;
            /* Full width dropdown */
            padding: 10px;
            /* Padding inside the dropdown */
            font-size: 16px;
            /* Larger text */
            border: 1px solid #ccc;
            /* Light grey border */
            border-radius: 5px;
            /* Slightly rounded corners */
            background-color: #fff;
            /* White background */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            /* Inner shadow */
            outline: none;
            /* Remove outline */
            appearance: none;
            /* Remove default styling */
        }

        /* Add a little arrow for dropdown */
        #alphabetSelect::-ms-expand {
            display: none;
            /* For Internet Explorer */
        }

        /* Add a custom icon for dropdown */
        #alphabetSelect {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yMy4yNDUgNGwtMTEuMjQ1IDE0LjM3NC0xMS4yMTktMTQuMzc0LS43ODEuNjE5IDEyIDE1LjM4MSAxMi0xNS4zOTEtLjc1NS0uNjA5eiIvPjwvc3ZnPg==');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 12px;
        }

        html[dir="rtl"] #alphabetSelect {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0yMy4yNDUgNGwtMTEuMjQ1IDE0LjM3NC0xMS4yMTktMTQuMzc0LS43ODEuNjE5IDEyIDE1LjM4MSAxMi0xNS4zOTEtLjc1NS0uNjA5eiIvPjwvc3ZnPg==');
            background-repeat: no-repeat;
            background-position: left 10px center;
            background-size: 12px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container " id="container">
        <div style="display: flex; justify-content: space-between;">
            <button style="right: 0;" id="openSettingModalBtn">
                <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M7.58209 8.96025 9.8136 11.1917l-1.61782 1.6178c-1.08305-.1811-2.23623.1454-3.07364.9828-1.1208 1.1208-1.32697 2.8069-.62368 4.1363.14842.2806.42122.474.73509.5213.06726.0101.1347.0133.20136.0098-.00351.0666-.00036.1341.00977.2013.04724.3139.24069.5867.52125.7351 1.32944.7033 3.01552.4971 4.13627-.6237.8375-.8374 1.1639-1.9906.9829-3.0736l4.8107-4.8108c1.0831.1811 2.2363-.1454 3.0737-.9828 1.1208-1.1208 1.3269-2.80688.6237-4.13632-.1485-.28056-.4213-.474-.7351-.52125-.0673-.01012-.1347-.01327-.2014-.00977.0035-.06666.0004-.13409-.0098-.20136-.0472-.31386-.2406-.58666-.5212-.73508-1.3294-.70329-3.0155-.49713-4.1363.62367-.8374.83741-1.1639 1.9906-.9828 3.07365l-1.7788 1.77875-2.23152-2.23148-1.41419 1.41424Zm1.31056-3.1394c-.04235-.32684-.24303-.61183-.53647-.76186l-1.98183-1.0133c-.38619-.19746-.85564-.12345-1.16234.18326l-.86321.8632c-.3067.3067-.38072.77616-.18326 1.16235l1.0133 1.98182c.15004.29345.43503.49412.76187.53647l1.1127.14418c.3076.03985.61628-.06528.8356-.28461l.86321-.8632c.21932-.21932.32446-.52801.2846-.83561l-.14417-1.1127ZM19.4448 16.4052l-3.1186-3.1187c-.7811-.781-2.0474-.781-2.8285 0l-.1719.172c-.7811.781-.7811 2.0474 0 2.8284l3.1186 3.1187c.7811.781 2.0474.781 2.8285 0l.1719-.172c.7811-.781.7811-2.0474 0-2.8284Z" />
                </svg>

            </button>


            <button style="left: 0;" id="theme-toggle"><svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21a9 9 0 0 1-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 0 0 9 9c.239 0 .254.018.488 0A9.004 9.004 0 0 1 12 21Z" />
                </svg>
            </button>
        </div>
        <h1 style="padding: 20px; font-size: 55px; color: #3263b3; font-family: 'Times New Roman', Times, serif;">Tughra</h1>
        <div id="progressBarContainer">
            <div id="progressBar"></div>
        </div>
        <div id="typewriter"></div>
        <div id="estimatedTime" style="text-align: center; color: #3263b3;"></div><br>
        <div id="containerMagic">
            <div class="input-group" style="position: relative;">
                <button onclick="pasteText()" id="paste" data-title="Paste">
                    <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h2.429M7 8h3M8 8V4h4v2m4 0V5h-4m3 4v3a1 1 0 0 1-1 1h-3m9-3v9a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-6.397a1 1 0 0 1 .27-.683l2.434-2.603a1 1 0 0 1 .73-.317H19a1 1 0 0 1 1 1Z" />
                    </svg>
                </button>
                <button id="openmodalrecordVideoBtnrecordVideo" style="display: block;"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M7.5 4.586A2 2 0 0 1 8.914 4h6.172a2 2 0 0 1 1.414.586L17.914 6H19a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1.086L7.5 4.586ZM10 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd" />
                    </svg>
                </button>
                <textarea id="inputText" style="resize: none;" placeholder="Type text here"></textarea>
                <button id="togglerecordBtn"><svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9v3a5.006 5.006 0 0 1-5 5h-4a5.006 5.006 0 0 1-5-5V9m7 9v3m-3 0h6M11 3h2a3 3 0 0 1 3 3v5a3 3 0 0 1-3 3h-2a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3Z" />
                    </svg>
                </button>
                <button id="uploadTextBtn" data-title="Upload"><input type="file" hidden id="fileUpload" />
                    <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v9m-5 0H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2M8 9l4-5 4 5m1 8h.01" />
                    </svg>
                </button>
                <button id="extractQRCode" data-title="Upload QR">
                    <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M4 4h6v6H4V4Zm10 10h6v6h-6v-6Zm0-10h6v6h-6V4Zm-4 10h.01v.01H10V14Zm0 4h.01v.01H10V18Zm-3 2h.01v.01H7V20Zm0-4h.01v.01H7V16Zm-3 2h.01v.01H4V18Zm0-4h.01v.01H4V14Z" />
                        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M7 7h.01v.01H7V7Zm10 10h.01v.01H17V17Z" />
                    </svg>

                </button>
                <div id="charCount"></div>
                <input type="file" id="QRCode" hidden>

            </div>

            <div class="input-group-container" id="encryptionArrayContainer">
                <div class="input-wrapper" id="input-wrapper">
                    <div class="input-item">
                        <div class="input-container">
                            <input type="text" class="input-number" placeholder="" />
                            <button class="remove-button">&times;</button>
                        </div>
                    </div>

                    <div class="input-item">
                        <div class="input-container">
                            <input type="text" class="input-number" placeholder="" />
                            <button class="remove-button">&times;</button>
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="input-container">
                            <input type="text" class="input-number" placeholder="" />
                            <button class="remove-button">&times;</button>
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="input-container">
                            <input type="text" class="input-number" placeholder="" />
                            <button class="remove-button">&times;</button>
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="input-container">
                            <input type="text" class="input-number" placeholder="" />
                            <button class="remove-button">&times;</button>
                        </div>
                    </div>
                    <div class="input-item">
                        <div class="input-container">
                            <input type="text" class="input-number" placeholder="" />
                            <button class="remove-button">&times;</button>
                        </div>
                    </div>
                </div>

                <div class="cycle-container">
                    <button id="copyFrequency" class="cycle-btn" onclick="copyfrequency()" data-title="Copy Frequency">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M9 8v3a1 1 0 0 1-1 1H5m11 4h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1v1m4 3v10a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7.13a1 1 0 0 1 .24-.65L7.7 8.35A1 1 0 0 1 8.46 8H13a1 1 0 0 1 1 1Z" />
                        </svg>
                    </button>
                    <button id="decreaseCycle" class="cycle-btn">-</button>
                    <input type="number" id="cycleCount" class="cycle" value="10" min="1">
                    <button id="increaseCycle" class="cycle-btn">+</button>
                    <button id="pasteFrequency" class="cycle-btn" onclick="pastefrequency()" data-title="Paste Frequency">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h2.429M7 8h3M8 8V4h4v2m4 0V5h-4m3 4v3a1 1 0 0 1-1 1h-3m9-3v9a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-6.397a1 1 0 0 1 .27-.683l2.434-2.603a1 1 0 0 1 .73-.317H19a1 1 0 0 1 1 1Z" />
                        </svg>
                    </button>
                </div>

                <div class="buttons">
                    <button id="generateEncryptionArray" onclick="generateEncryptionArray()" data-title="Generate Encryption Array">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.872 9.687 20 6.56 17.44 4 4 17.44 6.56 20 16.873 9.687Zm0 0-2.56-2.56M6 7v2m0 0v2m0-2H4m2 0h2m7 7v2m0 0v2m0-2h-2m2 0h2M8 4h.01v.01H8V4Zm2 2h.01v.01H10V6Zm2-2h.01v.01H12V4Zm8 8h.01v.01H20V12Zm-2 2h.01v.01H18V14Zm2 2h.01v.01H20V16Z" />
                        </svg>
                    </button>
                    <button id="encryptText" onclick="encryptText()" data-title="Encrypt Text">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14v3m-3-6V7a3 3 0 1 1 6 0v4m-8 0h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1Z" />
                        </svg>
                    </button>
                    <button id="decryptText" onclick="decryptText()" data-title="Decrypt Text">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14v3m4-6V7a3 3 0 1 1 6 0v4M5 11h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1Z" />
                        </svg>
                    </button>
                    <button id="toggleChars" data-title="Show Charcters">
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                            <path d="M20 2a2 2 0 0 0-2 2v2h-2v2h-2v2h-2v2H7v2H5v2H3v4h2v-2h2v-2h2v-2h4v-4h2v-2h2v-2h2v-2h2V4a2 2 0 0 0-2-2zm-7 12h-2v2h2v-2zm2-4h-2v2h2v-2zm2-4h-2v2h2V6z " />
                        </svg>
                    </button>

                    <button id="addNumberInput" onclick="addNumberInput()" data-title="Add Number Input">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>
                    </button>
                    <button id="copyNumbers" onclick="copyNumbers()" data-title="Copy Numbers">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M9 8v3a1 1 0 0 1-1 1H5m11 4h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1v1m4 3v10a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7.13a1 1 0 0 1 .24-.65L7.7 8.35A1 1 0 0 1 8.46 8H13a1 1 0 0 1 1 1Z" />
                        </svg>
                    </button>
                    <button id="pasteNumbers" onclick="pasteNumbers()" data-title="Paste Numbers">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h2.429M7 8h3M8 8V4h4v2m4 0V5h-4m3 4v3a1 1 0 0 1-1 1h-3m9-3v9a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-6.397a1 1 0 0 1 .27-.683l2.434-2.603a1 1 0 0 1 .73-.317H19a1 1 0 0 1 1 1Z" />
                        </svg>
                    </button>


                    <button id="swapText" onclick="swapText()" data-title="Swap Text">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 20V7m0 13-4-4m4 4 4-4m4-12v13m0-13 4 4m-4-4-4 4" />
                        </svg>

                    </button>
                    <button id="clearAll" data-title="Clear All Inputs">
                        <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4" />
                        </svg>

                    </button>
                </div>

                <div class="tooltip" id="tooltip"></div>

            </div>
            <br>


            <div id="characterContainer" style="border-radius: 15px 15px 0 0; border: 1px solid #3263b3; background-color: #fff; z-index: 10000; padding: 10px; max-height: 305px; min-width: 100%; display: none; bottom:0; right: 0; left:0; position: fixed;">


                <div style="display: flex; align-items: center; margin-top: 10px; gap: 10px;">
                    <input type="text" id="searchInput" style="flex: 1; padding-bottom: 0px; margin-bottom: 0px !important; height: 35px;" placeholder="Search groups..." oninput="searchGroups()" />


                    <button onclick="clearLastNonEmptyInputNumberValue()"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12l4-4m-4 4 4 4" />
                        </svg>
                    </button>
                    <button style="height: 35px; width: 10%;" onclick="toggleChars()">Close</button>
                </div>
                <div class="group-names" id="groupNames"></div>
                <div class="character-grid" id="characterGrid" style=" margin-bottom: 10px;"></div>
            </div>
            <div id="music-container" style="display: none;">
                <audio preload="metadata" id="savebtnsound" src="data:audio/mpeg;base64,//vQZAAAByRux8Ux4AJuL8cwoDQAJnITU/mcgAE8w+E/AqAAQAJQIF7/sEgSBIUFcAQAACAHBIPHLr3lKZu/vh4r1ezx9/w1eaBoGgaBoHQhiGKBD0PQ9DznNM61Ht+/fv1er0PV6vVjynvf+7x48pq974hv4+6MCsQxDDTNND1fPAViGKBD0PNM0zTQ9XsavQxDFZEhq85y3j1hIA1AuBCCcFwNBQVVjJKnzTNM0zTNMnBODQUESGxq9Xsjx5E1e8iGD1kLOtzgJw5C2E4FzHrJ2dajV7+99ZhsavV7Pt4n0PV7PuA8VisV7PHw8eRJU+TgnBoHQoGSJT/3ve94avQxDFZE1HDwD//////////////////////v/dBBDUgggmmmmmmmmmgggggggggmmmmmmmmmggggggYFwuF8vl8vl8vl8vkuPQeg9BhBhBhBhByEobmZfHuOMYclyoJ4AL4CLAo4XsYce49x7kuShcLhcLhcLho0MTEDKKoNkDGFA4EAIBAQBch7AcAzQlWLxLndxFAxxU0QQ22F+wSUcCgkqwmD4cBy4XBLkShtohKXzfBAAsvQNHhuSS2H6Juk6uwqBLqpGZVH0Zw0yKvMuhh4ZQAVYODGioyJBgAm/H4MfjkpBz5a9kS9HEsmGUFSk9k215L97GLnaaUS+/Yp5lNdeCsCrC0qAAt0MqALcxh8+9s7x3leL8LzXurupYiEOQ2IHzkGEsjBQa8RAs0mQwCzn2xVz7/fttNafSPeuxriQCw+Tns4MqcJjYOosPJlkTITBzB1hjcbZbeWu3e65WwuUmOuYuo/9+/hhvt6MY5yO4pwkCyR+n+h+27LnLTkbG1sKQQlfzff///////////////4pGLNPX///////////////12yFYV2rUADgDgEADgDgHAwGAwGAoEXl+fod53+bnf+bO/9Nf/9NdP//XOqb///OOmmzjpv////6Zud/////+VEMPQVCG///+oU4HgXf///yhCIUR1VMgBAQAAAALqpDD8daJlkCTL/l8nYSdo3TKwgiAw4/higsQUoC4RaUFxBzmRRsUEsych/IYmaYxDA0PIx4IwyMCimuy2P2Iadef/70mQkgAjHdVMma0AAeS2mCsDQACeFfU/5zQAAAAA0gwAAAGkRZrAMBABOBmMlnJI6Kpcasu+uIDxrHZRXEQdfLhuaFxCpoLgaWSqrCq9aVFuUOiIzaM+UCY/A1BDTWsL9y3fz7/5hcUjUMgxoUAgQUQqVEAsCELlNFX1nXYiMqt28d9xtU+W2ahUUY0AAA6gCfxc0wx0KRkDUB3Iah7CJxd/mcqLSirn3PteU1pdGv6r0s7BjtQ7KErn6pHvi4WAv6XOIkTWo9bw5amctXbTlO9Lody1/8xx/v44f+kWIZnpT+///////////////naw7/9gAAAAECAQCAYEAiEfr4n6LfSb86TJIk1/k0Vy6Zl3/zheNy4kXf/ywXjc8iRUpf/5kXimUSCnDI+d///MY5Is0liHFEmjxMk7///5DVrIsOovl02I9AhxTKTitev6Ov//5OmRNCzg8oGQFgYuEAsIA7vADJ0URSI8qhoABMAIAUAIAQDAQCAQHaGx6ZeTAOCZhMdAK9DAaL0GZyyQEYyQMAKCiqCjUphCBmZhAAVJQGAZYCIIHGOPCAOeoyYUkGAjtJiZoY1UcymNERIALLkiS4oOKHBcmnQmfGjAcyLAxIYz5x9V/lwSyoGYCMOkGaFWac+CUpcUkDOQh1CoCXtUxiIsvMODVjLrrNggiHoPFUKgpRCEAhjKnBcWxYZYTEwAIAxQBL0njHAi10Eqwz8BopAUZaw1alMRlpqw7MkcAgmqgBhhlwarmmBYCWpZI9E9dZDIYLtzNLlSd+7SgofDzEC2ZeOMNiAABEQuujm5SunsfVlBdZKktKBArSmdXKWtj9zLPO7tCNrDqu+ig4ksYmqda7prHV2j4vNY1v9Z3v1SzEArCsRdJ3v3hVxkHR4f//C3/9CogAAAAMkJ0zeSDGIkMfikxkBTCQvMCgoyuBDECLMPEAKwoBVU1odzEQYNXu4zyUTMzTNwMMwKQDUo4NLqYxSEDYpEMHlE2YND27AMxKc0iWzOBVMJiky4vzEgGMKqkWExkgjmCwMYQEZiIHmLBmYYD5jQKmLgCBggRDhKpLAODRjgamEgmLDAWEwqEDA4QMBiYwwFQsDAgajwF//vSZE0H/AJsR8dzgAYAAA0g4AABM8GxDg7rNwAAADSAAAAEMZgYuol+YGEIYOBUAOelC74FDQKHwKCJigFtLHgaq0ZAi5jCIKMCgRJEGggwyABISxgCgJIYEhQBBNTVuqYUNKsbIjcuQv+WwR7BQdWGQHIZF4mHKeYypkxJIlSoFBZ0mDKPNSBAJGQMYGAcSWDhyMiQJQdRtb6HYgYBABhMEGAQgsMgKTqLdIqw6+zO3+TWpWQt6tBojjv2+EXR5fhmpQAC/zCGBMuWOqWCXSXBGrOf/l2ed3LdV3ate/K5YymBaKngCV2Z2LxSOw0+Lgu8zNiLqPmvd0br5NAcGKyR/539VZhg1oFMeFQMjx3MgQcMXAmMAgXMBBHEQNmCBumWwOmZ6LGyzdGoDlGVqZlBsmOYkmCAkmJoBGJKSGXxDmmUlmPgJGWimmVhChzCGHwnGG5fGUCPmPJUGRoeGPaHGK4kGTY/GFgamMQomDIXmdw4mGw9gc4AmQWLn4KmGXGN9B+Bg6F5sEpts4uJIoZgCpvqpx6RpVIjbiMGLaQR/OXCBJMEFzMqRMAcoOFBAhXHdbHDhmOOHzInqWmhOCSlFwMTmMCiEYYMa+Q4UEhwQOMIdHRAlaNAfDRQKJjQIhEmNUsAe4RBmOgkw+wEFmFCn+cj4GVYuma3cDFEXzWS4ZAeZwIcO77LmemUEVWk9zREO9hS0MVC5CSSfydCEaGp5iD355FmUCDgAVMAkkRs29LihQ0KBsABQMML6QeT3LihYwyxhJJGAiEWBYWiAMINiLRpfPyrsMCY27DWYfp1tusOgiAEOHXimkUMO+yAQDMQjbdmHuiTCgoIiBXWs9VEuRTK3NMT2SCQnshWUhGFR0BNZ0VtxmOTVzP7jlQ8yqfCqd1HWVtqM6vwFbY1WGyscmGhIYsHpgosGSwgaZGAAWRvy6n19uZ0YBiYOmDBYYeNpi0gGRDkbLHIwsgYMjWAnOBIAxigRY7Gaj6YAGhg89BYNIQmIwmYHCKQAABSuDDgvMLFsyGOUAZhkTmFg4YRCocBjHQHHCuYNFxiEaAYSjQvQCAgAGEgwLEwmLAUBYoCDCQEMJk8HIJNwCgEDERJlM//+9JkTYAMi2fEBXOAAAAADSCgAAEythMpub2AAAAANIMAAAADAkGhJtqALigDDItaBgQOgmKgYHhgBWUg2lGNBdY6Xg6BUdi46ZIEARgADI3AQNGEQQYIATAF2JlDoASEWSpmo+VQAzlCYsUDAR70fgUA0+AoBkEBe9TNYMBBMOASE5v4qLAh1y9rEwcEnGIACkYy4LAABC0FAB2i3qsCnTdnFa2sdDNPNM9CJItiBKBgIDC5CDpgEAmAwKCgmmuYSBQcEDBwKAQFMBgIujIEq2ZOdBQQAGB1IKS8JgA3cYAbjCQSkQCBbSgcB2gqZIrJ9AYFID0VWvMpZm3zdC5AQBMUby16yxIHF618LNVAqZ46Rxp/h1lrCH0aNktgAAAIEBQBAEAgEG/rBkpsZQPGEkgWaxJuMKTSKiMJVjPiEwQmNFKjlicOdQMenZwIQIBRXNrdzGw8DGA4ymNCwO6jFxAxMTDCsYEw4IQAiQQbkMCpuRCDAUWnRMVFDBjUwYTMEFTVyc9cXNSbg5AMMCzBQ5g7Ai8T1Fy5cuskBDFhRHFAMbS7mjoSMSwDWy0jJF5JJBASkWoUq9Ho5hSPAdgUgJeDzSZKHy5fciUpZ0/slFgaFTMJWK9r4AIQAoEYwAIZmBlJhaMcUjOXQsJdt7GARSGWeLXfplK536lLeMciZ7zMZCdgoGMrHQaCAYoMmBiwDGRAjOJcxqglLZIfLmokl0ZM2rc4TPbgdp7DXXdh1DOgQw0FRMMUFjCWs4U7P7VzUnQWZDJiQRHfJFduNJtX5Vaj9PD8JhnTXn/h+VqrpD1oXdbG11ruE75rJSdq3iqMagPGwABl4yjICC40gqdMwQPM3KRoGNBHQYPf//////////////////zDO3z///////////////AxoBhB7Y5buzDRAAIIAIlpkNByZZmTQQJAR46a89ZoyaM0yk8VM4QoQzSE0ByYgRm5MS0y0rMMMFADPDQHFJkQaBC00ARDFMxxIMPFACPGUCg0cl7TXHAxl0MBKzQiAEuhmRWYsBlwyUCBxItEWDzJA5CkcBjBGk2V+SWgEtczgwkPS7V4quGDbPTWCkxwtLAwHJBrAODSoyGCMP/70mRKAAzBgtAma2ACAAANIMAAADIiETt5zgAAAAA0gwAAAHAmSGIhREFPEWlS4ZShinU4CwI6KFQLMGBAuQmAqAFYS7avxACCQkmIMgoWBpUwVoTCEBjW501pnMJHkNCYAIiNIUAAJAAGFjohGDBxcABinIOCmJoJHvjbXpWw2UO0o5CIVLgSIhg4Z2VoPGJF4gWDETQ18NOCPhQIMCF0404QYMvoKhZlASgaqMdCE8QYExWCoYeCVvs16QszeZ3jDkwYJBJKMIFQKNmYFxlI6YKBDgeYcBGEDJUDkJS9jBQYSHVQq+a4XVfyZrdaFAyS7BXugymi1axLrVqtN0MO6iszTCRhH8ef///////////////wHnKJvn///////////////OKrUsAEAAAAAAAAmNo+ZgZIoADApXSuAIEOmy05fzTaHdNNEQQkcxCKjYJWMMi0yONzB4jMBmYxWOhAszS5mMbBAxCHzEpLMUCoysXTH1dNVzQxKDTHR3Jn6Sg8AhUOAJ3Q0BREG7AeaBEhCRDH5YMSjowSgzFYPEIFMTANFQ1uTjCxfMFFgyIPAgnmFBGGDEgCJg0NGSR0XtS+gYqAEKBEx6ZzTw1Msg8BAQZBACC5jETDgAIjO1F9UbQ4EtjZNMxFxQUOC5ZiwaGLR+YJF5i4OGJQyLAlgoBACTKsD8NibE0lUt99YEtGDw2MgpD0wMLTB4mAgNAArMIgoaELDFAYwsCs1arst1Uy7Y3K4dpHofqIkQ1TGAINYy8K9yzyipgIIAYABgHDAsj8qnALkqljL0JfO1DMzVr2ua5jhuyYMAipEN2cOS4z2wQvtfUrWekgpwkUntErdy9S3KaZa7c3NZZ09j86mquqS1cwtWqzatrIpz///////////////+VXKHDv///////////////3GvjVLAAAAU1TAcJjCEgDOMRyUWjDYQzC4nzFw4TDEyjXeLDTU5DUZuzWIUQIUJpw5pncg5lgLoCS0xUMjbSNMSDExlbTlRTMkFYIE4WHJgo7mLgyIwcIAgYaChjMNLkHooYECplYNjQnM3F8wEPTHBBBQ3MShIBBIwkQDGISIgqJCoxyKgcEgEPzAIRM//vSZEUG/ChqRkd3gAIAAA0g4AABMKWrDA5vEYAAADSAAAAEOBAOIxhUPAAJiMHkhJDgoDgGIgeTAMxuEgsDgKCgUBAgPEoJLeBgNLAPQpBADDAK/5EHF2EgLAICJQsYbDDG1NoYW8CAcYAANOwYWAyJ6DZUCj1qhROQeetUzosqJAYlezVW13ZBKGHMNnKZh0kXekSvVfzYkomxsseRiMaYIi6l67ytheZNRmzQpOvuB0L32WK/jKUBQkBWFMGsqysvQ1ht0KNlcKVui7EFVUVUVlDW1SSHgEomqBm7EnIttyVSc1yYsoUmelhQIqvahk7ANATO15IrCMCkQFWg/7cFYlYphXUqUfa2AQEXjVVcgvsnlIHxj8Awmedp8KYyDWzDZjNVFMSJ5jRDmYUcYZKhmGKna3Kd2n5ubPHqrsBC2ZcaBo53mx2uZechgc3mcWYer9glZzBRdN8tTBto1cQMsmjkQwFXLniEFM0PzfGcxUKBDaYuNLIMSLDFBUyxkDtYaHxkVMEFFchxUZKVGlrRlqEYIBmBBQcPkAsYeNKUkwcZ8kmRAwqmhUmBTOACk7JpNIPDPgU0tKKBYCCKJBgwCYcDtOMNLhCPBQMMAH1AlnpBIIDLQYhEy4aQbFUTgUZxQoNBsLLLIkhyVzIXwFUmqofEB6GkB7FHVooCGrhUCCNxgERKtLwOWDsIQtdTdUNaGkqKmBCVsCRTcUUQTeJriJsBmcAXSJERGYzAT+BQjCEZngCBq3I1ksXKWsACJ7Bxi9QXBHWQEwl+QGBkp9I0JHBy00V0u/BTOF0iswF1eI3Vg8ASpIhlqJq3Eg4cC4kBIiCRAYgkkxEyifhuEwwBZJgOjCqEv0u1DBWtqKaa9AYFLxrvMt1s7NY3Y1EbWXQu9yozJcjBATMaicwoVDE5XNRDEwQKC9R2anmLE+cslptAuGsCKZ3RBusSGiy6YuSxqtFGEggYRmZpo5mEwUaZMRk8nGKhIBg+ZDBRgAYGJQ8YkGRmQMGDg+ODExcEjKIXMfDM0GF1th8JLgboqHE2ADKjNy0QJk5qPCJolcZ9RvMmSaY7D2gx01D1bzDJBYjemFODlQioM7Nic1hzB6WMDBz/+9JkT4d8D2fBg5nF0k1nVEAMAqAnWZ0KrecQgcUv2xQimbgMCVXALKCoTHeIkh0MTBIgoBMYN3gKSkQYhosAkoJJqJgmoEAJzDggwoLDCA0xnRqwWIR6Bsgk0ggMhEBMJ1mPAhPSPAgK9DAbMlJd8AJJInq7TAa8VjUra0NHVakkJoVGWvTxZ8JCTVUNaZGTGZaaigJUAjKxqWgwapHNlKr2CNcYYaBtNQQrNVOUBKgQNJW4skkSBBt0UDfsQFfmSChT4GMNISqcArA4w8JJC0+Kgpa9PVG8uMFTssXQ15CW0QHHMDxEgDOR7aYF7GEiXgcsuEn4gFRLvpXzHbPnb/90E+6qEg0/p/ghcccjGEgYh2LpKOjv9+n7+imYZ2O27EOioUww4sQfazuT6KVyKmrr6FHYyZSZAD4qaMhH/rIGwTYKmjJxRlBo+ITRkI/mXo/miDGbAfEjG3AxALMZDgUHGXhw4jGHihuqUem0GhDppyiBS4EgACDQg8VMjKYwpGemhQhB6oE0B0zfpemUcZKQZEd0phGHqMbZxskoZArNaod19xeThKkiY1hkzPjiQVGjcOpTzS+ZEu1tkhS7oiK+4IKDwohuK0tBpibkoqrobAmoV4R+h+IKsHhmcSUauVnKar0WFuNMQ2dVOh5k5m6Bib7iLve4kWo+zhnUSd9ga/mbp0ypkzaxeBYfXa059Yk/DM3EL7P2MDVggkaLNU6DDYXsdZzmgxp0VVF8s4aLk15FRlrvuq+shZspS8T2sBXUxlsbpNKdCIP9LK9wmdIGvsDiC1WnMwnGSxphktl8KjyW2ozL1etBYrBaXq0omm/DDDVGIHg5c8ma6ihGI7Pw89rzRxzHlJtt8s8UB6AAg5Gq+EAAp1RqoKAODqn/xAUUPi64wAAT/kI2dyEODp3/+9ABEATd7//ER7933J7h4OT9xD3dng6QXBafdiEXdkyd7EbzyaZhDHh73n7H/tiGNlwgenD7lmABD99jHPtkHvtpjv40Hz/EBwHxofpqMfrhGGKsM8DMcCBI4DBTUDTUCAziCBpgYBcM7DzIWLlM5MXhkQmkY7g8ugGMVAeCGjAgQtaBRiwyAtQSIwdI1Cccg//70mQhj/mub8EDeshCZ0v3YB0G8COJ5PwNYe/Bk6/ewFMP0IBdA1qXBM8qxlilz4JNJGmIOlCBDgxJDwKpOk3OAUeygAueoMnjmnki0yFKlgC+GvRBThq7Oy+aPqJiRRptI4kBZeRyFKFgUKnIcZssSomvI0qqJ/N82ePoLIfIJgEatGClM2cRUIFR5YoW5ml0tYe6ahbnxVu79l417JyuAz9gKlLSW6QWv1iO39Ve09w4onNaepwmLxm9BieznwQyp1nZXa+moo7T+tdVFEYe5Aj3V3Jiit0L26UfZTTMKm30jUbf7lFA9FBMMNIYu7tdQWCX9f2POxCpaMA9eKlliAK5S4fv8P/+d/uP2N2xZgN9evb4O8oWi/+EZD8UGlRnxoW/lC1S/i9v+Pk9R9xvlRf+glwfF3//LP5p4rs48uANd3F/eWmgsrlr/ZPxnbCe25nLJ2HxpIZ/3Off3sn+wwyDUvNMMEH89Mmnf5BBrfeP57v4AE7OXIMcApM8Hs7y80xtIGEiMAECi/xeIKmDLqgEWR2AIAxYw0IxQt7GgC2GrlxkggsMqgdpykMQQ0ICXFCEoJB4wJIZUIiuqRDDArkbUGkTCRRZ8oqulQZLpXpc1HhCpKkFFYjEWuuNlLVSs9itd3nlksqrBYb7stlzdVLYCeZL1OowDi2QWxCRHUoIcuVMEeJMlTKFdZFaZirPQx4tjlBulhRiqNgIWTRSuCuP8lSlgDtRhXJU/UNZzuQ9IOUBXlhHuPNAmlaMxWX1iYbxYlFHOV4rn1pU7VSqFiXKtRTTSVkUVnb3Tkv3Vrp8pU6ormSytrpFE6MpcE6Q9kcmFkVSttdyP0boalA4mowyXnj6u/zaC171ueXdZMWhdrm1nf1PacjdlN/C2/cMUep3mb+i78TCaCn5ziY/FSUcii4oRvDaj+B7GfC67moC/CD68n6U8p82jDECcsN33q+fnLUhsg897Qco11x86LBF+KG/eB6UEjSumovEj+41FiOzB/2FikcMUx/3VSAMxV22ar60Uhstaf2BHqiDhPdF6VskITuc6kViqVbcDOVEOzDK3+TOxbsxFwUtVmyZc1XRaZhsplqT8yzJ5r8qjwjG//vSRCIE1jh0vQsMNsDHbpehYYbY14ni8Sww2UryPJ3E9JvRZIPRJirRfqjC8B5azxk+iw6PrJkTR+V1iEW7WOSua3iSVbXB0OrewLXKSfMGTxkTXTg+RtPnzy0SbVMUNyE5PWaISW6A8tdaKl0po1pZEjGkSNHG2WQTSwi8oPG72tH/cIEKuCZ3yPSsLjrLZI2WMplN17qjn6Jw561tZ5lBmChddRogDQdhtmrDN6Qylwn9gR6og4T3Quq2SEJ3OdSKxUEprwM1q1LZhnblJnPA2RiLgparNkK5qui2ypYZitMwF4iI1HKoCEbdNxFUsuHa0SaCoXL7QHyqcOj55Mo1UqeaOnzgmp09uOj6GEVGvOPepo8JUNUqYGrid0RsVvPpxJcoVW70Lrp65hVbPY+Ku1L7gLOIH2YkYNNURRlZIsq1MRVl3XZykv8QvkkskqvL479qKyiL1uHFxhLTXO3ZOJW+nds5vfkhN1VSIJBKAK6TrbhqvRWJ6tbncdX5qitUzwt7Gux2itbq2oe1HmJPTCcf1XW6sLq4NGbG1kMq2ASaRW2sslrEpKIDJySimeqXi9VW6247MzsgGRoXoly82JsVbJaPQKlqZbjUCrmFcUHtklMtjYWsPNLYF13HHI3qX1nMqclSzzNy9ZCmPCaCJklgtGTjdJYW2HOPML39iMdhOnOCJ6hg1wCZwZcjLTRwSYFXxpieVTtE00nbUsxWypqL3z1zR1ASC3E2ynoczyes6zXE66cXz4wSaq7a5WH2YLk+Zl4XIzUCh6UkjlKQXyAvj3NFBV/6JJtnWZknloYmRRSsyJZ1K2MDLGe2YN//PFyNhQNRZEc2Cxhk6KDppW2Cx3pqFl4Gk80qSpJoeRVOSxMyJCFC9Uyi0ZRqCldGJBMq6lUiIsuSIQXU2ady3rSwgqkpEY2f82PzXNQDSaTgmtumidRBOdMJpCoCt8pVWpQdBZLcNw9Gdy6cwxsSIFoyUZIqIAACU9HkDqiy5sSXsXGR9AZNgJA8nUCUTmaNgiWpgAU+8COsra03swXOLfP1JWcoYmAqsVWgi0p5Vs9+6yliNJalUuv0MZlL6rCuLDLkxX8a3f/TGTItbzux5rT/+9JkLgfHE3m2qZhNcpGu9xgpKMpaBeakBj0zibc0lsgAolDDmvRqGnaivYzBTXqPGU2LONa2+sO2Yi/trfwC12irQ01qHdZZazwcJU0si1R2ot27GbMSl0SZ1FqbsScoUuTAKGRSSqhVr3RE10xTNCk9CtJZFkus9Diy6K4AGBImlLVXTIWVYNFXxsQgZBFmkSRNspNWoKmUT6240ihuepVLVpxjFCQukwAABgAI/zTf/+nIh8+UAWENT/+kiIXS3+JYAwFTLCpFFJEFg0+KpLL///+peVxSmQomrEIARKtMKiraFRN9ZWZ/mKYSLAko0s1HOrBDnSRbSJEhc1dSksKhzQzTTCwqbGorS4wPryhY7Vv//nXGg1D0gFRuzMdfAqbwHQfNDRa/NNkitWSHo7KWNmYq1Yo6RUGxOXYD4koT7RVIJgOw8lgRiCUASLg/GNPstOlKiV5jeXhMKmSJ6n4eY/R9FWZBJiUpNAGUX1IJdCWKPGetTerFs4SDCylWZCCUKmhumZtlpekrYqxwhDhIiFm0jq1xBXS8/i0jPYTaNDBOZWmyiKlix0o2zKorLXJCRB8kPxkrKKxVAaFJCHiMkHiVEqkkugPkq06VTcimzLc8Vk2GkNbnvGkKypECoPiQmjnxEQnUD2ZXkrmyiOsExClPfsa2P/leSjK6kqlOG+KyTbKJVJtmWQKvWEyfYRE1+sOOOJGDRgwscy1GvV00xdf//zFq0pa9R/ag8GA/D0OhqYsHIlMOJhxwsS6xaxNND0yxJQ0ajpdXTQ9f002rTV/ssSlrH//qzSj1ZosHIlFB5osTD1rEo44WEEsczcqK4o2aCpIfTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/70mQAD/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//vSZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+9JkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/70GQAD/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+9JkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/70mQAD/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//vSZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+9JkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/70mQAD/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//vSZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+9JkAA/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/70mQAD/AAAGkAAAAIAAANIAAAAQAAAaQAAAAgAAA0gAAABExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"></audio>
                <audio src="" id="audioPlayback" class="audio audio_player" preload="metadata"></audio>
                <div class="navigation">


                    <button id="play" class="action-btn action-btn-big">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd" />
                        </svg>

                    </button>

                    <input type="range" hidden name="volume" class="player_slider" min="0" max="1" step="0.05" value="1"></input>
                    <div class="progress-container progress-range" id="progress-container">
                        <div class="progress progress-bar" id="progress"></div>
                    </div>

                    <div class="time">
                        <span class="time-elapsed"></span>
                        <span class="time-duration"></span>
                    </div>
                    <button id="speaker_icon" style="margin-right:0; margin-left:0;" class="action-btn speaker">
                        <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.43A4.985 4.985 0 0 1 17 12a4.984 4.984 0 0 1-1.43 3.5m2.794 2.864A8.972 8.972 0 0 0 21 12a8.972 8.972 0 0 0-2.636-6.364M12 6.135v11.73a1 1 0 0 1-1.64.768L6 15H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2l4.36-3.633a1 1 0 0 1 1.64.768Z" />
                        </svg>

                    </button>
                    <button id="removeaudio" class="action-btn action-btn-big">
                        <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6" />
                        </svg>
                    </button>
                </div>
            </div>
            <div id="imageContainer"></div>
            <div id="video-container" style="display: none;">
                <video playsinline src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.webm" id="videoPlayback" class="video video_player" preload="metadata" width="640" height="360"></video>
                <canvas id="thumbnail-canvas" style="display: none;"></canvas>
                <img id="thumbnail" style="width: 100%; height: auto; display: none;" alt="Video Thumbnail">

                <div class="navigation-video">
                    <button id="playvideo" class="action-btn-video action-btn-video-big">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd" />
                        </svg>
                    </button>

                    <input type="range" hidden name="volumevideo" class="player_slider" min="0" max="1" step="0.05" value="1"></input>

                    <div class="progress-video-container-video progress-video-range" id="progress-video-container-video">
                        <div class="progress-video progress-video-bar" id="progress-video"></div>
                    </div>

                    <div class="timevideo">
                        <span style="color: #3263b3 !important;" class="timevideo-elapsed"></span>
                        <span class="timevideo-duration"></span>
                    </div>

                    <button id="speaker_iconvideo" style="margin-right:0; margin-left:0;" class="action-btn-video action-btn-video-big speakervideo">
                        <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.43A4.985 4.985 0 0 1 17 12a4.984 4.984 0 0 1-1.43 3.5m2.794 2.864A8.972 8.972 0 0 0 21 12a8.972 8.972 0 0 0-2.636-6.364M12 6.135v11.73a1 1 0 0 1-1.64.768L6 15H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2l4.36-3.633a1 1 0 0 1 1.64.768Z" />
                        </svg>
                    </button>

                    <button id="removevideo" class="action-btn-video action-btn-video-big">
                        <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6" />
                        </svg>
                    </button>
                </div>
            </div>
            <div class="output-group" style="position: relative;">
                <button onclick="copyEncryptedText()" id="copy" data-title="Copy">
                    <svg aria-hidden="true" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M9 8v3a1 1 0 0 1-1 1H5m11 4h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1v1m4 3v10a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-7.13a1 1 0 0 1 .24-.65L7.7 8.35A1 1 0 0 1 8.46 8H13a1 1 0 0 1 1 1Z" />
                    </svg>
                </button>

                <textarea id="outputText" readonly placeholder="Encrypted text"></textarea>

                <button onclick="downloadTextBtn('outputText')" id="downloadTextBtn" data-title="Download">
                    <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01" />
                    </svg>
                </button>
                <button id="makeCode" data-title="Download QR">
                    <svg width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M4 4h6v6H4V4Zm10 10h6v6h-6v-6Zm0-10h6v6h-6V4Zm-4 10h.01v.01H10V14Zm0 4h.01v.01H10V18Zm-3 2h.01v.01H7V20Zm0-4h.01v.01H7V16Zm-3 2h.01v.01H4V18Zm0-4h.01v.01H4V14Z" />
                        <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M7 7h.01v.01H7V7Zm10 10h.01v.01H17V17Z" />
                    </svg>

                </button>

                <div id="outputTextStatus"></div>
            </div>

            <div style="display: flex; justify-content: center; align-items: center;" id="msg"></div>

            <div style="display: flex; justify-content: space-between; align-items: center;">
                <button id="languageButton">العربية </button> <span style="color: #757474;" id="logo"></span>
                <button id="clearButton">Clear All</button>
            </div>

            <div style="display: flex; justify-content: center; align-items: center;">
                <button class="collapsible" id="collapsible"></button>
            </div>
            <div class="content" id="content">

            </div>
            <footer style="text-align: center; margin-top: 20px;" id="footer"> </footer>
        </div>
        <div id="toastContainer" class="toast-container"></div>

    </div>
    <div id="spinner-container " style="z-index: 1110001; position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%);">
        <span id="spinner"></span>

    </div>
    <div id="customModal" class="modal">
        <div class="modal-content">
            <p id="modalMessage">Are you sure you want to continue?</p>
            <div class="modal-buttons">
                <button id="continueBtn">Continue</button>
                <button id="closeBtn">Close</button>
            </div>
        </div>
    </div>

    <div class="setting-modal-overlay " id="SettingmodalOverlay">
        <div class="setting-modal">
            <div style="text-align: center;">
                <h2>Settings</h2>
                <p>Adjust your preferences here.</p>
            </div>
            <br>

            <div class="checkbox-item">
                <label class="switch">
                    <input type="checkbox" id="checkbaseOutput">
                    <span class="slider"></span>
                </label>
                <label for="checkbaseOutput">Use Base encoding output</label>
            </div>

            <div id="baseOutput" class="hidden">
                <p>Select Base Alphabet</p>
                <select id="alphabetSelect">
                    <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567">Base32</option>
                    <option value="0123456789abcdefghijklmnopqrstuvwxyz">Base36</option>
                    <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz2345789">Base58</option>
                    <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789">Base62</option>
                    <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=">Base64</option>
                    <option value="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!#$%&()*+-;<=>?@[]^_`{|}~">Base85 (ASCII85)</option>
                    <option value="0123456789abcdef">Base16 (Hexadecimal)</option>
                    <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_">Base64 (Filename Safe)</option>
                    <option value="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.">Base64 (URL Safe)</option>
                    <option value="⠁⠂⠃⠄⠅⠆⠇⠈⠉⠊⠋⠌⠍⠎⠏⠐⠑⠒⠓⠔⠕⠖⠗⠘⠙⠚⠛⠜⠝⠞⠟">Base26 (Braille)</option>
                    <option value="._">Base2 (Morse Code)</option>
                    <option value="0123456789">Base9 (Numbers)</option>
                    <option value="+-">Base2 (+-)</option>
                    <option value="⇠⇡⇢⇣">Base2 (Arrows)</option>
                    <option value="ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ">Base24 (Greek Alphabet)</option>
                    <option value="АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ">Base33 (Cyrillic Alphabet)</option>
                    <option value="אבגדהוזחטיכלמנסעפצקרשת">Base22 (Hebrew Alphabet)</option>
                    <option value="أبجدهوزحطيكلمنسعفصقرشتثخذضظغ">Base28 (Arabic Alphabet)</option>
                    <option value="ᏣᎳᎩᎠᎡᎢᎣᎤᎥᎦᎧᎨᎩᎪᎫᎬᎭᎮᎯ">Base18 (Cherokee Alphabet)</option>
                    <option value="ሀሁሂሃሄህሆሇለሉሊላሌልሎ">Base13 (Ge'ez Alphabet)</option>
                    <option value="ᎠᎡᎢᎣᎤᎥᎦᎧᎨᎩᎪᎫᎬᎭᎮᎯ">Base17 (Old Italic Alphabet)</option>
                    <option value="ጰጱጲጳጴጵጶጷጸጹጺጻጼጽጾ">Base15 (Ethiopic Alphabet)</option>
                    <option value="ⰀⰁⰂⰃⰄⰅⰆⰇⰈⰉⰊⰋⰌⰍⰎⰏ">Base16 (Glagolitic Alphabet)</option>
                    <option value="ㄱㄴㄷㄹㅁㅂㅅㅇㅈㅊㅋㅌㅍㅎ">Base14 (Korean Hangul)</option>
                    <option value="あいうえおかきくけこさしすせそ">Base15 (Japanese Hiragana)</option>
                    <option value="アイウエオカキクケコサシスセソ">Base15 (Japanese Katakana)</option>

                    <option value="ᚠᚢᚦᚨᚱᚲᚷᚹᚺᚾᛁᛃᛇᛈᛉᛋᛏᛒᛗᛚ">Base24 (Runes)</option>
                    <option value="〆ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦ">Base37 (Chinese Zhuyin)</option>
                    <option value="ᎠᎡᎢᎣᎤᎥᎦᎧᎨᎩᎪᎫᎬᎭᎮᎯ">Base17 (Old Italic Alphabet)</option>
                    <option value="𐑖𐑗𐑘𐑙𐑚𐑛𐑜𐑝𐑞𐑟𐑠𐑡𐑢𐑣𐑤𐑥𐑦𐑧𐑨𐑩𐑪𐑫𐑬𐑭">Base24 (Shavian Alphabet)</option>
                    <option value="ᏐᏑᏒᏓᏕᏗᏘᏙᏚᏛ">Base10 (Cherokee Numerals)</option>

                </select>

            </div>
            <div style="display: flex; justify-content: space-between;">
                <button class="group-setting-collapse" id="grpupsettingcollapse">
                    Unicode Group Settings
                </button>
                <button id="saveChangesBtn"><svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.414A2 2 0 0 0 20.414 6L18 3.586A2 2 0 0 0 16.586 3H5Zm10 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7V5h8v2a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1Z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>

            <!-- Collapsible Content -->
            <div class="content-group checkbox-container" id="checkboxContainer"></div>
            <div style="text-align: center;">
                <button class="setting-close-btn" id="closeSettingModalBtn">Close</button>
            </div>
        </div>
    </div>

    <div id="modalrecordVideo" class="">
        <button class="recordbutton" id="hiderecordmodal" style="
    color: #fff; 
    position: absolute; 
    right: 10px; /* Adjusts to the right */
    top: 20px; 
    transform: translateY(-50%); 
    z-index: 100000;
  ">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 9-6 6m0-6 6 6m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
        </button>

        <span class="recordbutton" id="timerecordmodal" style="
    color: #fff; 
    position: absolute; 
    left: 10px; /* Adjusts to the right */
    top: 20px; 
    transform: translateY(-50%); 
    z-index: 100000;
  ">
        </span>

        <video id="previewVideo" autoplay playsinline muted></video>
        <video id="recordedvideo" autoplay playsinline style="display: none;"></video>
        <div id="photoContainer">
            <img id="snapshot" alt="Captured photo will appear here">
            <div class="photo-buttons">
                <button id="deletePhoto" class="recordbutton"><svg style="color: red;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z" clip-rule="evenodd" />
                    </svg></button>
                <button id="savePhoto" class="recordbutton"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.414A2 2 0 0 0 20.414 6L18 3.586A2 2 0 0 0 16.586 3H5Zm10 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7V5h8v2a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1Z" clip-rule="evenodd" />
                    </svg></button>
                <button id="downloadPhoto" class="recordbutton"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2m-8 1V4m0 12-4-4m4 4 4-4" />
                    </svg></button>
            </div>
        </div>


        <!-- Recording Controls -->
        <div class="record-controls">
            <button id="takePhoto"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M7.5 4.586A2 2 0 0 1 8.914 4h6.172a2 2 0 0 1 1.414.586L17.914 6H19a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1.086L7.5 4.586ZM10 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd" />
                </svg>
            </button>
            <button class="recordbutton" id="muteBtnrecordVideo"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M5 8a1 1 0 0 1 1 1v3a4.006 4.006 0 0 0 4 4h4a4.006 4.006 0 0 0 4-4V9a1 1 0 1 1 2 0v3.001A6.006 6.006 0 0 1 14.001 18H13v2h2a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h2v-2H9.999A6.006 6.006 0 0 1 4 12.001V9a1 1 0 0 1 1-1Z" clip-rule="evenodd" />
                    <path d="M7 6a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4h-2a4 4 0 0 1-4-4V6Z" />
                </svg>
            </button>
            <button class="recordbutton" id="startBtnrecordVideo"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd" />
                </svg>
            </button>
            <button class="recordbutton" id="pauseBtnrecordVideo" disabled><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z" clip-rule="evenodd" />
                </svg>
            </button>
            <button class="recordbutton" id="stopBtnrecordVideo" disabled><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M7 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H7Z" />
                </svg>
            </button>
            <button class="recordbutton" id="switchCameraBtn"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m16 10 3-3m0 0-3-3m3 3H5v3m3 4-3 3m0 0 3 3m-3-3h14v-3" />
                </svg>
            </button>

        </div>

        <!-- Recorded Video Actions -->
        <div class="video-record-actions">

            <button class="recordbutton" id="saveBtnrecordVideo"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7.414A2 2 0 0 0 20.414 6L18 3.586A2 2 0 0 0 16.586 3H5Zm10 11a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7V5h8v2a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1Z" clip-rule="evenodd" />
                </svg>
            </button>
            <button class="recordbutton" id="deleteBtnrecordVideo"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z" clip-rule="evenodd" />
                </svg>
            </button>
            <button class="recordbutton" id="downloadBtnrecordVideo"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2m-8 1V4m0 12-4-4m4 4 4-4" />
                </svg>
            </button>
        </div>
    </div>



    <script>
        // Hash the password using SHA-256
        function hashPassword(id) {
            const password = document.getElementById(id).value;
            return sha256(password); // Return the promise so it can be used
        }

        // SHA-256 hashing function
        function sha256(text) {
            const encoder = new TextEncoder();
            const data = encoder.encode(text);
            return crypto.subtle.digest('SHA-256', data).then(hashBuffer => {
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                return hashHex;
            });
        }

        // Function to handle setting the password (returns a Promise)
        function setPassword() {
            const password = document.getElementById("passwordInput").value;
            if (password) {
                // Return a promise that resolves with the hashed password
                return hashPassword('passwordInput').then(hashedPassword => {
                    return `${hashedPassword}`;
                });
            } else {
                return Promise.resolve(''); // Return an empty string if no password
            }
        }

        function checkPassword() {
            const password = document.getElementById("passwordInput").value;
            if (password) {
                // Return a promise that resolves with the hashed password
                return hashPassword('passwordInput').then(hashedPassword => {
                    return `${hashedPassword}`;
                });
            } else {
                return Promise.resolve(''); // Return an empty string if no password
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            const baseOutputDiv = document.getElementById('baseOutput');
            const checkbaseOutput = document.getElementById('checkbaseOutput');

            const useBaseOutput = localStorage.getItem('useBaseOutput');
            if (useBaseOutput === 'true') {
                checkbaseOutput.checked = true;
                baseOutputDiv.classList.remove('hidden');
            }
            checkbaseOutput.addEventListener('change', function() {
                if (checkbaseOutput.checked) {
                    // Save checkbox state in localStorage
                    localStorage.setItem('useBaseOutput', 'true');
                    // Show the baseOutput div
                    baseOutputDiv.classList.remove('hidden');
                } else {
                    // Save checkbox state in localStorage
                    localStorage.setItem('useBaseOutput', 'false');
                    // Hide the baseOutput div
                    baseOutputDiv.classList.add('hidden');
                }
            });
        });

        const themeToggleButton = document.getElementById('theme-toggle');
        const themeElements = document.querySelectorAll('#passwordInput, select, .navigation, .btn-action, .character-grid, .character, input, textarea, body, .container, .setting-modal, .toast, .modal-content, video-container, #characterContainer, .collapsible, .toast-container, .content');

        // SVG icons for light and dark mode
        const lightIcon = `
<svg width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 21a9 9 0 0 1-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 0 0 9 9c.239 0 .254.018.488 0A9.004 9.004 0 0 1 12 21Z"/>
</svg>

`;

        const darkIcon = `
<svg width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5V3m0 18v-2M7.05 7.05 5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636 16.95 7.05M16 12a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/>
</svg>

`;

        // Function to toggle between themes
        function toggleTheme() {
            themeElements.forEach(element => {
                element.classList.toggle('dark');
                element.classList.toggle('light');
            });

            const isDarkMode = themeElements[0].classList.contains('dark');
            themeToggleButton.innerHTML = isDarkMode ? darkIcon : lightIcon;
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            const allElements = document.querySelectorAll('.character, .input-number, .toast, #passwordInput');
            const savedTheme = localStorage.getItem('theme') || 'light';
            const metaThemeColor = document.querySelector('meta[name="theme-color"]');
            metaThemeColor.setAttribute('content', isDarkMode ? '#192734' : '#f4f4f4');
            allElements.forEach(element => {
                element.classList.add(savedTheme);
                element.classList.remove(savedTheme === 'dark' ? 'light' : 'dark');
            });
        }

        // Load user's preferred theme on page load
        window.onload = () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            themeElements.forEach(element => {
                element.classList.add(savedTheme);
                element.classList.remove(savedTheme === 'dark' ? 'light' : 'dark');
            });
            themeToggleButton.innerHTML = savedTheme === 'dark' ? darkIcon : lightIcon;
        };

        // Add click event listener to the button
        themeToggleButton.addEventListener('click', toggleTheme);



        const openSettingModalBtn = document.getElementById('openSettingModalBtn');
        const closeSettingModalBtn = document.getElementById('closeSettingModalBtn');
        const SettingmodalOverlay = document.getElementById('SettingmodalOverlay');

        // Open Modal on Button Click
        openSettingModalBtn.addEventListener('click', () => {
            SettingmodalOverlay.style.display = 'block';
        });

        // Close Modal on Button Click
        closeSettingModalBtn.addEventListener('click', () => {
            SettingmodalOverlay.style.display = 'none';
        });

        // Close Modal by Clicking Outside the Modal
        SettingmodalOverlay.addEventListener('click', (e) => {
            if (e.target === SettingmodalOverlay) {
                SettingmodalOverlay.style.display = 'none';
            }
        });



        function calculateStats(text) {
            const bytes = new Blob([text]).size;
            return {
                characters: text.length,
                size: bytes,
            };
        }

        function displayStats(elementId, text) {
            const stats = calculateStats(text);
            const statsElement = document.getElementById(elementId);
            statsElement.innerHTML = `<span style="color: #3263b3; padding: 10px;bottom: 3px; position: absolute; background-color: rgba(0, 0, 0, 0.05); border-radius: 0 8px 0 8px; ">
${shortenLargeNumber(stats.size)}</span>`;
        }



        // onblur event: Triggers when the input loses focus
        document.getElementById('inputText').onblur = function() {
            displayStats('charCount', document.getElementById('inputText').value);
        };

        // onkeyup event: Triggers whenever a key is released
        document.getElementById('inputText').onkeyup = function() {
            displayStats('charCount', document.getElementById('inputText').value);
        };

        function typeText(text, elementId, speed = 100) {
            let i = 0;
            const element = document.getElementById(elementId);
            element.innerHTML = ''; // Clear any previous text

            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    // Clear the text after typing is finished
                    setTimeout(() => {
                        element.innerHTML = ''; // Clear the text
                    }, 2000); // Adjust the delay before clearing the text (2000 ms)
                }
            }

            type();
        }

        function showModal(message) {
            return new Promise((resolve) => {
                // Get modal elements
                const modal = document.getElementById("customModal");
                const modalMessage = document.getElementById("modalMessage");
                const continueBtn = document.getElementById("continueBtn");
                const closeBtn = document.getElementById("closeBtn");
                // Set the message in the modal
                modalMessage.innerHTML = message;

                // Show the modal
                modal.style.display = "flex";

                continueBtn.onclick = function() {
                    const password = document.getElementById("passwordInput").value;
                    if (password === "") {
                        showToast(`Please type your password!`);

                        return;
                    } else {
                        modal.style.display = "none"; // Close the modal
                        resolve(true); // Return true when "Continue" is clicked
                    }

                };

                // Close button event
                closeBtn.onclick = function() {
                    modal.style.display = "none"; // Close the modal
                    resolve(false); // Return false when "Close" is clicked
                };
            });
        }


        function disableAllButtons() {

            const buttons = document.querySelectorAll("button");

            // Loop through each button and set its disabled property to true
            buttons.forEach(button => {
                button.disabled = true;
            });
        }

        // Function to enable all buttons
        function enableAllButtons() {
            const buttons = document.querySelectorAll("button");
            buttons.forEach(button => {
                button.disabled = false;
            });
        }


        function swapText() {
            disableAllButtons();
            const progressBar = document.getElementById('progressBar');
            const estimatedTimeDisplay = document.getElementById('estimatedTime');
            const spinner = document.getElementById('spinner');

            document.getElementById('progressBarContainer').style.display = 'block';
            spinner.style.display = 'block';
            document.body.classList.add('loading');

            setTimeout(() => {
                const inputText = document.getElementById('inputText').value;
                const outputText = document.getElementById('outputText').value;

                // Swap text immediately to improve perceived performance
                document.getElementById('inputText').value = outputText;
                document.getElementById('outputText').value = inputText;



                // Worker code as a string
                const workerCode = `
        self.onmessage = function(e) {
            const { inputText, outputText } = e.data;
            const totalSteps = Math.max(inputText.length, outputText.length);
            let progress = 0;

            // Process in chunks to avoid blocking
            for (let i = 0; i < totalSteps; i += 1000) {
                // Simulate processing with slice (chunk-based)
                const chunkSize = Math.min(1000, totalSteps - i);

                // Optional: Simulate light work on each chunk
                const chunk1 = inputText.slice(i, i + chunkSize);
                const chunk2 = outputText.slice(i, i + chunkSize);

                // Periodically send progress updates
                progress = Math.floor(((i + chunkSize) / totalSteps) * 100);
                if (progress % 5 === 0) { // Only update every 5% to reduce overhead
                    self.postMessage({ progress });
                }
            }

            // Notify completion
            self.postMessage({ finished: true });
        };
    `;

                // Create and start the Web Worker
                const blob = new Blob([workerCode], {
                    type: 'application/javascript'
                });
                const worker = new Worker(URL.createObjectURL(blob));

                worker.onmessage = function(e) {
                    if (e.data.progress !== undefined) {
                        const progress = e.data.progress;
                        progressBar.style.width = `${progress}%`;
                        progressBar.innerText = `${progress}%`;
                    }

                    if (e.data.finished) {
                        // Cleanup and reset UI
                        spinner.style.display = 'none';
                        document.getElementById('progressBarContainer').style.display = 'none';
                        document.body.classList.remove('loading');
                        enableAllButtons();
                        estimatedTimeDisplay.innerText = '';

                        // Perform post-swap checks
                        checkifaudio();
                        checkifimage();
                        checkifvideo('outputText');
                    }
                };

                // Start the worker with input and output text
                worker.postMessage({
                    inputText,
                    outputText
                });

                // Display the character count of inputText
                displayStats('charCount', document.getElementById('inputText').value);
                displayStats('outputTextStatus', document.getElementById('outputText').value);
            }, 100);
        }




        document.getElementById('increaseCycle').addEventListener('click', function() {
            const cycleInput = document.getElementById('cycleCount');
            let currentValue = parseInt(cycleInput.value, 10);
            if (currentValue < 100000000) {
                cycleInput.value = currentValue + 1;
            }
        });

        document.getElementById('decreaseCycle').addEventListener('click', function() {
            const cycleInput = document.getElementById('cycleCount');
            let currentValue = parseInt(cycleInput.value, 10);
            if (currentValue > 1) {
                cycleInput.value = currentValue - 1;
            }
        });

        let currentLanguage = navigator.language.startsWith('ar') ? 'ar' : 'en'; // Default to Arabic if device language is Arabic

        document.addEventListener("DOMContentLoaded", function() {
            const collapsible = document.querySelector(".collapsible");
            const content = document.querySelector(".content");

            // Set initial text for the collapsible button
            collapsible.textContent = currentLanguage === 'ar' ? 'كيف تعمل؟' : 'How it works?';

            collapsible.addEventListener("click", function() {
                // Toggle between hiding and showing the content
                content.style.display = content.style.display === "block" ? "none" : "block";

                // Update text based on the content's display state
                collapsible.textContent = content.style.display === "block" ? (currentLanguage === 'ar' ? 'إغلاق القسم' : 'Close Section') : (currentLanguage === 'ar' ? 'كيف تعمل؟' : 'How it works?');
            });
        });


        document.querySelectorAll('.remove-button').forEach(button => {
            button.addEventListener('mouseenter', function() {
                const tooltip = document.getElementById('tooltip');

                tooltip.innerText = getTranslation("remove");
                tooltip.style.display = 'block';
                const rect = this.getBoundingClientRect();
                tooltip.style.left = `${rect.left + window.scrollX + (rect.width / 2) - (tooltip.offsetWidth / 2)}px`;
                tooltip.style.top = `${rect.top + window.scrollY - tooltip.offsetHeight - 5}px`;

            });

            button.addEventListener('mouseleave', function() {
                const tooltip = document.getElementById('tooltip');
                tooltip.style.display = 'none';
            });
        });

        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('mouseenter', function() {
                const tooltip = document.getElementById('tooltip');
                const title = this.getAttribute('data-title');
                if (title) {
                    tooltip.innerText = this.getAttribute('data-title');
                    tooltip.style.display = 'block';
                    const rect = this.getBoundingClientRect();
                    tooltip.style.left = `${rect.left + window.scrollX + (rect.width / 2) - (tooltip.offsetWidth / 2)}px`;
                    tooltip.style.top = `${rect.top + window.scrollY - tooltip.offsetHeight - 5}px`;
                    setTimeout(() => {
                        tooltip.style.display = 'none';
                    }, 3000);
                }
            });

            button.addEventListener('mouseleave', function() {
                const tooltip = document.getElementById('tooltip');
                tooltip.style.display = 'none';
            });
        });

        document.getElementById("clearButton").addEventListener("click", clearInputs);
        document.getElementById("clearAll").addEventListener("click", clearInputs);

        function clearInputs() {
            disableAllButtons();
            document.getElementById("charCount").innerHTML = '';
            const inputs = document.querySelectorAll('input, textarea');
            document.querySelector(".input-wrapper").innerHTML = '';
            inputs.forEach(input => {
                input.value = ''; // Clear the value of each input/textarea
            });
            for (let i = 0; i < 6; i++) {
                addNumberInput();
            }
            document.getElementById("cycleCount").value = 10;

            const audioElements = document.querySelectorAll('audio');
            audioElements.forEach(audioElement => {
                audioElement.src = '';
                document.getElementById('music-container').style.display = 'none';
            });
            const imageElements = document.querySelectorAll('img');
            imageElements.forEach(imageElement => {
                imageElement.src = '';
                imageElement.style.display = 'none';
            });
            const videoElements = document.querySelectorAll('video');
            videoElements.forEach(videoElement => {
                videoElement.src = '';
                videoElement.style.display = 'none';
            });
            document.getElementById('imageContainer').innerHTML = '';
            enableAllButtons();
        }


        function attachRemoveListeners() {
            const removeButtons = document.querySelectorAll(".remove-button");
            removeButtons.forEach(button => {
                button.addEventListener("click", function() {
                    const inputItem = this.closest(".input-item"); // Get the closest parent input item
                    if (inputItem) {
                        inputItem.remove(); // Remove the input item
                    }
                });
            });
        }
        attachRemoveListeners();

        let encryptionArray = [];

        const unicodeGroups = [{
                name: 'Basic Latin',
                start: 33,
                end: 127
            },
            {
                name: 'Latin-1 Supplement',
                start: 128,
                end: 255
            },
            {
                name: 'Latin Extended-A',
                start: 256,
                end: 383
            },
            {
                name: 'Latin Extended-B',
                start: 384,
                end: 591
            },
            {
                name: 'IPA Extensions',
                start: 592,
                end: 687
            },
            {
                name: 'Greek and Coptic',
                start: 880,
                end: 1023
            },
            {
                name: 'Cyrillic',
                start: 1024,
                end: 1279
            },
            {
                name: 'Arabic',
                start: 1536,
                end: 1791
            },
            {
                name: 'Hebrew',
                start: 1424,
                end: 1535
            },
            {
                name: 'Devanagari',
                start: 2304,
                end: 2431
            },
            {
                name: 'Bengali',
                start: 2432,
                end: 2559
            },
            {
                name: 'Gurmukhi',
                start: 2560,
                end: 2687
            },
            {
                name: 'Gujarati',
                start: 2688,
                end: 2815
            },
            {
                name: 'Oriya',
                start: 2816,
                end: 2943
            },
            {
                name: 'Tamil',
                start: 2944,
                end: 3071
            },
            {
                name: 'Telugu',
                start: 3072,
                end: 3199
            },
            {
                name: 'Kannada',
                start: 3200,
                end: 3327
            },
            {
                name: 'Malayalam',
                start: 3328,
                end: 3455
            },
            {
                name: 'Thai',
                start: 3584,
                end: 3711
            },
            {
                name: 'Lao',
                start: 3712,
                end: 3839
            },
            {
                name: 'Tibetan',
                start: 3840,
                end: 4095
            },
            {
                name: 'Georgian',
                start: 4256,
                end: 4351
            },
            {
                name: 'Hangul Jamo',
                start: 4352,
                end: 4607
            },
            {
                name: 'Latin Extended Additional',
                start: 7680,
                end: 7935
            },
            {
                name: 'Greek Extended',
                start: 7936,
                end: 8191
            },
            {
                name: 'General Punctuation',
                start: 8192,
                end: 8303
            },
            {
                name: 'Superscripts and Subscripts',
                start: 8304,
                end: 8351
            },
            {
                name: 'Currency Symbols',
                start: 8352,
                end: 8399
            },
            {
                name: 'Combining Diacritical Marks',
                start: 8400,
                end: 8447
            },
            {
                name: 'Letterlike Symbols',
                start: 8448,
                end: 8527
            },
            {
                name: 'Number Forms',
                start: 8528,
                end: 8591
            },
            {
                name: 'Arrows',
                start: 8592,
                end: 8703
            },
            {
                name: 'Mathematical Operators',
                start: 8704,
                end: 8959
            },
            {
                name: 'Miscellaneous Technical',
                start: 8960,
                end: 9215
            },
            {
                name: 'Control Pictures',
                start: 9216,
                end: 9279
            },
            {
                name: 'Optical Character Recognition',
                start: 9280,
                end: 9311
            },
            {
                name: 'Enclosed Alphanumerics',
                start: 9312,
                end: 9471
            },
            {
                name: 'Box Drawing',
                start: 9472,
                end: 9599
            },
            {
                name: 'Block Elements',
                start: 9600,
                end: 9631
            },
            {
                name: 'Geometric Shapes',
                start: 9632,
                end: 9727
            },
            {
                name: 'Miscellaneous Symbols',
                start: 9728,
                end: 9983
            },
            {
                name: 'Dingbats',
                start: 9984,
                end: 10175
            },
            {
                name: 'Braille Patterns',
                start: 10240,
                end: 10495
            },
            {
                name: 'CJK Symbols and Punctuation',
                start: 12288,
                end: 12351
            },
            {
                name: 'Hiragana',
                start: 12352,
                end: 12447
            },
            {
                name: 'Katakana',
                start: 12448,
                end: 12543
            },
            {
                name: 'Bopomofo',
                start: 12544,
                end: 12591
            },
            {
                name: 'Hangul Compatibility Jamo',
                start: 12592,
                end: 12687
            },
            {
                name: 'Phonetic Extensions',
                start: 12704,
                end: 12735
            },
            {
                name: 'Enclosed CJK Letters and Months',
                start: 12800,
                end: 13055
            },
            {
                name: 'CJK Compatibility',
                start: 13056,
                end: 13311
            },
            {
                name: 'CJK Unified Ideographs',
                start: 19968,
                end: 40959
            },
            {
                name: 'Hangul Syllables',
                start: 44032,
                end: 55215
            },
            {
                name: 'Private Use Area',
                start: 57344,
                end: 63743
            },
            {
                name: 'CJK Compatibility Ideographs',
                start: 63744,
                end: 64255
            },
            {
                name: 'Alphabetic Presentation Forms',
                start: 64256,
                end: 64335
            },
            {
                name: 'Arabic Presentation Forms-A',
                start: 64336,
                end: 65023
            },
            {
                name: 'Variation Selectors',
                start: 65024,
                end: 65039
            },
            {
                name: 'Combining Half Marks',
                start: 65056,
                end: 65071
            },
            {
                name: 'CJK Compatibility Forms',
                start: 65072,
                end: 65103
            },
            {
                name: 'Small Form Variants',
                start: 65104,
                end: 65135
            },
            {
                name: 'Arabic Presentation Forms-B',
                start: 65136,
                end: 65279
            },
            {
                name: 'Halfwidth and Fullwidth Forms',
                start: 65280,
                end: 65519
            },
            {
                name: 'Specials',
                start: 65520,
                end: 65535
            },
            {
                name: 'Linear B Syllabary',
                start: 65536,
                end: 65663
            },
            {
                name: 'Linear B Ideograms',
                start: 65664,
                end: 65791
            },
            {
                name: 'Aegean Numbers',
                start: 65792,
                end: 65855
            },
            {
                name: 'Ancient Greek Numbers',
                start: 65856,
                end: 65935
            },
            {
                name: 'Ancient Symbols',
                start: 65936,
                end: 65999
            },
            {
                name: 'Phaistos Disc',
                start: 66000,
                end: 66047
            },
            {
                name: 'Lycian',
                start: 66176,
                end: 66207
            },
            {
                name: 'Carian',
                start: 66208,
                end: 66271
            },
            {
                name: 'Coptic Epact Numbers',
                start: 66272,
                end: 66303
            },
            {
                name: 'Old Italic',
                start: 66304,
                end: 66351
            },
            {
                name: 'Gothic',
                start: 66352,
                end: 66383
            },
            {
                name: 'Old Permic',
                start: 66384,
                end: 66431
            },
            {
                name: 'Ugaritic',
                start: 66432,
                end: 66463
            },
            {
                name: 'Old Persian',
                start: 66464,
                end: 66527
            },
            {
                name: 'Deseret',
                start: 66560,
                end: 66639
            },
            {
                name: 'Shavian',
                start: 66640,
                end: 66687
            },
            {
                name: 'Osmanya',
                start: 66688,
                end: 66735
            },
            {
                name: 'Cypriot Syllabary',
                start: 67584,
                end: 67647
            },
            {
                name: 'Imperial Aramaic',
                start: 67648,
                end: 67679
            },
            {
                name: 'Phoenician',
                start: 67840,
                end: 67871
            },
            {
                name: 'Lydian',
                start: 67872,
                end: 67903
            },
            {
                name: 'Meroitic Hieroglyphs',
                start: 67968,
                end: 67999
            },
            {
                name: 'Meroitic Cursive',
                start: 68000,
                end: 68095
            },
            {
                name: 'Kharoshthi',
                start: 68096,
                end: 68191
            },
            {
                name: 'Old South Arabian',
                start: 68192,
                end: 68223
            },
            {
                name: 'Avestan',
                start: 68352,
                end: 68415
            },
            {
                name: 'Inscriptional Parthian',
                start: 68416,
                end: 68447
            },
            {
                name: 'Inscriptional Pahlavi',
                start: 68448,
                end: 68479
            },
            {
                name: 'Old Turkic',
                start: 68608,
                end: 68687
            },
            {
                name: 'Rumi Numeral Symbols',
                start: 69216,
                end: 69247
            },
            {
                name: 'Brahmi',
                start: 69632,
                end: 69759
            },
            {
                name: 'Kaithi',
                start: 69760,
                end: 69839
            },
            {
                name: 'Sora Sompeng',
                start: 69840,
                end: 69887
            },
            {
                name: 'Chakma',
                start: 69888,
                end: 69967
            },
            {
                name: 'Sharada',
                start: 70016,
                end: 70111
            },
            {
                name: 'Sinhala Archaic Numbers',
                start: 70112,
                end: 70143
            },
            {
                name: 'Khojki',
                start: 70144,
                end: 70223
            },
            {
                name: 'Multani',
                start: 70272,
                end: 70319
            },
            {
                name: 'Khudawadi',
                start: 70320,
                end: 70399
            },
            {
                name: 'Grantha',
                start: 70400,
                end: 70527
            },
            {
                name: 'Newa',
                start: 70656,
                end: 70783
            },
            {
                name: 'Tirhuta',
                start: 70784,
                end: 70879
            },
            {
                name: 'Siddham',
                start: 71040,
                end: 71167
            },
            {
                name: 'Modi',
                start: 71168,
                end: 71263
            },
            {
                name: 'Mongolian Supplement',
                start: 71264,
                end: 71295
            },
            {
                name: 'Takri',
                start: 71296,
                end: 71375
            },
            {
                name: 'Ahom',
                start: 71424,
                end: 71503
            },
            {
                name: 'Warang Citi',
                start: 71840,
                end: 71935
            },
            {
                name: 'Pau Cin Hau',
                start: 72384,
                end: 72447
            },
            {
                name: 'Bhaiksuki',
                start: 72704,
                end: 72815
            },
            {
                name: 'Marchen',
                start: 72816,
                end: 72895
            },
            {
                name: 'Masaram Gondi',
                start: 72960,
                end: 73055
            },
            {
                name: 'Cuneiform',
                start: 73728,
                end: 74751
            },
            {
                name: 'Cuneiform Numbers and Punctuation',
                start: 74752,
                end: 74879
            },
            {
                name: 'Early Dynastic Cuneiform',
                start: 74880,
                end: 75087
            },
            {
                name: 'Egyptian Hieroglyphs',
                start: 77824,
                end: 78895
            },
            {
                name: 'Anatolian Hieroglyphs',
                start: 82944,
                end: 83583
            },
            {
                name: 'Bamum Supplement',
                start: 92160,
                end: 92735
            },
            {
                name: 'Mro',
                start: 92736,
                end: 92783
            },
            {
                name: 'Tangsa',
                start: 92784,
                end: 92879
            },
            {
                name: 'Bassa Vah',
                start: 92880,
                end: 92927
            },
            {
                name: 'Pahawh Hmong',
                start: 92928,
                end: 93071
            },
            {
                name: 'Medefaidrin',
                start: 93760,
                end: 93855
            },
            {
                name: 'Old Sogdian',
                start: 69376,
                end: 69423
            },
            {
                name: 'Sogdian',
                start: 69424,
                end: 69487
            },
            {
                name: 'Old Uyghur',
                start: 69488,
                end: 69551
            },
            {
                name: 'Chorasmian',
                start: 69552,
                end: 69631
            },
            {
                name: 'Yezidi',
                start: 69248,
                end: 69279
            },
            {
                name: 'Old Hungarian',
                start: 68736,
                end: 68863
            },
            {
                name: 'Hanifi Rohingya',
                start: 68864,
                end: 68927
            },
            {
                name: 'Adlam',
                start: 125184,
                end: 125279
            },
            {
                name: 'Other',
                start: 125280,
                end: 144300
            }
        ];

        const checkboxContainer = document.getElementById('checkboxContainer');
        const collapseGroupsButton = document.getElementById('grpupsettingcollapse');
        const contentgroup = document.querySelector('.content-group');

        // Load checkboxes from unicode groups and mark them as saved in localStorage
        function loadCheckboxes() {
            addSelectRemoveSwitches();
            const selectedGroups = JSON.parse(localStorage.getItem('selectedGroups')) || [];

            // Separate selected and unselected groups
            const selected = unicodeGroups.filter(group => selectedGroups.includes(group.name));
            const unselected = unicodeGroups.filter(group => !selectedGroups.includes(group.name));

            // Merge selected and unselected groups
            const sortedGroups = [...selected, ...unselected];

            // Create checkboxes for each group
            sortedGroups.forEach(group => {
                const checkboxItem = document.createElement('div');
                checkboxItem.className = 'checkbox-item';

                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.id = group.name;
                checkbox.value = JSON.stringify(group);
                checkbox.checked = selectedGroups.includes(group.name); // Load from local storage

                const label = document.createElement('label');
                label.htmlFor = group.name;
                label.textContent = group.name;

                const switchContainer = document.createElement('label');
                switchContainer.className = 'switch';
                switchContainer.appendChild(checkbox);

                const slider = document.createElement('span');
                slider.className = 'slider';
                switchContainer.appendChild(slider);

                checkboxItem.appendChild(switchContainer);
                checkboxItem.appendChild(label);
                checkboxContainer.appendChild(checkboxItem);
            });

            // Add Select All and Remove All switches
        }


        // Function to save selected Unicode groups
        function saveChanges() {
            let selectedGroups = [];
            let Groups = [];
            const checkboxes = checkboxContainer.querySelectorAll('input[type="checkbox"]');

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    selectedGroups.push(checkbox.id);
                    Groups.push(JSON.parse(checkbox.value)); // Store as objects, not strings
                }
            });
            if (selectedGroups.length !== 0) {
                showToast('Changes were saved successfully!.');
            }
            if (selectedGroups.length === 0) {
                showToast('Please select at least one group.');
                return;
            }

            localStorage.setItem('selectedGroups', JSON.stringify(selectedGroups));
            localStorage.setItem('Groups', JSON.stringify(Groups));
            checkboxContainer.innerHTML = '';
            loadCheckboxes();
        }



        // Add Select All and Remove All switches
        function addSelectRemoveSwitches() {
            const selectAllContainer = document.createElement('div');

            selectAllContainer.className = 'checkbox-item';

            // Select All Switch
            const selectAllCheckbox = document.createElement('input');
            selectAllCheckbox.type = 'checkbox';
            selectAllCheckbox.value = '{"name":"All","start":33,"end":144300}';
            selectAllCheckbox.id = 'selectAll';
            selectAllCheckbox.addEventListener('change', () => {
                const checkboxes = checkboxContainer.querySelectorAll('input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = selectAllCheckbox.checked;
                });

            });

            const selectAllLabel = document.createElement('label');
            selectAllLabel.htmlFor = 'selectAll';
            selectAllLabel.textContent = 'Select All';

            const selectAllSwitchContainer = document.createElement('label');
            selectAllSwitchContainer.className = 'switch';
            selectAllSwitchContainer.appendChild(selectAllCheckbox);
            selectAllSwitchContainer.appendChild(document.createElement('span')).className = 'slider';

            selectAllContainer.appendChild(selectAllSwitchContainer);
            selectAllContainer.appendChild(selectAllLabel);
            checkboxContainer.appendChild(selectAllContainer);

        }

        // Toggle the visibility of the collapsible content
        collapseGroupsButton.addEventListener('click', () => {
            contentgroup.style.display = contentgroup.style.display === 'none' ? 'block' : 'none';
        });

        // Attach the save function to the button


        // Load the checkboxes when the document is ready
        document.addEventListener('DOMContentLoaded', () => {
            loadCheckboxes();
            const btn = document.getElementById('saveChangesBtn');

            btn.addEventListener('click', saveChanges);
            contentgroup.style.display = 'none'; // Initially hide the collapsible content 
        });




        function generateEncryptionArray() {

            disableAllButtons();
            const inputs = document.querySelectorAll(".input-number");
            const arrayLength = inputs.length;
            encryptionArray = [];
            const storedGroups = JSON.parse(localStorage.getItem('Groups')) || unicodeGroups;

            // Select a random unicode group
            const randomUnicodeGroup = storedGroups[Math.floor(Math.random() * storedGroups.length)];

            // Generate characters within the selected group range
            const characters = [];
            for (let i = randomUnicodeGroup.start; i <= randomUnicodeGroup.end; i++) {
                characters.push(String.fromCharCode(i));
            }

            // Fill encryptionArray with random characters from the selected group
            for (let i = 0; i < arrayLength; i++) {
                const randomIndex = Math.floor(Math.random() * characters.length);
                encryptionArray.push(characters[randomIndex]);
            }

            updateEncryptionArrayInputs(encryptionArray);
            enableAllButtons();

        }

        function updateEncryptionArrayInputs(array) {
            const container = document.getElementById("encryptionArrayContainer");
            const inputWrapper = container.querySelector(".input-wrapper");
            inputWrapper.innerHTML = ''; // Clear existing inputs

            array.forEach(num => {
                const inputItem = document.createElement("div");
                inputItem.className = "input-item";

                const inputContainer = document.createElement("div");
                inputContainer.className = "input-container";

                const input = document.createElement("input");
                input.type = "text";
                input.className = "input-number";
                input.placeholder = "";
                const currentTheme = localStorage.getItem('theme') || 'light';
                input.classList.add(currentTheme);
                input.value = num;

                const removeButton = document.createElement("button");
                removeButton.className = "remove-button";
                if (currentLanguage === 'ar') {
                    removeButton.style.left = "0";
                    removeButton.style.right = ""; // Clear right style if set
                } else {
                    removeButton.style.right = "0";
                    removeButton.style.left = ""; // Clear left style if set
                }
                removeButton.innerHTML = "&times;"; // Remove symbol

                inputContainer.appendChild(input);
                inputContainer.appendChild(removeButton);
                inputItem.appendChild(inputContainer);
                inputWrapper.appendChild(inputItem);
            });

            attachInputListeners(); // Reattach input listeners after updating
            attachRemoveListeners(); // Attach remove listeners to new buttons
        }

        function attachInputListeners() {
            const numberInputs = document.querySelectorAll(".input-number");
            numberInputs.forEach((input, index) => {
                input.addEventListener("input", function() {
                    if (this.value.length > 0 && !isNaN(this.value)) {
                        const nextInput = numberInputs[index + 1];
                        if (nextInput) {
                            nextInput.focus();
                        }
                    }
                });
            });
        }

        function addNumberInput() {
            disableAllButtons();
            const inputWrapper = document.querySelector(".input-wrapper");
            const inputItem = document.createElement("div");
            inputItem.className = "input-item";

            const inputContainer = document.createElement("div");
            inputContainer.className = "input-container";

            const input = document.createElement("input");
            input.type = "text";
            input.className = "input-number";
            input.placeholder = "";
            const currentTheme = localStorage.getItem('theme') || 'light';
            input.classList.add(currentTheme);
            const removeButton = document.createElement("button");
            removeButton.className = "remove-button";

            if (currentLanguage === 'ar') {
                removeButton.style.left = "0";
                removeButton.style.right = ""; // Clear right style if set
            } else {
                removeButton.style.right = "0";
                removeButton.style.left = ""; // Clear left style if set
            }
            removeButton.innerHTML = "&times;"; // Remove symbol

            inputContainer.appendChild(input);
            inputContainer.appendChild(removeButton);
            inputItem.appendChild(inputContainer);
            inputWrapper.appendChild(inputItem);

            attachInputListeners(); // Reattach input listeners for the new input
            attachRemoveListeners(); // Attach remove listeners to the new button
            enableAllButtons();
        }

        function getEncryptionArray() {
            const inputs = document.querySelectorAll(".input-number");
            encryptionArray = Array.from(inputs).map(input => input.value.trim()); // Get values directly and trim whitespace
            return encryptionArray;
        }




        // Helper function to format the time into seconds, minutes, or hours as needed
        function formatTime(timeInMs) {
            const timeInSeconds = timeInMs / 1000;
            const secondsInMinute = 60;
            const secondsInHour = 60 * 60;

            if (timeInSeconds < secondsInMinute) {
                return `${timeInSeconds.toFixed(2)} seconds`;
            } else if (timeInSeconds < secondsInHour) {
                const minutes = Math.floor(timeInSeconds / secondsInMinute);
                const seconds = (timeInSeconds % secondsInMinute).toFixed(2);
                return `${minutes} minute(s) and ${seconds} second(s)`;
            } else {
                const hours = Math.floor(timeInSeconds / secondsInHour);
                const minutes = Math.floor((timeInSeconds % secondsInHour) / secondsInMinute);
                return `${hours} hour(s) and ${minutes} minute(s)`;
            }
        }

        function encryptDecryptCycle(e, t, n) {
            document.getElementById("containerMagic").style.display = "none", document.getElementById("spinner").style.display = "block";
            const r = document.getElementById("progressBar");
            r.innerHTML = "", r.style.width = 0;
            const o = document.getElementById("estimatedTime");
            return disableAllButtons(), new Promise((c => {
                const s = performance.now(),
                    i = t;
                setTimeout((() => {
                    let t = e;
                    const a = new Blob(["\n                self.onmessage = function(e) {\n                    const { text, cycles, isEncryptFirst, encryptionArray } = e.data;\n                    let resultText = text;\n\n                    for (let i = 0; i < cycles; i++) {\n                        if (isEncryptFirst) {\n                            resultText = encrypt(resultText, encryptionArray);\n                        } else {\n                            resultText = decrypt(resultText, encryptionArray);\n                        }\n\n                        // Send progress update\n                        const progress = Math.floor(((i + 1) / cycles) * 100);\n                        self.postMessage({ progress });\n                    }\n\n                    // Final result after all cycles\n                    self.postMessage({ resultText });\n                };\n\n                function encrypt(text, encryptionArray) {\n                    let encryptedText = '';\n                    for (let i = 0; i < text.length; i++) {\n                        let charCode = text.charCodeAt(i);\n                        let encryptionChar = encryptionArray[i % encryptionArray.length];\n                        let offset = typeof encryptionChar === 'string' ? encryptionChar.charCodeAt(0) : encryptionChar;\n                        encryptedText += String.fromCharCode(charCode + offset);\n                    }\n                    return encryptedText;\n                }\n\n                function decrypt(encryptedText, encryptionArray) {\n                    let decryptedText = '';\n                    for (let i = 0; i < encryptedText.length; i++) {\n                        let charCode = encryptedText.charCodeAt(i);\n                        let decryptionChar = encryptionArray[i % encryptionArray.length];\n                        let offset = typeof decryptionChar === 'string' ? decryptionChar.charCodeAt(0) : decryptionChar;\n                        decryptedText += String.fromCharCode(charCode - offset);\n                    }\n                    return decryptedText;\n                }\n            "], {
                            type: "application/javascript"
                        }),
                        y = new Worker(URL.createObjectURL(a));
                    y.onmessage = function(e) {
                        if (document.getElementById("progressBarContainer").style.display = "block", void 0 !== e.data.resultText) {
                            const t = e.data.resultText,
                                n = performance.now(),
                                r = formatTime(n - s);
                            document.getElementById("outputText").value = t, document.getElementById("containerMagic").style.display = "block", document.getElementById("spinner").style.display = "none", c({
                                resultText: t,
                                formattedTime: r
                            })
                        } else if (void 0 !== e.data.progress) {
                            const t = e.data.progress;
                            r && (r.style.width = t + "%", r.innerText = t + "%");
                            const n = performance.now() - s,
                                c = i,
                                a = Math.floor(t / 100 * c);
                            let y = 0;
                            a > 0 && (y = n / a * c);
                            const l = y - n,
                                p = formatRemainingTime(Math.max(l, 0));
                            o.innerText = `Estimated time remaining: ${p}`
                        }
                        enableAllButtons();

                    }, y.postMessage({
                        text: t,
                        cycles: i,
                        isEncryptFirst: n,
                        encryptionArray: getEncryptionArray()
                    })
                }), 300)
            }))
        }

        // Helper function to format remaining time in hours, minutes, and seconds
        function formatRemainingTime(milliseconds) {
            const totalSeconds = Math.ceil(milliseconds / 1000);
            const weeks = Math.floor(totalSeconds / (60 * 60 * 24 * 7));
            const days = Math.floor((totalSeconds % (60 * 60 * 24 * 7)) / (60 * 60 * 24));
            const hours = Math.floor((totalSeconds % (60 * 60 * 24)) / (60 * 60));
            const minutes = Math.floor((totalSeconds % (60 * 60)) / 60);
            const seconds = totalSeconds % 60;

            const formattedTime = [];
            if (weeks > 0) formattedTime.push(`${weeks} week${weeks > 1 ? 's' : ''}`);
            if (days > 0) formattedTime.push(`${days} day${days > 1 ? 's' : ''}`);
            if (hours > 0) formattedTime.push(`${hours} hour${hours > 1 ? 's' : ''}`);
            if (minutes > 0) formattedTime.push(`${minutes} minute${minutes > 1 ? 's' : ''}`);
            formattedTime.push(`${seconds} second${seconds > 1 ? 's' : ''}`);

            return formattedTime.join(', ');
        }


        function toBase64(text) {
            try {
                const minifiedText = text.replace(/\s+/g, ' ').trim();
                return window.btoa(unescape(encodeURIComponent(minifiedText)));
            } catch (error) {
                return text;
            }
        }

        function fromBase64(text) {
            try {
                return decodeURIComponent(escape(window.atob(text.replace(/\s+/g, ' ').trim())));
            } catch (error) {
                return text;
            }
        }


        // General Base Encoding/Decoding Library
        const baseEncodeDecode = (alphabet) => {
            const base = alphabet.length;

            const Library = {
                encode: (text) => {
                    let output = '';
                    let binary = '';

                    // Convert text to binary string
                    for (let i = 0; i < text.length; i++) {
                        binary += text.charCodeAt(i).toString(2).padStart(8, '0');
                    }


                    const chunkSize = base === 64 ? 6 : Math.ceil(Math.log(base));
                    for (let i = 0; i < binary.length; i += chunkSize) {
                        const chunk = binary.substring(i, i + chunkSize).padEnd(chunkSize, '0');
                        const index = parseInt(chunk, 2);
                        output += alphabet[index]; // Append the corresponding character from the alphabet
                    }

                    // Handle padding for Base64 and Base32
                    if (base === 64) {
                        const padding = (4 - (output.length % 4)) % 4;
                        return output.padEnd(output.length + padding, '=');
                    } else if (base === 32) {
                        const padding = (8 - (output.length % 8)) % 8;
                        return output.padEnd(output.length + padding, '=');
                    }

                    return output;
                },

                decode: (text) => {
                    let binary = '';
                    text = text.replace(/=/g, ''); // Remove padding

                    // Split based on base
                    const chunkSize = base === 64 ? 6 : Math.ceil(Math.log(base));
                    for (let i = 0; i < text.length; i++) {
                        const index = alphabet.indexOf(text[i]);
                        if (index === -1) throw new Error('Invalid Base character');
                        binary += index.toString(2).padStart(chunkSize, '0'); // Convert to binary based on chunk size
                    }

                    // Convert binary string to text
                    let output = '';
                    for (let i = 0; i < binary.length; i += 8) {
                        const chunk = binary.substring(i, i + 8);
                        if (chunk.length === 8) {
                            output += String.fromCharCode(parseInt(chunk, 2));
                        }
                    }

                    return output;
                }
            };

            return Library;
        };

        let baseAlphabet = '';
        let base = baseEncodeDecode(baseAlphabet);

        const alphabetSelect = document.getElementById('alphabetSelect');
        // Load user preference from localStorage
        const savedAlphabet = localStorage.getItem('baseAlphabet');
        if (savedAlphabet) {
            alphabetSelect.value = savedAlphabet;
            baseAlphabet = savedAlphabet; // Set the saved alphabet
            base = baseEncodeDecode(baseAlphabet); // Reinitialize the base with the new alphabet
        } else {
            localStorage.setItem('baseAlphabet', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567');
        }
        // Save the selected alphabet in localStorage
        alphabetSelect.addEventListener('change', () => {
            baseAlphabet = alphabetSelect.value; // Update baseAlphabet
            const Alphabet = alphabetSelect.options[alphabetSelect.selectedIndex].text; // Get the selected option text
            localStorage.setItem('baseAlphabet', baseAlphabet); // Save in localStorage
            base = baseEncodeDecode(baseAlphabet); // Reinitialize the base with the new alphabet
            showToast("Reinitialize the base with the new alphabet: " + Alphabet);
        });

        function toBase(text) {
            try {

                return base.encode(unescape(encodeURIComponent(text)));
            } catch (error) {
                console.error("Base encoding failed:", error);
                return text;
            }
        }

        // Base32 Decoding: Handle errors gracefully
        function fromBase(text) {
            try {
                return decodeURIComponent(escape(base.decode(text)));
            } catch (error) {
                console.error("Base decoding failed:", error);
                return text;
            }
        }



        function encryptText() {
            const inputText = document.getElementById("inputText").value;
            const cycles = parseInt(document.getElementById("cycleCount").value, 10);

            if (inputText.length === 0) {
                showToast(getTranslation("typeText"));
                return;
            }

            const inputs = document.querySelectorAll(".input-number");
            let allFilled = true; // Flag to check if all inputs are filled

            inputs.forEach(input => {
                if (input.value.length === 0) {
                    allFilled = false; // Set flag to false if any input is empty
                    input.classList.add('empty-input'); // Add class to highlight empty input

                } else {
                    input.classList.remove('empty-input'); // Remove highlight if input is filled
                }
            });

            if (!allFilled) {
                showToast(`Please fill in the all fields!`);
                return;
            }

            const EncryptTimes = EncryptionTimes();
            const proceedWithEncryption = () => {
                toggleChars();
                getEncryptionArray();

                encryptDecryptCycle(inputText, cycles, true).then(({
                    resultText,
                    formattedTime
                }) => {
                    let encodedText = '';
                    if (checkbaseOutput.checked) {
                        encodedText = toBase(resultText);
                    } else {
                        encodedText = resultText;
                    }
                    let hashedPassword = '';
                    setPassword().then(hashPassword => {
                        hashedPassword = hashPassword;
                        document.getElementById("outputText").value = encodedText + toBase('[psw][true]') + toBase(hashedPassword);
                    });

                    showToast(`The total number of encryption operations is <b>${calculateEncryptionTimes()}</b>, and running in ${formattedTime}.`);
                    setTimeout(() => {
                        document.getElementById('progressBar').innerHTML = '';
                        document.getElementById('estimatedTime').innerHTML = '';
                        document.getElementById('progressBarContainer').style.display = 'none';
                        document.getElementById('progressBar').style.width = 0;
                        displayStats('outputTextStatus', document.getElementById('outputText').value);
                    }, 1000);
                });
            };

            showModal(`The total number of encryption operations is <b>${calculateEncryptionTimes()}</b><br>Do you want to proceed with this action?
    <br><br>
    <input type="password" id="passwordInput" placeholder="Type password" size="50">`)
                .then((result) => {
                    if (result) proceedWithEncryption(); // Continue if user agrees
                });
            const currentTheme = localStorage.getItem('theme') || 'light';
            document.getElementById('passwordInput').classList.add(currentTheme);
        }



        function decryptText() {
            let inputText = '';
            let decodedText = document.getElementById("inputText").value;

            const marker = toBase("[psw][true]"); // Marker is base encoded
            const markerIndex = decodedText.indexOf(marker);

            if (markerIndex === -1) {
                showToast('Malformed Input.');
                return;
            }

            // Extract the part before the marker and the password hash part after the marker
            const encryptedPart = decodedText.substring(0, markerIndex); // Text before the password
            const extractedPasswordHash = decodedText.substring(markerIndex + marker.length); // Hashed password after the marker

            // Decide how to handle the text depending on the checkbox
            if (checkbaseOutput.checked) {
                // Decode the entire part before the marker
                inputText = fromBase(encryptedPart);
            } else {
                // When unchecked, the part before the marker remains as is
                inputText = encryptedPart;
            }

            const cycles = parseInt(document.getElementById("cycleCount").value, 10);
            if (decodedText.length === 0) {
                showToast(getTranslation("typeText"));
                return;
            }

            const inputs = document.querySelectorAll(".input-number"); // Select all input-number elements
            let allFilled = true; // Flag to check if all inputs are filled

            inputs.forEach(input => {
                if (input.value.length === 0) {
                    allFilled = false; // Set flag to false if any input is empty
                    input.classList.add('empty-input');
                } else {
                    input.classList.remove('empty-input'); // Remove highlight if input is filled
                }
            });

            if (!allFilled) {
                showToast(`Please fill in all fields!`);
                return;
            }

            const proceedWithDecryption = () => {
                // Compare the password only if the marker was found
                if (markerIndex !== -1) {
                    checkPassword().then(hashedPassword => {
                        // Compare the base-encoded hashed password with the extracted password hash
                        const encodedHashedPassword = toBase(hashedPassword); // Ensure it's base-encoded
                        if (encodedHashedPassword === extractedPasswordHash) {
                            // Password is correct, proceed with decryption
                            toggleChars();
                            getEncryptionArray();

                            encryptDecryptCycle(inputText, cycles, false).then(({
                                resultText,
                                formattedTime
                            }) => {
                                document.getElementById("outputText").value = resultText;

                                showToast(`The total number of decryption operations is <b>${calculateEncryptionTimes()}</b>, and running in ${formattedTime}.`);

                                setTimeout(() => {
                                    checkifaudio();
                                    checkifimage();
                                    checkifvideo('outputText');
                                    displayStats('outputTextStatus', document.getElementById('outputText').value);
                                }, 100);

                                setTimeout(() => {
                                    document.getElementById('progressBar').innerHTML = '';
                                    document.getElementById('estimatedTime').innerHTML = '';
                                    document.getElementById('progressBarContainer').style.display = 'none';
                                    document.getElementById('progressBar').style.width = '0%';
                                }, 1000);
                            });
                        } else {
                            showToast('Incorrect Password!');
                        }
                    });
                } else {
                    showToast('No password found in the text.');
                }
            };

            showModal(`The total number of decryption operations is <b>${calculateEncryptionTimes()}</b><br>Do you want to proceed with this action?
        <br><br>
    <input class="light" type="password" id="passwordInput" placeholder="Type password" size="50">`)
                .then((result) => {
                    if (result) proceedWithDecryption(); // Continue if user agrees
                });

            const currentTheme = localStorage.getItem('theme') || 'light';
            document.getElementById('passwordInput').classList.add(currentTheme);
        }




        function estimateEncryptionTime(cycles) {
            // Define the average time taken per cycle in milliseconds
            const timePerCycle = 30;

            // Calculate total time in milliseconds
            const totalTime = cycles * timePerCycle;

            // Convert total time to seconds
            let timeInSeconds = totalTime / 1000;

            // Define time thresholds
            const secondsInMinute = 60;
            const secondsInHour = 60 * 60;
            const secondsInDay = 24 * 60 * 60;

            // Format time into seconds, minutes, hours, or days
            if (timeInSeconds < secondsInMinute) {
                return `${timeInSeconds.toFixed(2)} seconds`;
            } else if (timeInSeconds < secondsInHour) {
                const minutes = Math.floor(timeInSeconds / secondsInMinute);
                const seconds = (timeInSeconds % secondsInMinute).toFixed(2);
                return `${minutes} minute(s) and ${seconds} second(s)`;
            } else if (timeInSeconds < secondsInDay) {
                const hours = Math.floor(timeInSeconds / secondsInHour);
                const minutes = Math.floor((timeInSeconds % secondsInHour) / secondsInMinute);
                return `${hours} hour(s) and ${minutes} minute(s)`;
            } else {
                const days = Math.floor(timeInSeconds / secondsInDay);
                const hours = Math.floor((timeInSeconds % secondsInDay) / secondsInHour);
                return `${days} day(s) and ${hours} hour(s)`;
            }
        }

        function shortenLargeNumber(num) {
            const units = ["", "K", "M", "B", "T", "Q"]; // Suffixes for thousand, million, billion, trillion, quadrillion
            let unitIndex = 0;

            // Loop through each unit and divide the number until it's below 1000, then assign the corresponding unit
            while (num >= 1000 && unitIndex < units.length - 1) {
                num /= 1000;
                unitIndex++;
            }


            return num.toFixed(2) + units[unitIndex];

        }

        // Function to calculate the mathematical formula for encryption cycles
        function calculateEncryptionTimes() {
            let inputTextLength = document.getElementById("inputText").value.length;
            let encryptionArrayLength = encryptionArray.length;
            const cycleCount = parseInt(document.getElementById("cycleCount").value, 10); // Get the number of cycles
            let encryptionLength; // Declare encryptionLength without initializing it

            // Ensure inputTextLength is not greater than encryptionArrayLength
            if (inputTextLength < encryptionArrayLength) {
                encryptionLength = 1; // Set to 1 if inputTextLength exceeds encryptionArrayLength
            } else {
                encryptionLength = encryptionArrayLength; // Otherwise, use the actual encryption array length
            }

            if (isNaN(cycleCount) || cycleCount <= 0) {
                // Handle invalid or zero cycle count
                return 0;
            }

            // Calculate the total encryption times based on text length, array length, and cycle count
            return shortenLargeNumber(Math.ceil(inputTextLength * encryptionLength * cycleCount));
        }

        function EncryptionTimes() {
            let inputTextLength = document.getElementById("inputText").value.length;
            let encryptionArrayLength = encryptionArray.length;
            const cycleCount = parseInt(document.getElementById("cycleCount").value, 10); // Get the number of cycles
            let encryptionLength; // Declare encryptionLength without initializing it

            // Ensure inputTextLength is not greater than encryptionArrayLength
            if (inputTextLength < encryptionArrayLength) {
                encryptionLength = 1; // Set to 1 if inputTextLength exceeds encryptionArrayLength
            } else {
                encryptionLength = encryptionArrayLength; // Otherwise, use the actual encryption array length
            }

            if (isNaN(cycleCount) || cycleCount <= 0) {
                // Handle invalid or zero cycle count
                return 0;
            }

            // Calculate the total encryption times based on text length, array length, and cycle count
            return Math.ceil(inputTextLength * encryptionLength * cycleCount);
        }

        function copyEncryptedText() {
            const encryptedText = document.getElementById("outputText");

            // Disable all buttons
            disableAllButtons();

            // Show spinner
            const spinner = document.getElementById('spinner');
            spinner.style.display = 'block';

            // Create a temporary input element to copy the text
            const tempInput = document.createElement('input');
            tempInput.value = encryptedText.value;
            document.body.appendChild(tempInput);
            tempInput.select();

            // Try to copy the text
            const successful = document.execCommand('copy');

            // Clean up the temporary input element
            document.body.removeChild(tempInput);

            // Show a toast notification
            if (successful) {
                showToast(getTranslation("done"));
            } else {
                showToast(getTranslation("copyError"));
            }

            // Hide the spinner and re-enable buttons
            spinner.style.display = 'none';
            enableAllButtons();
        }

        function pasteText() {
            const encryptedText = document.getElementById("inputText");

            // Disable all buttons
            disableAllButtons();

            // Show spinner
            const spinner = document.getElementById('spinner');
            spinner.style.display = 'block';

            navigator.clipboard.readText()
                .then(text => {
                    encryptedText.value = text; // Set the pasted text into the input field
                    showToast("paste Success"); // Optional: show success message
                })
                .catch(err => {
                    showToast(getTranslation("clipboardError"));
                })
                .finally(() => {
                    // Hide the spinner and re-enable buttons
                    spinner.style.display = 'none';
                    enableAllButtons();
                });
        }


        function pastefrequency() {
            disableAllButtons();
            const encryptedText = document.getElementById("cycleCount");
            navigator.clipboard.readText()
                .then(text => {
                    encryptedText.value = text; // Set the pasted text into the input field

                })
                .catch(err => {
                    showToast(getTranslation("clipboardError"));
                });
            enableAllButtons();
        }

        function copyfrequency() {
            disableAllButtons();
            const encryptedText = document.getElementById("cycleCount");
            encryptedText.select();
            document.execCommand("copy");
            showToast(getTranslation("done"));
            enableAllButtons();
        }


        function copyNumbers() {
            disableAllButtons();
            const inputs = document.querySelectorAll(".input-number");
            const numbers = Array.from(inputs).map(input => input.value).join(', ');
            navigator.clipboard.writeText(numbers)
                .then(() => showToast(getTranslation("done")))
                .catch(err => showToast(err));
            enableAllButtons();
        }

        function pasteNumbers() {
            disableAllButtons();
            navigator.clipboard.readText().then(text => {
                const inputWrapper = document.getElementById("input-wrapper"); // Ensure this ID matches your HTML
                const values = text.split(',').map(value => value.trim()); // Split by comma and trim whitespace
                const currentInputs = inputWrapper.querySelectorAll(".input-item");
                const currentCount = currentInputs.length;
                const pastedCount = values.length;

                if (pastedCount > currentCount) {
                    for (let i = currentCount; i < pastedCount; i++) {
                        const inputItem = document.createElement("div");
                        inputItem.className = "input-item";

                        const inputContainer = document.createElement("div");
                        inputContainer.className = "input-container";

                        const input = document.createElement("input");
                        input.type = "text";
                        input.className = "input-number";
                        input.placeholder = "";
                        const currentTheme = localStorage.getItem('theme') || 'light';
                        input.classList.add(currentTheme);

                        const removeButton = document.createElement("button");
                        removeButton.className = "remove-button";
                        removeButton.innerHTML = "&times;"; // Remove symbol

                        if (currentLanguage === 'ar') {
                            removeButton.style.left = "0";
                            removeButton.style.right = ""; // Clear right style if set
                        } else {
                            removeButton.style.right = "0";
                            removeButton.style.left = ""; // Clear left style if set
                        }
                        inputContainer.appendChild(input);
                        inputContainer.appendChild(removeButton);
                        inputItem.appendChild(inputContainer);
                        inputWrapper.appendChild(inputItem);
                    }
                    attachInputListeners(); // Reattach input listeners for new inputs
                    attachRemoveListeners(); // Attach remove listeners to new buttons
                }

                const inputsUpdate = inputWrapper.querySelectorAll(".input-number");
                inputsUpdate.forEach((input, index) => {
                    if (values[index] !== undefined) {
                        input.value = values[index]; // Assign the pasted value
                    } else {
                        input.value = ''; // Clear any remaining inputs if there are fewer values
                    }
                });
            }).catch(err => {
                showToast(err);

            });
            enableAllButtons();
        }


        const translations = {
            en: {
                typeCode: "Type your code!",
                typeText: "Type your text!",
                done: "Done",
                clipboardError: "Failed to read clipboard contents: ",
                inputPlaceholder: "Type text here",
                outputPlaceholder: "Encrypted text",
                newCrpty: "Clear All",
                remove: "Remove",
                generateEncryptionArray: "Generate Encryption",
                addNumberInput: "Add feild",
                copyNumbers: "Copy token",
                pasteNumbers: "Paste token",
                encryptText: "Encrypt Text",
                decryptText: "Decrypt Text",
                copy: "Copy",
                paste: "Paste",
                logo: "",
                swapText: "Swap Text",
                clearAll: "Clear All Inputs",
                copyFrequency: "Copy Frequency",
                pasteFrequency: "Paste Frequency"
            },
            ar: {
                typeCode: "اكتب الرمز الخاص بك!",
                typeText: "اكتب نصك!",
                done: "تم",
                clipboardError: "فشل في قراءة محتويات الحافظة: ",
                inputPlaceholder: "اكتب النص هنا",
                outputPlaceholder: "نص مشفر",
                newCrpty: "مسح الكل",
                remove: "حذف",
                generateEncryptionArray: "إنشاء رمز تشفير",
                addNumberInput: "إضافة حقل",
                copyNumbers: "نسخ الرمز",
                pasteNumbers: "لصق الرمز",
                encryptText: "تشفير النص",
                decryptText: "فك تشفير النص",
                copy: "نسخ",
                paste: "لصق",
                logo: "",
                swapText: "تبديل النص",
                clearAll: "مسح جميع المدخلات,",
                copyFrequency: "نسخ التردد",
                pasteFrequency: "لصق التردد"
            }
        };

        // Get translation function
        function getTranslation(key) {
            return translations[currentLanguage][key];
        }

        // Update translations in the UI
        function updateTranslations() {
            disableAllButtons();
            const alerts = document.querySelectorAll('[data-translate]');
            alerts.forEach(alert => {
                const key = alert.getAttribute('data-translate');
                document.getElementById("msg").textContent = getTranslation(key);
                setTimeout(() => {
                    document.getElementById("msg").textContent = '';
                }, 10000);
            });

            // Update textarea placeholders
            document.getElementById("inputText").placeholder = getTranslation("inputPlaceholder");
            document.getElementById("outputText").placeholder = getTranslation("outputPlaceholder");
            document.getElementById("clearButton").textContent = getTranslation("newCrpty");
            document.getElementById("logo").textContent = getTranslation("logo");
            document.getElementById("generateEncryptionArray").setAttribute('data-title', getTranslation("generateEncryptionArray"));
            document.getElementById("addNumberInput").setAttribute('data-title', getTranslation("addNumberInput"));
            document.getElementById("copyNumbers").setAttribute('data-title', getTranslation("copyNumbers"));
            document.getElementById("pasteNumbers").setAttribute('data-title', getTranslation("pasteNumbers"));
            document.getElementById("encryptText").setAttribute('data-title', getTranslation("encryptText"));
            document.getElementById("decryptText").setAttribute('data-title', getTranslation("decryptText"));
            document.getElementById("copy").setAttribute('data-title', getTranslation("copy"));
            document.getElementById("paste").setAttribute('data-title', getTranslation("paste"));
            document.getElementById("swapText").setAttribute('data-title', getTranslation("swapText"));
            document.getElementById("clearAll").setAttribute('data-title', getTranslation("clearAll"));
            document.getElementById("copyFrequency").setAttribute('data-title', getTranslation("copyFrequency"));
            document.getElementById("pasteFrequency").setAttribute('data-title', getTranslation("pasteFrequency"));
            enableAllButtons();
        }


        // Switch language function
        function switchLanguage() {
            // Toggle current language
            currentLanguage = currentLanguage === 'en' ? 'ar' : 'en';

            // Update button text based on the current language
            updateButtonLanguage();

            // Update translations in the UI
            updateTranslations();
        }

        // Update button language text
        function updateButtonLanguage() {
            disableAllButtons();
            const languageText = currentLanguage === 'ar' ? 'English' : 'العربية';
            document.getElementById("languageButton").innerHTML = languageText;
            // Set text direction based on the language
            document.documentElement.setAttribute('dir', currentLanguage === 'ar' ? 'rtl' : 'ltr');
            const collapsible = document.getElementById("collapsible");
            const footer = document.getElementById("footer");
            const currentYear = new Date().getFullYear(); // Get the current year

            footer.innerHTML = currentLanguage === 'ar' ?
                `<p style="font-size: 14px; color: #757474;">&copy; ${currentYear} Tughra. جميع الحقوق محفوظة.</p>` :
                `<p style="font-size: 14px; color: #757474;">&copy; ${currentYear} Tughra. All rights reserved.</p>`;

            const isContentVisible = document.querySelector(".content").style.display === "block";
            collapsible.textContent = isContentVisible ? (currentLanguage === 'ar' ? 'إغلاق القسم' : 'Close Section') : (currentLanguage === 'ar' ? 'كيف تعمل؟' : 'How it works?');
            // Update button positions
            const positionStyle = currentLanguage === 'ar' ? 'left: 0;' : 'right: 0;';
            const positionStyles = currentLanguage === 'ar' ? 'left: 40px;' : 'right: 40px;';
            const extractQRCode = currentLanguage === 'ar' ? 'left: 80px;' : 'right: 80px;';
            const charCount = currentLanguage === 'ar' ? 'right: 0;' : 'left: 0;';
            document.getElementById("copy").setAttribute('style', `position: absolute; ${positionStyle} z-index: 10;`);
            document.getElementById("paste").setAttribute('style', `position: absolute; ${positionStyle} z-index: 10;`);
            document.getElementById("togglerecordBtn").setAttribute('style', `bottom: 3px; position: absolute; ${positionStyle} z-index: 10;`);
            document.getElementById("downloadTextBtn").setAttribute('style', `bottom: 3px; position: absolute; ${positionStyle} z-index: 10;`);
            document.getElementById("makeCode").setAttribute('style', `bottom: 3px; position: absolute; ${positionStyles} z-index: 10;`);
            document.getElementById("uploadTextBtn").setAttribute('style', `bottom: 3px; position: absolute; ${positionStyles} z-index: 10;`);
            document.getElementById("extractQRCode").setAttribute('style', `bottom: 3px; position: absolute; ${extractQRCode} z-index: 10;`);
            document.getElementById("charCount").setAttribute('style', ` ${charCount} z-index: 10;`);
            const openmodalrecordVideoBtnrecordVideo = currentLanguage === 'ar' ? 'left: 40px;' : 'right: 40px;';
            document.getElementById("openmodalrecordVideoBtnrecordVideo").setAttribute('style', `position: absolute; ${openmodalrecordVideoBtnrecordVideo} z-index: 10;`);
            // Adjust remove buttons
            const removeButtons = document.querySelectorAll('.remove-button');
            removeButtons.forEach(button => {
                button.style.position = "absolute";
                button.style[currentLanguage === 'ar' ? 'left' : 'right'] = "0";
                button.style[currentLanguage === 'ar' ? 'right' : 'left'] = ""; // Clear the opposite style
            });
            if (currentLanguage === 'ar') {
                document.getElementById('content').innerHTML = `
            
            <div>
                <h1>دليل المستخدم لأداة التشفير وإدارة المدخلات</h1>
    <p>سيساعدك هذا الدليل على فهم كيفية استخدام الميزات المتاحة في أداة التشفير وإدارة المدخلات. فيما يلي الوظائف وكيفية استخدامها بشكل فعال.</p>

    <h2>جدول المحتويات</h2>
    <ol>
        <li><a href="#clearing-inputs">مسح المدخلات</a></li>
        <li><a href="#adding-number-inputs">إضافة حقول مدخلات رقمية</a></li>
        <li><a href="#encrypting-and-decrypting-text">تشفير النص وفك التشفير</a></li>
        <li><a href="#copying-and-pasting">النسخ واللصق</a></li>
        <li><a href="#switching-languages">تبديل اللغات</a></li>
    </ol>

    <h2 id="clearing-inputs">مسح المدخلات</h2>
    <p>
        <strong>الوظيفة:</strong> تعمل هذه الميزة على مسح جميع حقول المدخلات وإعادة تعيين منطقة الإدخال.<br>
        <strong>كيفية الاستخدام:</strong><br>
        1. انقر على زر <strong>"مسح"</strong>.<br>
        2. سيتم تفريغ جميع حقول النص، وسيتم إنشاء ستة حقول إدخال جديدة تلقائيًا.
    </p>

    <h2 id="adding-number-inputs">إضافة حقول مدخلات رقمية</h2>
    <p>
        <strong>الوظيفة:</strong> تتيح للمستخدمين إضافة حقول إدخال إضافية بشكل ديناميكي.<br>
        <strong>كيفية الاستخدام:</strong><br>
        1. يحتوي كل حقل إدخال على زر <strong>إزالة</strong> (×) بجواره.<br>
        2. انقر على زر <strong>"إضافة حقل"</strong> لإضافة حقل إدخال رقمي جديد.<br>
        3. يمكنك إزالة أي حقل إدخال بالنقر على زر الإزالة بجواره.
    </p>

    <h2 id="encrypting-and-decrypting-text">تشفير النص وفك التشفير</h2>
    <p>
        <strong>الوظيفة:</strong> تقوم بتشفير النص وفك تشفيره باستخدام مصفوفة تشفير مولدة.<br>
        <strong>كيفية الاستخدام:</strong><br>
        1. <strong>تشفير النص:</strong><br>
        - اكتب النص الذي تريد تشفيره في منطقة الإدخال المخصصة.<br>
        - انقر على زر <strong>"تشفير النص"</strong>.<br>
        - سيظهر النص المشفر في حقل الإخراج.<br>
        2. <strong>فك تشفير النص:</strong><br>
        - اكتب أو ألصق النص المشفر في منطقة الإدخال.<br>
        - انقر على زر <strong>"فك تشفير النص"</strong>.<br>
        - سيتم عرض النص الأصلي في حقل الإخراج.<br>
        3. <strong>ملاحظة:</strong> إذا لم يتم تعيين قيم التشفير، ستظهر رسالة تطلب منك إدخالها.
    </p>

    <h2 id="copying-and-pasting">النسخ واللصق</h2>
    <p>
        <strong>الوظيفة:</strong> تتيح لك نسخ النص المشفر أو الأرقام المدخلة ولصقها عند الحاجة.<br>
        <strong>كيفية الاستخدام:</strong><br>
        1. <strong>نسخ النص المشفر:</strong><br>
        - بعد التشفير، انقر على زر <strong>"نسخ"</strong> لنسخ النص المشفر إلى الحافظة.<br>
        2. <strong>لصق النص:</strong><br>
        - انقر على زر <strong>"لصق"</strong> للصق أي نص قمت بنسخه في منطقة الإدخال.<br>
        3. <strong>نسخ الأرقام:</strong><br>
        - انقر على زر <strong>"نسخ الرمز"</strong> لنسخ جميع الأرقام المدخلة.<br>
        4. <strong>لصق الأرقام:</strong><br>
        - انقر على زر <strong>"لصق الرمز"</strong> للصق الأرقام من الحافظة في حقول الإدخال.
    </p>

    <h2 id="switching-languages">تبديل اللغات</h2>
    <p>
        <strong>الوظيفة:</strong> تغيير لغة واجهة المستخدم بين الإنجليزية والعربية.<br>
        <strong>كيفية الاستخدام:</strong><br>
        1. انقر على زر <strong>اللغة</strong> للتبديل بين الإنجليزية والعربية.<br>
        2. سيتم تحديث جميع العناوين، الرسائل، والحقول وفقًا للغة المختارة.
    </p>

    <h2>ملاحظات إضافية</h2>
    <p>
        تدعم الأداة التفاعل الديناميكي، مما يعني أن حقول الإدخال والإجراءات سيتم تحديثها في الوقت الفعلي بناءً على تفاعلات المستخدم.<br>
        ستوجهك رسائل الخطأ والتنبيهات خلال الإجراءات المطلوبة، مثل إدخال قيم التشفير.
    </p>
    
    <div>
    <h2>كيفية استخدام التشفير Tughra</h2>
    <p>التشفير <strong>Tughra</strong> هو نظام تشفير يعتمد على استبدال الأحرف بشكل عشوائي باستخدام مجموعة كبيرة من الحقول، ويمكنك تخصيص الحقول وعدد الدورات للتشفير. لضمان الحماية القصوى، اتبع الخطوات التالية:</p>
    
    <h3>الخطوة 1: اختيار الحقول</h3>
    <p>حدد الحقول التي ترغب في استخدامها لتشفير نصك. لديك حرية الاختيار من بين 144,300 حرف ورمز من لغات متعددة حول العالم. كلما زادت تنوع الحقول، زادت قوة التشفير.</p>

    <h3>الخطوة 2: تحديد عدد الدورات</h3>
    <p>اختر عدد الدورات (التردد) التي سيتم فيها تكرار عملية التشفير. يمكنك زيادة أو تقليل هذا العدد حسب رغبتك. كلما زاد عدد الدورات، زادت صعوبة فك التشفير.</p>

    <h3>الخطوة 3: تشفير النص</h3>
    <p>بعد تحديد الحقول وعدد الدورات، قم بإدخال النص أو الملفات التي ترغب في تشفيرها. سيقوم النظام بإنشاء نسخة مشفرة من النص الذي لا يمكن فك تشفيره إلا باستخدام نفس الحقول وعدد الدورات.</p>

    <h3>الخطوة 4: فك التشفير</h3>
    <p>لفك تشفير النص، يجب أن تستخدم نفس الحقول وعدد الدورات التي تم استخدامها في عملية التشفير. بدون هذه المعلومات، لا يمكن إعادة بناء النص الأصلي.</p>

    <h3>ملاحظات مهمة</h3>
    <ul>
        <li>احرص على حفظ الحقول وعدد الدورات بشكل آمن؛ إذا فقدت هذه المعلومات، لن تتمكن من فك التشفير.</li>
        <li>استخدام حقول متنوعة وعدد كبير من الدورات يزيد من صعوبة فك التشفير بشكل كبير، مما يوفر لك حماية أفضل.</li>
        <li>التشفير Tughra يعتمد على العمليات العشوائية، لذلك لا يمكن التنبؤ بالنص المشفر بدون معرفة الحقول الدقيقة وعدد الدورات.</li>
    </ul>
</div>
            </div>
            
                <h1>نظام التشفير Tughra</h1>
    
    
    <p>نظام التشفير Tughra يوفر حماية فائقة من خلال استخدام تقنيات تشفير تعتمد على مفاتيح عشوائية ودورات متعددة من التشفير، مما يجعله مناسبًا للعديد من المجالات والاستخدامات. إليك قائمة شاملة بالمجالات التي يمكن الاستفادة فيها من هذا النظام:</p>

    <div class="toc">
        <h2>المحتويات</h2>
        <a href="#section1">1. حماية البيانات الشخصية</a>
        <a href="#section2">2. تأمين الاتصالات</a>
        <a href="#section3">3. تأمين المحتوى الرقمي</a>
        <a href="#section4">4. التجارة الإلكترونية</a>
        <a href="#section5">5. تأمين التطبيقات والبرمجيات</a>
        <a href="#section6">6. التحقق من الهوية</a>
        <a href="#section7">7. تأمين الأنظمة والشبكات</a>
        <a href="#section8">8. التخزين السحابي</a>
        <a href="#section9">9. حماية البرمجيات</a>
        <a href="#section10">10. حماية البيانات في إنترنت الأشياء (IoT)</a>
        <a href="#section11">11. حماية البيانات المالية</a>
        <a href="#section12">12. التحليل الجنائي الإلكتروني (Digital Forensics)</a>
        <a href="#section13">13. البحث العلمي والأكاديمي</a>
        <a href="#section14">14. التشفير داخل الألعاب الإلكترونية</a>
        <a href="#section15">15. تأمين المؤسسات التعليمية</a>
        <a href="#section16">16. المعاملات القانونية والعقود الإلكترونية</a>
        <a href="#section17">17. أنظمة الحكومة الإلكترونية</a>
        <a href="#section18">18. خدمات البريد الإلكتروني الآمن</a>
        <a href="#section19">19. حماية وسائل الإعلام والمحتوى الصحفي</a>
        <a href="#section20">20. الخدمات اللوجستية وسلاسل التوريد</a>
        <a href="#section21">21. إنشاء عملة مشفرة</a>
        <a href="#section22">22. نظام تصويت إلكتروني آمن</a>
        <a href="#section23">23. الحوسبة السحابية اللامركزية</a>
        <a href="#section24">24. تأمين منصات التجارة الرقمية اللامركزية (DeFi)</a>
        <a href="#section25">25. إدارة حقوق الملكية الرقمية (DRM)</a>
        <a href="#section26">26. تأمين الأنظمة المالية للشركات الكبرى</a>
        <a href="#section27">27. أنظمة إنترنت الأشياء (IoT) المتقدمة</a>
        <a href="#section28">28. أنظمة الجيل القادم للبنية التحتية الرقمية (5G)</a>
        <a href="#section29">29. إدارة الوثائق الحساسة للشركات متعددة الجنسيات</a>
        <a href="#section30">30. نقل البيانات بين الطائرات بدون طيار (Drones)</a>
        <a href="#section31">31. تأمين الاتصالات العسكرية</a>
        <a href="#section32">32. حماية الشبكات الحكومية</a>
        <a href="#section33">33. أنظمة إدارة الأسلحة</a>

        <a href="#section34">34. حماية البيانات في السفر 
</a>
    </div>
    

    <div class="section" id="section1">
        <h2>1. حماية البيانات الشخصية</h2>
        <p>• تشفير السجلات الطبية والبيانات الصحية الحساسة.<br>
        • حماية المعلومات المصرفية مثل أرقام الحسابات وكلمات المرور.<br>
        • تشفير معلومات الهوية الشخصية (مثل جوازات السفر الإلكترونية).</p>
    </div>

    <div class="section" id="section2">
        <h2>2. تأمين الاتصالات</h2>
        <p>• تشفير الرسائل النصية والبريد الإلكتروني.<br>
        • تأمين المكالمات الصوتية والفيديو عبر الإنترنت.<br>
        • حماية المحادثات في تطبيقات المراسلة مثل WhatsApp أو Telegram.</p>
    </div>

    <div class="section" id="section3">
        <h2>3. تأمين المحتوى الرقمي</h2>
        <p>• تشفير الصور والفيديوهات الرقمية لمنع القرصنة.<br>
        • حماية المحتوى الرقمي المدفوع مثل الكتب الإلكترونية أو الأفلام.<br>
        • تأمين ملفات التصميمات والأعمال الإبداعية.</p>
    </div>

    <div class="section" id="section4">
        <h2>4. التجارة الإلكترونية</h2>
        <p>• تشفير بيانات الدفع الإلكترونية، مثل بطاقات الائتمان.<br>
        • حماية بيانات العملاء والصفقات التجارية على الإنترنت.<br>
        • تأمين عمليات الشراء عبر المتاجر الإلكترونية.</p>
    </div>

    <div class="section" id="section5">
        <h2>5. تأمين التطبيقات والبرمجيات</h2>
        <p>• تشفير البيانات داخل التطبيقات المصرفية والتجارية.<br>
        • حماية البيانات المتبادلة بين خوادم التطبيقات والمستخدمين.<br>
        • تأمين المعلومات المخزنة في قواعد بيانات التطبيقات.</p>
    </div>
    
        <div class="section" id="section6">
        <h2>6. التحقق من الهوية</h2>
        <p>• تشفير بيانات الهوية أثناء عملية المصادقة عبر الإنترنت.<br>
        • حماية بصمات الأصابع أو البيانات البيومترية الأخرى.<br>
        • تأمين عملية التحقق من الهوية عبر منصات الدفع الإلكتروني.</p>
    </div>

    <div class="section" id="section7">
        <h2>7. تأمين الأنظمة والشبكات</h2>
        <p>• تشفير البيانات المتبادلة بين الأجهزة داخل الشبكة.<br>
        • حماية الشبكات من الهجمات الإلكترونية مثل البرمجيات الخبيثة.<br>
        • تأمين الاتصالات داخل الشبكات المؤسسية الكبرى.</p>
    </div>

    <div class="section" id="section8">
        <h2>8. التخزين السحابي</h2>
        <p>• تشفير الملفات والمعلومات المخزنة على الخدمات السحابية مثل Google Drive.<br>
        • حماية البيانات أثناء نقلها بين الأجهزة والسحابة.<br>
        • تأمين البيانات السحابية من الاختراقات أو التسريبات.</p>
    </div>

    <div class="section" id="section9">
        <h2>9. حماية البرمجيات</h2>
        <p>• تشفير أكواد البرمجيات لمنع التلاعب أو السرقة.<br>
        • حماية حقوق الملكية الفكرية لبرامج الكمبيوتر والتطبيقات.<br>
        • تأمين التطبيقات البرمجية من الهجمات الخارجية.</p>
    </div>

    <div class="section" id="section10">
        <h2>10. حماية البيانات في إنترنت الأشياء (IoT)</h2>
        <p>• تشفير البيانات المرسلة والمستلمة بين أجهزة إنترنت الأشياء.<br>
        • تأمين أنظمة التحكم الذكية داخل المنازل والشركات.<br>
        • حماية الاتصالات بين أجهزة الاستشعار والمركبات الذكية.</p>
    </div>

    <div class="section" id="section11">
        <h2>11. حماية البيانات المالية</h2>
        <p>• تشفير البيانات المالية المتبادلة بين البنوك والمؤسسات المالية.<br>
        • تأمين عمليات الدفع الإلكترونية والتحويلات البنكية.<br>
        • حماية الحسابات المصرفية عبر الإنترنت من الاختراق.</p>
    </div>

    <div class="section" id="section12">
        <h2>12. التحليل الجنائي الإلكتروني (Digital Forensics)</h2>
        <p>• استخدام التشفير في تأمين الأدلة الرقمية.<br>
        • حماية المعلومات التي يتم جمعها أثناء التحقيقات الجنائية الإلكترونية.<br>
        • تأمين تخزين البيانات الجنائية الحساسة.</p>
    </div>

    <div class="section" id="section13">
        <h2>13. البحث العلمي والأكاديمي</h2>
        <p>• تشفير البيانات والمعلومات البحثية لمنع التلاعب أو السرقة.<br>
        • حماية الأبحاث الأكاديمية والمقالات العلمية من الاختراق.<br>
        • تأمين الاتصال بين الباحثين أثناء مشاركة المعلومات الحساسة.</p>
    </div>

    <div class="section" id="section14">
        <h2>14. التشفير داخل الألعاب الإلكترونية</h2>
        <p>• حماية البيانات الشخصية للاعبين داخل الألعاب.<br>
        • تشفير المعاملات المالية داخل الألعاب الرقمية.<br>
        • تأمين سيرفرات الألعاب من الهجمات الإلكترونية.</p>
    </div>

    <div class="section" id="section15">
        <h2>15. تأمين المؤسسات التعليمية</h2>
        <p>• تشفير المعلومات الحساسة للطلاب مثل السجلات الأكاديمية.<br>
        • تأمين البيانات التي يتم تبادلها عبر منصات التعليم الإلكتروني.<br>
        • حماية الاختبارات الإلكترونية من الغش أو التلاعب.</p>
    </div>

    <div class="section" id="section16">
        <h2>16. المعاملات القانونية والعقود الإلكترونية</h2>
        <p>• تشفير العقود الإلكترونية لضمان نزاهتها.<br>
        • حماية المعلومات القانونية الحساسة بين الأطراف المتعاقدة.<br>
        • تأمين عمليات التوقيع الإلكتروني.</p>
    </div>

    <div class="section" id="section17">
        <h2>17. أنظمة الحكومة الإلكترونية</h2>
        <p>• تشفير البيانات الحكومية الحساسة.<br>
        • حماية السجلات الرسمية الرقمية من التلاعب.<br>
        • تأمين الاتصالات بين مختلف الوكالات الحكومية.</p>
    </div>

    <div class="section" id="section18">
        <h2>18. خدمات البريد الإلكتروني الآمن</h2>
        <p>• تشفير الرسائل الإلكترونية لضمان الخصوصية.<br>
        • حماية المعلومات الحساسة المرسلة عبر البريد الإلكتروني.<br>
        • تأمين الاتصالات بين مزودي خدمات البريد الإلكتروني والمستخدمين.</p>
    </div>

    <div class="section" id="section19">
        <h2>19. حماية وسائل الإعلام والمحتوى الصحفي</h2>
        <p>• تشفير المعلومات الصحفية الحساسة والمقابلات.<br>
        • حماية وسائل الإعلام من الاختراقات والقرصنة.<br>
        • تأمين نقل الأخبار والمعلومات بين الوكالات الصحفية.</p>
    </div>

    <div class="section" id="section20">
        <h2>20. الخدمات اللوجستية وسلاسل التوريد</h2>
        <p>• تشفير البيانات المتعلقة بتتبع الشحنات والبضائع.<br>
        • حماية الاتصالات بين الموردين والموزعين.<br>
        • تأمين المعلومات المتعلقة بسلاسل التوريد العالمية.</p>
    </div>

    <div class="section" id="section21">
        <h2>21. إنشاء عملة مشفرة</h2>
        <p>• استخدام التشفير في بناء أنظمة العملات المشفرة.<br>
        • تأمين المعاملات المالية داخل الشبكات اللامركزية.<br>
        • حماية المحافظ الرقمية من الاختراق.</p>
    </div>

    <div class="section" id="section22">
        <h2>22. نظام تصويت إلكتروني آمن</h2>
        <p>• تشفير بيانات الناخبين لضمان السرية.<br>
        • حماية العملية الانتخابية من التلاعب أو التزوير.<br>
        • تأمين نتائج التصويت الإلكتروني من الاختراق.</p>
    </div>

    <div class="section" id="section23">
        <h2>23. الحوسبة السحابية اللامركزية</h2>
        <p>• تشفير البيانات المخزنة في أنظمة الحوسبة اللامركزية.<br>
                • حماية الاتصالات بين المستخدمين والمنصات اللامركزية.<br>
        • تأمين التطبيقات التي تعمل على الحوسبة السحابية اللامركزية.</p>
    </div>

    <div class="section" id="section24">
        <h2>24. حماية المعلومات الصحية</h2>
        <p>• تشفير السجلات الطبية الحساسة لضمان الخصوصية.<br>
        • حماية الاتصالات بين الأطباء والمستشفيات وشركات التأمين.<br>
        • تأمين البيانات الصحية المتبادلة عبر الإنترنت.</p>
    </div>

    <div class="section" id="section25">
        <h2>25. حماية المراسلات الفورية</h2>
        <p>• تشفير المحادثات على تطبيقات المراسلة الفورية مثل WhatsApp وTelegram.<br>
        • حماية الرسائل المرسلة والمستلمة من الاختراق.<br>
        • تأمين الصور والملفات المرسلة عبر تطبيقات المراسلة.</p>
    </div>

    <div class="section" id="section26">
        <h2>26. حماية البيانات البيئية والمناخية</h2>
        <p>• تشفير البيانات الحساسة حول تغير المناخ والتلوث.<br>
        • حماية الاتصالات بين العلماء والمنظمات البيئية.<br>
        • تأمين البيانات البيئية أثناء تحليلها ومشاركتها.</p>
    </div>

    <div class="section" id="section27">
        <h2>27. حماية بيانات الروبوتات والأنظمة الآلية</h2>
        <p>• تشفير الأوامر والبيانات المرسلة إلى الروبوتات في المصانع.<br>
        • حماية الأنظمة الآلية من الاختراق أو التلاعب.<br>
        • تأمين الاتصالات بين الأنظمة الذكية وأجهزة التحكم.</p>
    </div>

    <div class="section" id="section28">
        <h2>28. التطبيقات الذكية في الزراعة</h2>
        <p>• تشفير البيانات المتعلقة بمراقبة المحاصيل والإنتاج الزراعي.<br>
        • حماية الأنظمة الذكية المستخدمة في الري والتحكم في التربة.<br>
        • تأمين البيانات المتبادلة بين الأجهزة الزراعية المتصلة بالإنترنت.</p>
    </div>

    <div class="section" id="section29">
        <h2>29. تأمين السيارات الذكية</h2>
        <p>• تشفير البيانات المتبادلة بين السيارات الذكية والبنية التحتية.<br>
        • حماية الأنظمة الذاتية القيادة من الهجمات الإلكترونية.<br>
        • تأمين الاتصالات بين المركبات وأنظمة الطرق الذكية.</p>
    </div>

    <div class="section" id="section30">
        <h2>30. التطبيقات العسكرية والأمنية</h2>
        <p>• تشفير الاتصالات بين الأجهزة العسكرية وأنظمة الأمن.<br>
        • حماية البيانات السرية المتعلقة بالعمليات العسكرية.<br>
        • تأمين الأنظمة الحساسة المستخدمة في التحكم عن بعد للمعدات العسكرية.</p>
    </div>
</div>
    <div class="section" id="section31">
        <h2>31. تأمين أنظمة التعليم الإلكتروني</h2>
        <p>• تشفير بيانات الطلاب والأساتذة على منصات التعليم الإلكتروني.<br>
        • حماية الاتصالات بين الجامعات والطلاب عبر الإنترنت.<br>
        • تأمين أنظمة إدارة التعلم (LMS) ضد التهديدات الإلكترونية.</p>
    </div>

    <div class="section" id="section32">
        <h2>32. حماية بيانات الطيران</h2>
        <p>• تشفير البيانات المرسلة بين الطائرات وأبراج التحكم.<br>
        • حماية أنظمة الملاحة والاتصالات الجوية من الهجمات.<br>
        • تأمين البيانات الحساسة المتعلقة بالرحلات الجوية والركاب.</p>
    </div>

    <div class="section" id="section33">
        <h2>33. حماية البيانات المالية</h2>
        <p>• تشفير البيانات المتعلقة بالمعاملات المصرفية عبر الإنترنت.<br>
        • حماية الاتصالات بين البنوك والمؤسسات المالية.<br>
        • تأمين نظم المدفوعات الإلكترونية من الاحتيال والاختراقات.</p>
    </div>

    <div class="section" id="section34">
        <h2>34. حماية البيانات في السفر والسياحة</h2>
        <p>• تشفير البيانات المتعلقة بحجوزات السفر والفنادق عبر الإنترنت.<br>
        • حماية بيانات المسافرين مثل جوازات السفر والمعلومات الشخصية.<br>
        • تأمين الأنظمة الذكية المستخدمة في المطارات والفنادق.</p>
    </div>


            <p>
    Tughra نظام بتطويره يعتمد على عوامل متعددة تجعل عملية فك التشفير صعبة للغاية إذا لم يكن لدى الشخص الحقول المستخدمة (مجموعة الأحرف والرموز) وعدد الدورات (التردد). دعنا نوضح مدى تعقيد عملية فك التشفير:
</p>
<ol>
    <li>
        <strong>الحقول (مجموعة الأحرف):</strong>
        <ul>
            <li>
                إذا كان لديك حوالي 144,300 حرفًا أو رمزًا، وكنت تستخدم مجموعة عشوائية من هذه الأحرف لتشفير النص، فهذا يضيف تعقيدًا كبيرًا. كل حرف في النص الأصلي قد يُستبدل بمجموعة متنوعة من البدائل، وبالتالي سيصعب بشكل كبير إعادة بناء النص الأصلي بدون معرفة الحقول بالضبط.
            </li>
        </ul>
    </li>
    <li>
        <strong>عدد الدورات (التردد):</strong>
        <ul>
            <li>
                إضافة عدد غير ثابت من الدورات يزيد من تعقيد التشفير بشكل كبير. إذا كان التشفير يجري لعدد عشوائي من الدورات، فسيكون لدى الهاكرز عدد لا يحصى من المحاولات لتحديد عدد الدورات الصحيح.
            </li>
        </ul>
    </li>
    <li>
        <strong>هجوم باستخدام القوة العمياء (Brute Force):</strong>
        <ul>
            <li>
                نظريًا، يمكن لأي نظام تشفير أن يتعرض لهجوم باستخدام القوة العمياء (محاولة جميع الاحتمالات الممكنة). ومع ذلك، مع الأخذ بعين الاعتبار عدد الحقول الكبيرة وعدد الدورات المتغيرة، فإن محاولة كل الاحتمالات ستستغرق وقتًا ضخمًا جدًا. كلما زادت الحقول وعدد الدورات، تضاعفت الصعوبة بشكل كبير.
            </li>
        </ul>
    </li>
    <li>
        <strong>تعقيد الحسابات:</strong>
        <ul>
            <li>
                إذا افترضنا أن لديك عددًا غير محدود من الحقول وعدد غير محدود من الدورات، فإن عدد الاحتمالات الممكنة لفك التشفير سيكون هائلًا جدًا بحيث يصعب على أي نظام حاسوبي حديث التعامل معه في فترة زمنية معقولة. بالإضافة إلى ذلك، إذا كانت هذه الحقول غير معروفة، فلن يتمكن الهاكر من القيام بأي محاولة منطقية لفك التشفير، وستصبح العملية مثل محاولة إيجاد إبرة في كومة قش.
            </li>
        </ul>
    </li>
</ol>
<h2>الوقت المتوقع لفك التشفير:</h2>
<p>
    إذا قام الهاكر ببرمجة كود تلقائي لمحاولة فك التشفير باستخدام هجوم القوة العمياء، فإن الوقت المطلوب يعتمد على عدة عوامل، بما في ذلك:
</p>
<ul>
    <li>قوة الحواسيب التي يستخدمها الهاكر.</li>
    <li>عدد الحقول المستخدمة.</li>
    <li>عدد الدورات.</li>
    <li>قوة الخوارزمية العشوائية المستخدمة لتحديد الحقول البديلة.</li>
</ul>
<p>
    كلما زاد عدد الحقول والدورات، فإن الزمن المطلوب سيتزايد بشكل أُسي (Exponential Growth). مع وجود أعداد كبيرة من الحقول والدورات، يمكن أن تصل عملية فك التشفير إلى مليارات أو حتى تريليونات المحاولات، وهذا يعني أن الأمر قد يستغرق آلاف السنين أو أكثر اعتمادًا على قوة الحوسبة المتاحة.
</p>
<h2>خلاصة:</h2>
<p>
    بدون معرفة الحقول بالضبط وعدد الدورات، فإن فك التشفير باستخدام هجوم تلقائي سيكون شبه مستحيل خلال وقت معقول.
</p></div>
`;
            } else {
                document.getElementById('content').innerHTML = `
<div>
    <h1>User Guide for Encryption and Input Management Tool</h1> 
    <p>This guide will help you understand how to use the features provided in the encryption and input management tool. Below are the functionalities and how to utilize them effectively.</p> 
    
    <h2>Table of Contents</h2> 
    <ol> 
        <li><a href="#clearing-inputs">Clearing Inputs</a></li> 
        <li><a href="#adding-number-inputs">Adding Number Inputs</a></li> 
        <li><a href="#encrypting-and-decrypting-text">Encrypting and Decrypting Text</a></li> 
        <li><a href="#copying-and-pasting">Copying and Pasting</a></li> 
        <li><a href="#switching-languages">Switching Languages</a></li> 
    </ol> 
    
    <h2 id="clearing-inputs">Clearing Inputs</h2> 
    <p> 
        <strong>Function:</strong> This feature clears all input fields and resets the input area.<br> 
        <strong>How to Use:</strong><br> 
        1. Click the <strong>"Clear"</strong> button.<br> 
        2. All text fields will be emptied, and six new input fields will be generated automatically. 
    </p> 
    
    <h2 id="adding-number-inputs">Adding Number Inputs</h2> 
    <p> 
        <strong>Function:</strong> Allows users to dynamically add additional input fields.<br> 
        <strong>How to Use:</strong><br> 
        1. Each input field has a <strong>remove button</strong> (×) next to it.<br> 
        2. Click the <strong>"Add Field"</strong> button to add a new number input.<br> 
        3. You can remove any input field by clicking the remove button next to it. 
    </p> 
    
    <h2 id="encrypting-and-decrypting-text">Encrypting and Decrypting Text</h2> 
    <p> 
        <strong>Function:</strong> Encrypts and decrypts text using a generated encryption array.<br> 
        <strong>How to Use:</strong><br> 
        1. <strong>Encrypting Text:</strong><br> 
        - Type the text you want to encrypt in the designated input area.<br> 
        - Click the <strong>"Encrypt Text"</strong> button.<br> 
        - The encrypted text will appear in the output field.<br> 
        2. <strong>Decrypting Text:</strong><br> 
        - Type or paste the encrypted text in the input area.<br> 
        - Click the <strong>"Decrypt Text"</strong> button.<br> 
        - The original text will be shown in the output field.<br> 
        3. <strong>Note:</strong> If no encryption values are set, a message will prompt you to enter them. 
    </p> 
    
    <h2 id="copying-and-pasting">Copying and Pasting</h2> 
    <p> 
        <strong>Function:</strong> Allows you to copy encrypted text or input numbers and paste them as needed.<br> 
        <strong>How to Use:</strong><br> 
        1. <strong>Copy Encrypted Text:</strong><br> 
        - After encryption, click the <strong>"Copy"</strong> button to copy the encrypted output to your clipboard.<br> 
        2. <strong>Paste Text:</strong><br> 
        - Click the <strong>"Paste"</strong> button to paste any text you have copied into the input area.<br> 
        3. <strong>Copy Numbers:</strong><br> 
        - Click the <strong>"Copy Token"</strong> button to copy all entered numbers.<br> 
        4. <strong>Paste Numbers:</strong><br> 
        - Click the <strong>"Paste Token"</strong> button to paste numbers from your clipboard into the input fields. 
    </p> 
    
    <h2 id="switching-languages">Switching Languages</h2> 
    <p> 
        <strong>Function:</strong> Change the interface language between English and Arabic.<br> 
        <strong>How to Use:</strong><br> 
        1. Click the <strong>language button</strong> to toggle between English and Arabic.<br> 
        2. All labels, messages, and placeholders will update according to the selected language. 
    </p> 
    
    <h2>Additional Notes</h2> 
    <p> The tool supports dynamic interaction, meaning input fields and actions will update in real-time based on user actions.<br> Error messages and prompts will guide you through necessary actions, such as entering a code for encryption. </p> 
    <p>Feel free to explore each feature, and don’t hesitate to clear inputs or add new fields as you work with text encryption! Enjoy using the tool!</p>
    
    <div> 
        <h2>How the Encryption Tool Works</h2> 
        <h3>1. Generate Encryption Array</h3> 
        <p> The <code>generateEncryptionArray()</code> function creates an array of random characters based on the number of input fields. It generates a random number between 1000 and 143000, then collects character codes within that range. For each input field, a random character is selected and added to the <code>encryptionArray</code>. </p> 
        
        <h3>2. Update Encryption Array Inputs</h3> 
        <p> The <code>updateEncryptionArrayInputs(array)</code> function takes the generated encryption array and updates the displayed input fields. It clears any existing inputs and creates new ones, populating each with a character from the encryption array. A remove button is added next to each input to allow users to delete inputs if necessary. </p> 
        
        <h3>3. Input Listeners</h3> 
        <p> The <code>attachInputListeners()</code> function adds an event listener to each input field. When a user types a number, the focus automatically shifts to the next input field, enhancing user experience. </p> 
        
        <h3>4. Add Number Input</h3> 
        <p> The <code>addNumberInput()</code> function allows users to add additional input fields dynamically. Each new field comes with its own remove button, maintaining the ability to customize the number of inputs. </p> 
        
        <h3>5. Get Encryption Array</h3> 
        <p> The <code>getEncryptionArray()</code> function collects the values from all input fields and stores them in the <code>encryptionArray</code> after trimming whitespace. This array will be used for encryption and decryption processes. </p> 
        
        <h3>6. Encrypt and Decrypt Text</h3> 
        <p> The <code>encrypt(text)</code> function takes a string and produces an encrypted version by shifting the character codes based on the corresponding characters in the <code>encryptionArray</code>. Conversely, the <code>decrypt(encryptedText)</code> function reverses this process to retrieve the original text. </p> 
    </div>

    <div> 
        <h2>Strength of the Encryption Tool</h2> 
        <p> The strength of the encryption tool relies on several key factors, including: </p> 
        <h3>1. Character Diversity</h3> 
        <p> The tool utilizes a wide range of character codes (from 1 to 143,000), which increases the difficulty of predicting the codes used. This diversity makes it harder for attackers to break the encryption using brute force methods. </p> 
        
        <h3>2. Randomness</h3> 
        <p> The tool generates random characters for each input field. This randomness means that the codes will be different each time, reducing the chances of analysis or recognizing a specific pattern in the encrypted text. </p> 
        
        <h3>3. Key Length</h3> 
        <p> The more input fields there are, the longer the encryption array becomes. Longer keys mean greater security, as strong decryption methods require more time and resources. </p> 
        
        <h3>4. Flexible Usage</h3> 
        <p> Users can customize the inputs as needed, allowing them to increase or decrease the level of encryption strength according to their requirements. The tool enables users to add or remove inputs to adapt the security level to their needs. </p> 
        
        <h3>5. Resistance to Analysis</h3> 
        <p> Since the encryption relies on random characters and multiple combinations, common analysis methods like frequency analysis are less effective, which enhances protection strength. </p> 
    </div>
</div>

    <h1>Tughra Encryption System</h1>
    
    <p>The Tughra Encryption System provides superior protection through the use of encryption techniques based on random keys and multiple rounds of encryption, making it suitable for various fields and uses. Here is a comprehensive list of areas where this system can be beneficial:</p>

    <div class="toc">
        <h2>Contents</h2>
        <a href="#section1">1. Protecting Personal Data</a>
        <a href="#section2">2. Securing Communications</a>
        <a href="#section3">3. Securing Digital Content</a>
        <a href="#section4">4. E-Commerce</a>
        <a href="#section5">5. Securing Applications and Software</a>
        <a href="#section6">6. Identity Verification</a>
        <a href="#section7">7. Securing Systems and Networks</a>
        <a href="#section8">8. Cloud Storage</a>
        <a href="#section9">9. Protecting Software</a>
        <a href="#section10">10. Protecting Data in the Internet of Things (IoT)</a>
        <a href="#section11">11. Protecting Financial Data</a>
        <a href="#section12">12. Digital Forensics</a>
        <a href="#section13">13. Scientific and Academic Research</a>
        <a href="#section14">14. Encryption in Video Games</a>
        <a href="#section15">15. Securing Educational Institutions</a>
        <a href="#section16">16. Legal Transactions and Electronic Contracts</a>
        <a href="#section17">17. E-Government Systems</a>
        <a href="#section18">18. Secure Email Services</a>
        <a href="#section19">19. Protecting Media and Journalistic Content</a>
        <a href="#section20">20. Logistics and Supply Chains</a>
        <a href="#section21">21. Creating Cryptocurrency</a>
        <a href="#section22">22. Secure Electronic Voting System</a>
        <a href="#section23">23. Decentralized Cloud Computing</a>
        <a href="#section24">24. Securing Decentralized Digital Trade Platforms (DeFi)</a>
        <a href="#section25">25. Digital Rights Management (DRM)</a>
        <a href="#section26">26. Securing Financial Systems for Major Corporations</a>
        <a href="#section27">27. Advanced IoT Systems</a>
        <a href="#section28">28. Next-Generation Digital Infrastructure Systems (5G)</a>
        <a href="#section29">29. Managing Sensitive Documents for Multinational Corporations</a>
        <a href="#section30">30. Data Transfer Between Drones</a>
        <a href="#section31">31. Securing Military Communications</a>
        <a href="#section32">32. Protecting Government Networks</a>
        <a href="#section33">33. Weapons Management Systems</a>

        <a href="#section34">34. Protecting Data in Travel</a>
    </div>
    

    <div class="section" id="section1">
        <h2>1. Protecting Personal Data</h2>
        <p>• Encrypting medical records and sensitive health data.<br>
        • Protecting banking information such as account numbers and passwords.<br>
        • Encrypting personal identification information (such as electronic passports).</p>
    </div>

    <div class="section" id="section2">
        <h2>2. Securing Communications</h2>
        <p>• Encrypting text messages and emails.<br>
        • Securing voice and video calls over the internet.<br>
        • Protecting conversations in messaging apps like WhatsApp or Telegram.</p>
    </div>

    <div class="section" id="section3">
        <h2>3. Securing Digital Content</h2>
        <p>• Encrypting digital images and videos to prevent piracy.<br>
        • Protecting paid digital content such as e-books or movies.<br>
        • Securing design files and creative works.</p>
    </div>

    <div class="section" id="section4">
        <h2>4. E-Commerce</h2>
        <p>• Encrypting electronic payment data, such as credit card information.<br>
        • Protecting customer data and online business transactions.<br>
        • Securing purchases through e-commerce stores.</p>
    </div>

    <div class="section" id="section5">
        <h2>5. Securing Applications and Software</h2>
        <p>• Encrypting data within banking and business applications.<br>
        • Protecting data exchanged between application servers and users.<br>
        • Securing information stored in application databases.</p>
    </div>
    
    <div class="section" id="section6">
        <h2>6. Identity Verification</h2>
        <p>• Encrypting identity data during online authentication processes.<br>
        • Protecting fingerprints or other biometric data.<br>
        • Securing identity verification processes through electronic payment platforms.</p>
    </div>

    <div class="section" id="section7">
        <h2>7. Securing Systems and Networks</h2>
        <p>• Encrypting data exchanged between devices within the network.<br>
        • Protecting networks from cyberattacks such as malware.<br>
        • Securing communications within major enterprise networks.</p>
    </div>

    <div class="section" id="section8">
        <h2>8. Cloud Storage</h2>
        <p>• Encrypting files and information stored on cloud services like Google Drive.<br>
        • Protecting data during transfer between devices and the cloud.<br>
        • Securing cloud data from breaches or leaks.</p>
    </div>

    <div class="section" id="section9">
        <h2>9. Protecting Software</h2>
        <p>• Encrypting software code to prevent tampering or theft.<br>
        • Protecting intellectual property rights for computer programs and applications.<br>
        • Securing software applications from external attacks.</p>
    </div>

    <div class="section" id="section10">
        <h2>10. Protecting Data in the Internet of Things (IoT)</h2>
        <p>• Encrypting data sent and received between IoT devices.<br>
        • Securing smart control systems within homes and businesses.<br>
        • Protecting communications between sensors and smart vehicles.</p>
    </div>

    <div class="section" id="section11">
        <h2>11. Protecting Financial Data</h2>
        <p>• Encrypting financial data exchanged between banks and financial institutions.<br>
        • Securing electronic payment transactions and bank transfers.<br>
        • Protecting online bank accounts from breaches.</p>
    </div>

    <div class="section" id="section12">
        <h2>12. Digital Forensics</h2>
        <p>• Using encryption to secure digital evidence.<br>
        • Protecting information gathered during digital forensic investigations.<br>
        • Securing storage of sensitive criminal data.</p>
    </div>

    <div class="section" id="section13">
        <h2>13. Scientific and Academic Research</h2>
        <p>• Encrypting data and research information to prevent tampering or theft.<br>
        • Protecting academic research and scientific papers from breaches.<br>
        • Securing communication between researchers while sharing sensitive information.</p>
    </div>

    <div class="section" id="section14">
        <h2>14. Encryption in Video Games</h2>
        <p>• Protecting players' personal data within games.<br>
        • Encrypting financial transactions within digital games.<br>
        • Securing game servers from cyberattacks.</p>
    </div>

    <div class="section" id="section15">
        <h2>15. Securing Educational Institutions</h2>
        <p>• Encrypting sensitive information for students such as academic records.<br>
        • Securing data exchanged through e-learning platforms.<br>
        • Protecting online exams from cheating or tampering.</p>
    </div>

    <div class="section" id="section16">
        <h2>16. Legal Transactions and Electronic Contracts</h2>
        <p>• Encrypting electronic contracts to ensure their integrity.<br>
        • Protecting sensitive legal data during online transactions.<br>
        • Securing electronic signatures and confirmations.</p>
    </div>

    <div class="section" id="section17">
        <h2>17. E-Government Systems</h2>
        <p>• Encrypting citizen data within government databases.<br>
        • Securing online transactions and e-government services.<br>
        • Protecting communications between government agencies.</p>
    </div>

    <div class="section" id="section18">
        <h2>18. Secure Email Services</h2>
        <p>• Encrypting emails to ensure privacy and confidentiality.<br>
        • Protecting email exchanges from hackers and breaches.<br>
        • Securing communications for sensitive topics.</p>
    </div>

    <div class="section" id="section19">
        <h2>19. Protecting Media and Journalistic Content</h2>
        <p>• Encrypting journalistic materials and reports.<br>
        • Protecting news organizations from cyberattacks.<br>
        • Securing communications with sources.</p>
    </div>

    <div class="section" id="section20">
        <h2>20. Logistics and Supply Chains</h2>
        <p>• Encrypting data exchanged between suppliers and distributors.<br>
        • Securing communications in logistics systems.<br>
        • Protecting sensitive information about shipments.</p>
    </div>

    <div class="section" id="section21">
        <h2>21. Creating Cryptocurrency</h2>
        <p>• Encrypting wallet keys to protect cryptocurrency.<br>
        • Securing transactions within cryptocurrency systems.<br>
        • Protecting user identities in cryptocurrency trading.</p>
    </div>

    <div class="section" id="section22">
        <h2>22. Secure Electronic Voting System</h2>
        <p>• Encrypting voting data to ensure integrity and security.<br>
        • Protecting voter identities and choices.<br>
        • Securing communications within electronic voting systems.</p>
    </div>

    <div class="section" id="section23">
        <h2>23. Decentralized Cloud Computing</h2>
        <p>• Encrypting data within decentralized cloud systems.<br>
        • Protecting user data in decentralized networks.<br>
        • Securing transactions and communications in cloud platforms.</p>
    </div>

    <div class="section" id="section24">
        <h2>24. Securing Decentralized Digital Trade Platforms (DeFi)</h2>
        <p>• Encrypting transactions within decentralized finance systems.<br>
        • Protecting user identities and financial information.<br>
        • Securing smart contracts and transactions.</p>
    </div>

    <div class="section" id="section25">
        <h2>25. Digital Rights Management (DRM)</h2>
        <p>• Encrypting digital content to protect intellectual property rights.<br>
        • Securing licensing and access controls.<br>
        • Protecting copyrighted material.</p>
    </div>

    <div class="section" id="section26">
        <h2>26. Securing Financial Systems for Major Corporations</h2>
        <p>• Encrypting data within corporate finance systems.<br>
        • Protecting sensitive financial information from breaches.<br>
        • Securing transactions and communications between financial systems.</p>
    </div>

    <div class="section" id="section27">
        <h2>27. Advanced IoT Systems</h2>
        <p>• Encrypting data exchanged between advanced IoT devices.<br>
        • Protecting smart city infrastructure.<br>
        • Securing communications between smart systems.</p>
    </div>

    <div class="section" id="section28">
        <h2>28. Next-Generation Digital Infrastructure Systems (5G)</h2>
        <p>• Encrypting data within 5G networks.<br>
        • Protecting communications and transactions in real-time.<br>
        • Securing connections between devices and networks.</p>
    </div>

    <div class="section" id="section29">
        <h2>29. Managing Sensitive Documents for Multinational Corporations</h2>
        <p>• Encrypting sensitive documents and files.<br>
        • Protecting internal communications and transactions.<br>
        • Securing collaborations between multinational teams.</p>
    </div>

    <div class="section" id="section30">
        <h2>30. Data Transfer Between Drones</h2>
        <p>• Encrypting data exchanged between drones and control systems.<br>
        • Protecting data collected during drone flights.<br>
        • Securing communications between multiple drones.</p>
    </div>

    <div class="section" id="section31">
        <h2>31. Securing Military Communications</h2>
        <p>• Encrypting military data and communications.<br>
        • Protecting sensitive military information from breaches.<br>
        • Securing connections between military systems.</p>
    </div>

    <div class="section" id="section32">
        <h2>32. Protecting Government Networks</h2>
        <p>• Encrypting data within government networks.<br>
        • Protecting sensitive information from cyberattacks.<br>
        • Securing communications between government agencies.</p>
    </div>

    <div class="section" id="section33">
        <h2>33. Weapons Management Systems</h2>
        <p>• Encrypting data exchanged within weapons systems.<br>
        • Protecting sensitive military data.<br>
        • Securing communications related to military operations.</p>
    

    <div class="section" id="section34">
        <h2>34. Protecting Data in Travel</h2>
        <p>• Encrypting travel documents and itineraries.<br>
        • Protecting sensitive information shared during travel.<br>
        • Securing communications related to travel arrangements.</p>
    </div>
<p>
    <strong>Tughra</strong> is a developing system that relies on multiple factors that make the decryption process extremely difficult if the person does not have the used fields (character and symbol set) and the number of cycles (frequency). Let’s illustrate the complexity of the decryption process:
</p>
<ol>
    <li>
        <strong>Fields (Character Set):</strong>
        <ul>
            <li>
                If you have about 144,300 characters or symbols, and you are using a random set of these characters to encrypt the text, this adds significant complexity. Each character in the original text could be replaced by a variety of substitutes, making it very difficult to reconstruct the original text without knowing the fields exactly.
            </li>
        </ul>
    </li>
    <li>
        <strong>Number of Cycles (Frequency):</strong>
        <ul>
            <li>
                Adding a non-fixed number of cycles greatly increases the complexity of the encryption. If the encryption is done for a random number of cycles, hackers will have countless attempts to determine the correct number of cycles.
            </li>
        </ul>
    </li>
    <li>
        <strong>Brute Force Attack:</strong>
        <ul>
            <li>
                Theoretically, any encryption system can be subjected to a brute force attack (trying all possible combinations). However, considering the large number of fields and variable cycles, attempting all combinations would take an enormous amount of time. The more fields and cycles increase, the more the difficulty multiplies significantly.
            </li>
        </ul>
    </li>
    <li>
        <strong>Complexity of Calculations:</strong>
        <ul>
            <li>
                Assuming you have an unlimited number of fields and an unlimited number of cycles, the number of possible decryption combinations would be so huge that no modern computer system could handle it in a reasonable time frame. Additionally, if these fields are unknown, the hacker won’t be able to make any logical attempts to decrypt, making the process akin to finding a needle in a haystack.
            </li>
        </ul>
    </li>
</ol>
<h2>Expected Time for Decryption:</h2>
<p>
    If a hacker programs an automated code to attempt decryption using a brute force attack, the time required depends on several factors, including:
</p>
<ul>
    <li>The power of the computers used by the hacker.</li>
    <li>The number of fields used.</li>
    <li>The number of cycles.</li>
    <li>The strength of the random algorithm used to determine the alternative fields.</li>
</ul>
<p>
    The larger the number of fields and cycles, the exponentially greater the time required. With large numbers of fields and cycles, the decryption process could reach billions or even trillions of attempts, which means it could take thousands of years or more, depending on the available computing power.
</p>
<h2>Conclusion:</h2>
<p>
    Without knowing the fields exactly and the number of cycles, decryption using an automated attack would be nearly impossible within a reasonable timeframe.
</p>
</div>
`;

            }
            enableAllButtons();
        }

        // Call this once to set the initial language on page load
        updateButtonLanguage();

        // Event listener for the language button
        document.getElementById("languageButton").addEventListener("click", switchLanguage);

        // Initial translation update
        updateTranslations();



        let currentGroupIndex = 0; // By default, the first group is displayed
        const groupLoadLimit = 15; // Number of groups to load per scroll

        // Display group names as clickable buttons in chunks
        function displayGroupNames() {
            const groupNamesContainer = document.getElementById('groupNames');

            // Load the next set of group names
            for (let i = currentGroupIndex; i < currentGroupIndex + groupLoadLimit && i < unicodeGroups.length; i++) {
                const group = unicodeGroups[i];
                const groupDiv = document.createElement('button');
                groupDiv.classList.add('group-name');
                groupDiv.textContent = group.name;

                // Add click event to load the group's characters
                groupDiv.addEventListener('click', () => {
                    displayCharacters(i);
                });

                groupNamesContainer.appendChild(groupDiv);
            }

            currentGroupIndex += groupLoadLimit; // Update the current index for next batch
        }

        // Handle horizontal scrolling to load more group names
        function setupHorizontalScrollLoading() {
            const groupNamesContainer = document.getElementById('groupNames');

            groupNamesContainer.addEventListener('scroll', () => {
                // Check if user scrolled to the end
                if (groupNamesContainer.scrollLeft + groupNamesContainer.clientWidth >= groupNamesContainer.scrollWidth) {
                    // Load more group names
                    if (currentGroupIndex < unicodeGroups.length) {
                        displayGroupNames();
                    }
                }
            });
        }

        function searchGroups() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            if (searchInput !== '') {
                const groupNamesContainer = document.getElementById('groupNames');

                // Clear current displayed groups
                groupNamesContainer.innerHTML = '';

                // Filter and display matching groups
                const filteredGroups = unicodeGroups.filter(group => group.name.toLowerCase().includes(searchInput));

                filteredGroups.forEach(group => {
                    const groupDiv = document.createElement('button');
                    groupDiv.classList.add('group-name');

                    // Highlight the matching part of the group name
                    const regex = new RegExp(`(${searchInput})`, 'gi');
                    const highlightedName = group.name.replace(regex, '<mark>$1</mark>');
                    groupDiv.innerHTML = highlightedName;

                    // Find the original index of the group in the unicodeGroups array
                    const originalIndex = unicodeGroups.indexOf(group);

                    // Add click event to load the group's characters
                    groupDiv.addEventListener('click', () => {
                        displayCharacters(originalIndex);
                    });

                    groupNamesContainer.appendChild(groupDiv);
                });
            }
        }
        // Initialize the first set of groups and set up scrolling
        window.addEventListener('DOMContentLoaded', () => {
            displayGroupNames(); // Load the first set of group names
            setupHorizontalScrollLoading(); // Set up horizontal scroll loading
        });

        // Display characters for the selected group
        // Check if character can be rendered
        function isCharacterRenderable(char) {
            const testCanvas = document.createElement('canvas');
            const context = testCanvas.getContext('2d');
            context.font = '16px Noto Sans, sans-serif'; // Use your font family here
            const width = context.measureText(char).width;
            return width > 0;
        }

        function displayCharacters(groupIndex) {
            const container = document.getElementById('characterGrid');
            container.innerHTML = ''; // Clear previous characters

            const group = unicodeGroups[groupIndex];
            for (let i = group.start; i <= group.end; i++) {
                try {
                    const char = String.fromCodePoint(i);
                    if (char !== '' && isCharacterRenderable(char)) {
                        const charDiv = document.createElement('div');
                        charDiv.classList.add('character');
                        const currentTheme = localStorage.getItem('theme') || 'light';
                        charDiv.classList.add(currentTheme);
                        charDiv.textContent = char;

                        // Add click event listener for copying the character
                        charDiv.addEventListener('click', function() {
                            insertCharoninput(char);
                        });

                        container.appendChild(charDiv);
                    }
                } catch (e) {
                    console.error(`Error with character code: ${i}`, e);
                }
            }
        }

        function clearLastNonEmptyInputNumberValue() {
            const inputs = document.querySelectorAll('.input-number');

            // Loop through the inputs in reverse to find the last non-empty one
            for (let i = inputs.length - 1; i >= 0; i--) {
                if (inputs[i].value !== '') {
                    inputs[i].value = ''; // Clear the value
                    break; // Stop after clearing the first non-empty input
                }
            }
        }

        function insertCharoninput(text) {
            // Get all elements with class 'input-number'
            const inputs = document.querySelectorAll('.input-number');

            // Function to smoothly scroll to a target position at a custom speed
            function smoothScrollTo(targetY, speed = 10) {
                const startY = window.scrollY;
                const distance = targetY - startY;
                let startTime = null;

                function step(timestamp) {
                    if (!startTime) startTime = timestamp;
                    const progress = timestamp - startTime;
                    const currentY = startY + (distance * (progress / speed));

                    window.scrollTo(0, currentY);

                    if (progress < speed) {
                        requestAnimationFrame(step);
                    }
                }

                requestAnimationFrame(step);
            }

            // Flag to check if we found an empty input
            let emptyFound = false;

            // Loop through the input fields and find the first empty one
            for (let input of inputs) {
                if (input.value === '') {
                    input.value = text; // Set the character into the empty input

                    const rect = input.getBoundingClientRect();
                    const targetY = window.scrollY + rect.top - (window.innerHeight / 2);
                    smoothScrollTo(targetY, 500); // Scroll to the input with custom speed
                    input.blur(); // Remove focus from the input

                    emptyFound = true;
                    break; // Exit the loop once the first empty input is found
                }
            }

            // If no empty input is found, create a new one and set its value
            if (!emptyFound) {
                addNumberInput(); // Call existing function to create new input

                const newInput = document.querySelector('.input-wrapper .input-item:last-child .input-number');
                newInput.value = text; // Set value of the new input

                const rect = newInput.getBoundingClientRect();
                const targetY = window.scrollY + rect.top - (window.innerHeight / 2);
                smoothScrollTo(targetY, 500); // Scroll to the new input with custom speed
                newInput.blur(); // Remove focus from the new input
            }
        }



        displayCharacters(currentGroupIndex); // Display first group by default


        function toggleChars() {
            const characterContainer = document.getElementById('characterContainer');

            // Toggle the display of both the group names and character grid
            if (characterContainer.style.display === 'block' || characterContainer.style.display === '') {
                characterContainer.style.display = 'none';
            }
        }

        document.getElementById('toggleChars').addEventListener('click', function() {
            const characterContainer = document.getElementById('characterContainer');

            // Toggle the display of both the group names and character grid
            if (characterContainer.style.display === 'none' || characterContainer.style.display === '') {
                characterContainer.style.display = 'block';
            } else {
                characterContainer.style.display = 'none';
            }
        });

        // Function to create and display a toast
        function showToast(message) {

            const toastContainer = document.getElementById('toastContainer');
            toastContainer.innerHTML = ``;
            // Create a new toast element
            const toast = document.createElement('div');
            toast.classList.add('toast');
            const currentTheme = localStorage.getItem('theme') || 'light';
            toast.classList.add(currentTheme);
            // Add message to the toast
            toast.innerHTML = `
    <span>${message}</span>
    <button onclick="removeToast(this.parentElement)">&times;</button>
  `;

            // Append the toast to the container
            toastContainer.appendChild(toast);

            // Remove the toast after 10 seconds
            setTimeout(() => {
                removeToast(toast);
            }, 8000);
        }

        // Function to remove a toast
        function removeToast(toast) {
            toast.style.animation = 'slide-out 0.5s ease-in';
            toast.addEventListener('animationend', () => {
                toast.remove();
            });
        }
        recordAudio();

        function recordAudio() {

            let mediaRecorder;
            let audioChunks = [];
            let isRecording = false;

            const togglerecordBtn = document.getElementById('togglerecordBtn');
            const audioPlayback = document.getElementById('music-container');
            const base64Output = document.getElementById('inputText');

            audioPlayback.style.display = 'none';

            togglerecordBtn.addEventListener('click', async () => {
                if (!isRecording) {
                    // Start Recording
                    const stream = await navigator.mediaDevices.getUserMedia({
                        audio: true
                    });
                    mediaRecorder = new MediaRecorder(stream);

                    mediaRecorder.start();
                    disableAllButtons();
                    togglerecordBtn.disabled = false;
                    togglerecordBtn.innerHTML = `<svg style="color: red;" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
  <path d="m15.506 14.097.994.995A3.989 3.989 0 0 0 17.975 12V9.011a.996.996 0 0 1 1.992 0v2.99a5.981 5.981 0 0 1-2.054 4.503l1.762 1.762a.996.996 0 1 1-1.408 1.408L4.325 5.733a.996.996 0 0 1 1.408-1.408L7.04 5.632a3.984 3.984 0 0 1 3.964-3.59h1.992c2.2 0 3.983 1.783 3.983 3.983v4.98a3.975 3.975 0 0 1-1.473 3.092ZM4.033 10.008a.996.996 0 1 1 1.992 0V12a3.99 3.99 0 0 0 3.984 3.984H12c.55 0 .996.446.996.996v2.988h1.992a.996.996 0 0 1 0 1.992H9.012a.996.996 0 0 1 0-1.992h1.992v-1.992h-.997a5.981 5.981 0 0 1-5.974-5.974v-1.993Z"/>
</svg>

`;
                    isRecording = true;

                    mediaRecorder.ondataavailable = (event) => {
                        audioChunks.push(event.data);

                    };

                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, {
                            type: 'audio/mpeg'
                        });


                        // Convert Blob to base64
                        const reader = new FileReader();
                        reader.readAsDataURL(audioBlob);
                        reader.onloadend = () => {
                            const base64data = reader.result;
                            loadSong(base64data);
                            audioPlayback.style.display = 'block';
                            audioChunks = [];
                            base64Output.value = base64data; // Display base64 in textarea
                            displayStats('charCount', document.getElementById('inputText').value);
                        };
                        enableAllButtons();
                    };

                } else {
                    // Stop Recording
                    mediaRecorder.stop();
                    togglerecordBtn.innerHTML = `<svg width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9v3a5.006 5.006 0 0 1-5 5h-4a5.006 5.006 0 0 1-5-5V9m7 9v3m-3 0h6M11 3h2a3 3 0 0 1 3 3v5a3 3 0 0 1-3 3h-2a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3Z"/>
</svg>
`;

                    isRecording = false;
                }

            });

        }

        function checkifaudio() {
            const audioPlayback = document.getElementById('music-container');
            audioPlayback.style.display = 'none';
            var outputText = document.getElementById('outputText').value;
            if (outputText.startsWith('data:audio')) {
                loadSong(createObjectURL(outputText));
                audioPlayback.style.display = 'block';
            }
        }

        function createObjectURL(base64String) {
            if (base64String) {
                // Split the Base64 string to get the MIME type and the data part
                const [header, data] = base64String.split(',');
                const mimeType = header.match(/:(.*?);/)[1]; // Extract MIME type

                // Decode the Base64 string
                const byteCharacters = atob(data);
                const byteNumbers = new Array(byteCharacters.length);
                for (let i = 0; i < byteCharacters.length; i++) {
                    byteNumbers[i] = byteCharacters.charCodeAt(i);
                }
                const byteArray = new Uint8Array(byteNumbers);

                // Create a Blob from the Uint8Array
                const blob = new Blob([byteArray], {
                    type: mimeType
                });

                // Create a URL from the Blob
                const url = URL.createObjectURL(blob);
                return url;
            }
            return null; // Return null if no Base64 string is provided
        }

        function checkifimage() {
            var outputText = document.getElementById('outputText').value;

            // Check if the text starts with 'data:image'
            if (outputText.startsWith('data:image')) {
                // Create an image element
                var imageElement = document.createElement('img');
                imageElement.src = createObjectURL(outputText);

                // Apply custom styles to the image
                imageElement.style.maxWidth = '100%'; // Ensures the image scales within the container
                imageElement.style.borderRadius = '8px'; // Adds rounded corners
                imageElement.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.1)'; // Adds shadow
                imageElement.style.objectFit = 'cover'; // Ensure the image covers the entire area

                // Create a delete button
                var deleteButton = document.createElement('button');
                deleteButton.innerHTML = `<svg  width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
        </svg>`;
                deleteButton.style.position = 'absolute'; // Positioning
                deleteButton.style.top = '10px'; // Position from top
                deleteButton.style.right = '10px'; // Position from right
                deleteButton.style.backgroundColor = 'transparent'; // Button color
                deleteButton.style.color = 'red'; // Text color
                deleteButton.style.border = 'none'; // No border
                deleteButton.style.padding = '5px'; // Padding
                deleteButton.style.borderRadius = '5px'; // Rounded corners
                deleteButton.style.cursor = 'pointer'; // Pointer cursor on hover
                deleteButton.style.zIndex = '10'; // Ensure the button is above the image

                // Add click event to delete the image
                deleteButton.onclick = function() {
                    document.getElementById('imageContainer').innerHTML = ''; // Clear the image container
                };

                // Create a download button
                var downloadButton = document.createElement('a');
                downloadButton.innerHTML = `<svg  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2m-8 1V4m0 12-4-4m4 4 4-4"/>
</svg>
`;
                downloadButton.style.position = 'absolute'; // Positioning
                downloadButton.style.bottom = '10px'; // Position from bottom
                downloadButton.style.right = '10px'; // Position from right
                downloadButton.style.backgroundColor = 'transparent'; // Button color
                downloadButton.style.border = 'none'; // No border
                downloadButton.style.padding = '5px'; // Padding
                downloadButton.style.borderRadius = '5px'; // Rounded corners
                downloadButton.style.cursor = 'pointer'; // Pointer cursor on hover
                downloadButton.style.zIndex = '10'; // Ensure the button is above the image

                // Set download attribute for the download button
                downloadButton.href = outputText; // Set href to image data
                downloadButton.download = 'downloaded_image.png'; // Name of the downloaded file

                // Create a wrapper for the image and buttons
                var wrapper = document.createElement('div');
                wrapper.style.position = 'relative'; // Needed for absolute positioning of the buttons
                wrapper.style.display = 'inline-block'; // Ensure the wrapper only takes up necessary space
                wrapper.appendChild(imageElement);
                wrapper.appendChild(deleteButton);
                wrapper.appendChild(downloadButton);

                // Clear existing content and append the wrapper to the image container
                document.getElementById('imageContainer').innerHTML = ''; // Clear existing content
                document.getElementById('imageContainer').appendChild(wrapper);
            }
        }




        function downloadTextBtn(id) {
            disableAllButtons();
            const text = document.getElementById(id).value;

            // Match for Base64 data URL format
            const mimeTypeMatch = text.match(/^data:([a-zA-Z0-9]+\/[a-zA-Z0-9.-]+);base64,(.+)$/);
            let extension = 'txt'; // Default to .txt if no MIME type is found
            let mimeType = 'text/plain'; // Default MIME type
            let base64Data = '';

            if (mimeTypeMatch) {
                mimeType = mimeTypeMatch[1].toLowerCase(); // Normalize MIME type to lowercase
                base64Data = mimeTypeMatch[2]; // Extract the Base64 content

                // Map MIME types to file extensions
                const mimeTypeMap = {
                    'image/jpeg': 'jpeg',
                    'image/png': 'png',
                    'image/webp': 'webp',
                    'image/gif': 'gif',
                    'image/svg+xml': 'svg',
                    'image/bmp': 'bmp',
                    'image/tiff': 'tiff',
                    'image/x-icon': 'ico',

                    // Audio
                    'audio/mpeg': 'mp3',
                    'audio/wav': 'wav',
                    'audio/ogg': 'ogg',
                    'audio/webm': 'weba',
                    'audio/flac': 'flac',
                    'audio/aac': 'aac',
                    'audio/x-m4a': 'm4a',

                    // Video
                    'video/mp4': 'mp4',
                    'video/webm': 'webm',
                    'video/ogg': 'ogv',
                    'video/avi': 'avi',
                    'video/mpeg': 'mpeg',
                    'video/quicktime': 'mov',
                    'video/x-ms-wmv': 'wmv',

                    // Text
                    'text/plain': 'txt',
                    'text/html': 'html',
                    'text/css': 'css',
                    'text/javascript': 'js',
                    'text/csv': 'csv',
                    'text/markdown': 'md',
                    'text/xml': 'xml',

                    // Applications
                    'application/pdf': 'pdf',
                    'application/json': 'json',
                    'application/ld+json': 'jsonld',
                    'application/x-yaml': 'yaml',
                    'application/rtf': 'rtf',
                    'application/epub+zip': 'epub',
                    'application/x-shockwave-flash': 'swf',

                    // Microsoft Office Formats
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'docx',
                    'application/msword': 'doc',
                    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'xlsx',
                    'application/vnd.ms-excel': 'xls',
                    'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'pptx',
                    'application/vnd.ms-powerpoint': 'ppt',

                    // Archives and Compressed Files
                    'application/x-rar-compressed': 'rar',
                    'application/zip': 'zip',
                    'application/x-7z-compressed': '7z',
                    'application/x-tar': 'tar',
                    'application/gzip': 'gz',

                    // Fonts
                    'font/woff': 'woff',
                    'font/woff2': 'woff2',
                    'application/x-font-ttf': 'ttf',
                    'application/x-font-otf': 'otf',

                    // Other
                    'application/x-httpd-php': 'php',
                    'application/x-java-archive': 'jar',
                    'application/x-python-code': 'pyc',
                    'application/x-executable': 'exe',
                    'application/x-bittorrent': 'torrent'
                };

                // Set the extension based on the MIME type
                extension = mimeTypeMap[mimeType] || 'bin'; // Fallback to .bin if MIME type is not mapped
            } else {
                // If not a Base64 data URL, treat it as plain text and keep it as .txt
                base64Data = btoa(unescape(encodeURIComponent(text))); // Encode the text to Base64
            }

            // Convert Base64 string to a binary format
            let byteArray;

            if (base64Data) {
                // Replace URL-safe Base64 characters and ensure proper padding
                base64Data = base64Data.replace(/-/g, '+').replace(/_/g, '/');

                // Pad the Base64 string with '=' to ensure it has the correct length
                while (base64Data.length % 4 !== 0) {
                    base64Data += '=';
                }

                try {
                    // Convert Base64 string to a binary format
                    const binaryString = atob(base64Data);
                    const binaryLen = binaryString.length;
                    byteArray = new Uint8Array(binaryLen);
                    for (let i = 0; i < binaryLen; i++) {
                        byteArray[i] = binaryString.charCodeAt(i);
                    }
                } catch (error) {
                    console.error("Failed to decode Base64 string:", error);
                    return; // Exit the function if decoding fails
                }
            } else {
                // If base64Data is empty, create a byte array from the plain text
                byteArray = new TextEncoder().encode(text);
            }

            // Create a Blob object with the binary data and appropriate MIME type
            const blob = new Blob([byteArray], {
                type: mimeType
            });

            // Create a link element
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob); // Create a URL for the blob
            link.download = `outputFile.${extension}`; // Set the name of the download file

            // Append the link to the body (required for some browsers)
            document.body.appendChild(link);

            // Trigger the download
            link.click();

            // Clean up by removing the link
            document.body.removeChild(link);

            enableAllButtons();
        }




        document.getElementById('uploadTextBtn').addEventListener('click', function() {
            // Trigger the file input click
            document.getElementById('fileUpload').click();
        });

        // Add change event listener to the file input
        document.getElementById('fileUpload').addEventListener('change', function(event) {

            const file = event.target.files[0]; // Get the uploaded file
            setTimeout(() => {
                checkifaudio();
                checkifimage();
                checkifvideo('inputText');
            }, 300);
            if (!file) {
                alert('No file uploaded.');
                return;
            }

            const reader = new FileReader(); // Create a FileReader to read the file
            disableAllButtons();
            document.getElementById('progressBarContainer').style.display = 'block';
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('progressBar').innerText = '0%';

            // Update the progress bar dynamically
            reader.onprogress = function(event) {
                if (event.lengthComputable) {
                    const percentLoaded = Math.round((event.loaded / event.total) * 100);

                    // Update the progress bar width and text
                    document.getElementById('progressBar').style.width = percentLoaded + '%';
                    document.getElementById('progressBar').innerText = percentLoaded + '%';

                    // Clear the text after a delay when 100% is reached
                    if (percentLoaded === 100) {
                        setTimeout(() => {
                            document.getElementById('progressBar').style.width = '0%';
                            document.getElementById('progressBar').innerText = '0%';
                            document.getElementById('progressBarContainer').style.display = 'none';

                        }, 1000);
                        displayStats('charCount', document.getElementById('inputText').value);
                        enableAllButtons();
                    }
                }
            };

            // Define the onload event for the FileReader
            reader.onload = function(e) {
                const content = e.target.result; // Get the file content

                // Display or log the content based on file type
                switch (true) {
                    case file.type.startsWith('image/'):
                        document.getElementById('inputText').value = content; // Set the Base64 content to the textarea

                        break;

                    case file.type.startsWith('audio/'):
                        document.getElementById('inputText').value = content; // Set the Base64 content to the textarea

                        break;

                    case file.type.startsWith('video/'):
                        document.getElementById('inputText').value = content; // Set the Base64 content to the textarea

                        break;

                    case file.type === 'text/plain':
                    case file.type === 'text/php':
                    case file.type === 'application/x-httpd-php':
                        document.getElementById('inputText').value = content; // Set the content to the textarea

                        break;

                    case file.type === 'application/pdf':
                        document.getElementById('inputText').value = content; // Set the Base64 content to the textarea

                        break;

                        // Word document formats
                    case file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
                    case file.type === 'application/msword':
                    case file.type === 'application/rtf':
                        document.getElementById('inputText').value = content; // Set the content to the textarea

                        break;

                        // Excel document formats
                    case file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
                    case file.type === 'application/vnd.ms-excel':
                        document.getElementById('inputText').value = content; // Set the content to the textarea

                        break;

                        // PowerPoint presentation formats
                    case file.type === 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
                    case file.type === 'application/vnd.ms-powerpoint':
                        document.getElementById('inputText').value = content; // Set the content to the textarea

                        break;

                        // OpenDocument formats
                    case file.type === 'application/vnd.oasis.opendocument.text':
                    case file.type === 'application/vnd.oasis.opendocument.spreadsheet':
                    case file.type === 'application/vnd.oasis.opendocument.presentation':
                        document.getElementById('inputText').value = content; // Set the content to the textarea

                        break;

                        // Google Docs formats
                    case file.type === 'application/vnd.google-apps.document':
                    case file.type === 'application/vnd.google-apps.spreadsheet':
                    case file.type === 'application/vnd.google-apps.presentation':
                        document.getElementById('inputText').value = content;
                        break;

                        // Apple document formats (Pages, Numbers, Keynote)
                    case file.type === 'application/vnd.apple.pages':
                    case file.type === 'application/vnd.apple.numbers':
                    case file.type === 'application/vnd.apple.keynote':
                        document.getElementById('inputText').value = content;
                        break;

                        // Compressed and archive formats
                    case file.type === 'application/zip':
                    case file.type === 'application/x-tar':
                    case file.type === 'application/x-7z-compressed':
                    case file.type === 'application/x-rar-compressed':
                        document.getElementById('inputText').value = content;
                        break;

                        // Other text formats (e.g., Markdown, JSON, XML)
                    case file.type === 'text/markdown':
                    case file.type === 'application/json':
                    case file.type === 'application/xml':
                    case file.type === 'text/csv':
                    case file.type === 'text/html':
                        document.getElementById('inputText').value = content;
                        break;

                    default:
                        document.getElementById('inputText').value = content;
                        break;
                }


            };

            // Read the file based on its type
            if (file.type.startsWith('image/') || file.type.startsWith('audio/') || file.type.startsWith('video/')) {
                reader.readAsDataURL(file); // Read as Data URL for image/audio/video
                document.getElementById("cycleCount").value = 1;
            } else if (file.type === 'text/plain' || file.type === 'text/php' || file.type === 'application/x-httpd-php') {
                reader.readAsText(file); // Read as text for text files and PHP files
                document.getElementById("cycleCount").value = 1;
            } else if (file.type === 'application/pdf') {
                reader.readAsDataURL(file); // Read as Data URL for PDF files
            } else if (file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' || file.type === 'application/msword') {
                reader.readAsDataURL(file); // Read as text for Word files
                document.getElementById("cycleCount").value = 1;
            } else if (file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {
                reader.readAsDataURL(file); // Read as binary string for Excel files
            } else if (file.type === 'application/zip' || file.type === 'application/x-tar' || file.type === 'application/x-7z-compressed' || file.type === 'application/x-rar-compressed') {
                reader.readAsDataURL(file); // Read as binary string for Excel files
            } else {
                reader.readAsText(file); // Default read as text
                document.getElementById("cycleCount").value = 1;
            }

        });

        const QRDataUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0AQMAAADxGE3JAAAABlBMVEX///8yY7NulTjSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFT0lEQVR4nO2dPZLjOgyEoXLg0EfQUXQ0+2g6io6gUIHLeEKjQdE7tcGOXqZm4j9+nKQLAJsQx+zkeHqO2e7v+LTeP2aTf40VM0d/42XrqEX81fk5ZTQ/9p/9ZY/4eVoeb7zc36myAcvc4u9gmaLEix/dP/HFPfix6e8TItsXg84+WLrT6RwfxIv/3/jHdnPEv5gF/eInxzLUL5bebh/x4n/oz/bw9hpDcjFufox1j3/73IyJmCBefPGVP1N/sdg+KXLla1os4tec+XMBUvzP/Cte/C94apT88thjHeq3IXjk1ClyaqTWPfDt9RviHynxV+e/BkXmlStTf7mnNNZf42Z/HeLF/yMPJbZaf8+/jH/x24SlXjURa9quX4emsV0Vf3U+DYmY+zYENORKFHPJO+p/1G/YBkB/E/4A6z/xF+cH+gohqNg/zmOU/PS6LL/LNRm/nvRUTbz4c3wIcijj1UZoNUav1Z2PN9yTRmlnRmtW/LV5HOjE3BBUiIz+F3LqcqdXP2BryfOfCI32yBfx4s/xU+p3YkCjjNfU6sYXy5A3lH+R85CuxV+dz/ofBX3oDybFiphoteYArd0QBvOcGyP1J/7CPN51LQ/sdQAfZz1eXv2+zA6iTqv8KV78WR59Naj/j8EPkT8d/DZ01j5H2rXixWddhYTY9T/UJKdAMfeYnrsB8eLP8RAp8q/VhiCM+6j/OUK/uTT8C8S/GLV/FX91ngnRwUf9lpJ7pv74XSyd1mxuF+7ixUNr1hqyQmTW1FX+Qx4NsQ1n6qx98eLP872hyrnl36cZRhsWdV7lz6m2q+Ivzkfgq/Pr+LU7v4ZXatH4gJiY59cMg3V+LV78GX4PchXQchuAuRkTmX8n9t8AnMdqd80h/tq8Tb1J/6W/Zwa/l9G/ODSJ6fQvxF+ah8g+xu6+rO5bkb+/GKSJxi3kz/2D5/TMn+LFn+Or/od+2WtD/Wb/s3Fr4PTvvZ8u/tq8Zf1VgnLfuEn8WPUvYxsQse7ony+7Vbz4s/zo/Vi55cQmE+8y/9Z3P/K3+IvzeSBNQ8IjO4Z/Qa/es3Br/VvOOm9KT0z81fnqX8b5T0Yz9C/zWWlrxn2e/5gdjacY4sWf4lnr8+NYbYTv7L+J9+Vf4PmNeaw4+RYv3nBJzcCEyGWi/6Z/VozWBp8piw/hf91cvPjTfKv/8b33/TcRGvPgET9VTdedSS7ixaPin9mQxb74sCw6T9/hX3Den0P8lfkISMNhcq1H/w0s09Rk9i87R2u3f4kXf5rPA8XGO2T8tj5X5vlR2xNgMN2KvzZvzRDN+482a/5F9s+z/n9W/tyOrSXyp3jxZ3g+Vw3h7kn26/6kFGnrqXBPTz+Xqfpf/IX5p+dZDwbqt6HS5Iv5M21Y+hfQZHddhHjxkNFa1zsgOq3o31qwJveKR/zKxHnoT7z4X/PzWA9puJdX7wx8dpwpUb/W7o/fxIuH/o6AFt87Limt+9sQ/2prkHHyaJcQL/4s3zaU1RBoQ6vr+P8LprXLv7Ox/0u8+Bz3LNKQEJt/4c3Gf3Gv2N8/maP134i/Mm/UX4hsTDWO/f3dXgqtc8YWv8SLP8k/qcX5sR3PimX/zbP6n/v+m6napVv+FX9pfq6XO1dCkGP/vFm70zQ9/a/+5a//XyBe/K/4kedHG/9/wdF/M3FF7+5P6vuf4Z+JF18BDVr7tDNJmhTsHxz78x8M8eK/9Zf1V6v/l/vR+PCiJvO6G0jzZ/wSL/5feUgx+XbWWLEOYPoXz6X9hHlb6Vf8pXl+UyYpdDXxrCfvP5qzp7DWxHXftV0QL/4Uf3L8B6Q+m0T/LKkvAAAAAElFTkSuQmCC';

        function mergeTextWithImage(text) {
            disableAllButtons();
            const imageBlob = dataURLtoBlob(QRDataUrl);

            // Add "Text=" prefix to the input text
            const textToMerge = "Tughra=" + text;

            // Convert the prefixed text to Blob
            const textBlob = new Blob([textToMerge], {
                type: "text/plain"
            });

            // Merge the image and text blobs
            const mergedBlob = new Blob([imageBlob, textBlob], {
                type: 'image/png'
            }); // Assuming PNG image

            // Create downloadable link for the merged file
            const downloadLink = document.createElement("a");
            downloadLink.href = URL.createObjectURL(mergedBlob);
            downloadLink.download = "TughraQRCode.png"; // Download merged file
            downloadLink.click();
            enableAllButtons();
        }

        // Function to convert data URL to Blob
        function dataURLtoBlob(dataURL) {
            const byteString = atob(dataURL.split(',')[1]);
            const mimeString = dataURL.split(',')[0].split(':')[1].split(';')[0];
            const ab = new ArrayBuffer(byteString.length);
            const ia = new Uint8Array(ab);

            for (let i = 0; i < byteString.length; i++) {
                ia[i] = byteString.charCodeAt(i);
            }

            return new Blob([ab], {
                type: mimeString
            });
        }

        // Function to extract text from a merged file
        function extractTextFromMergedFile(file) {
            disableAllButtons();
            const reader = new FileReader();
            reader.readAsArrayBuffer(file);

            reader.onload = function(event) {
                const arrayBuffer = event.target.result;
                const decoder = new TextDecoder(); // Decodes bytes into text
                const decodedString = decoder.decode(arrayBuffer); // Decode all bytes

                // Look for the "Text=" marker in the decoded string
                const markerIndex = decodedString.indexOf("Tughra=");

                if (markerIndex !== -1) {
                    // Extract everything after "Text="
                    const extractedText = decodedString.substring(markerIndex + 7);
                    document.getElementById('inputText').value = extractedText;
                }
            };
            enableAllButtons();
        }

        // Event listener for merging text with the predefined image
        document.getElementById('makeCode').addEventListener('click', () => {
            const text = document.getElementById('outputText').value;

            mergeTextWithImage(text);
        });

        // Event listener for extracting text from uploaded merged file
        document.getElementById('extractQRCode').addEventListener('click', () => {
            const fileInput = document.getElementById('QRCode');
            fileInput.click();

            const spinner = document.getElementById('spinner'); // Spinner element
            const progressBar = document.getElementById('progressBar'); // Progress bar element
            const progressContainer = document.getElementById('progressBarContainer'); // Progress container

            // Use the change event to get the selected file
            fileInput.addEventListener('change', () => {
                const mergedFile = fileInput.files[0]; // Get the selected file

                if (mergedFile) {

                    disableAllButtons();
                    spinner.style.display = 'block';
                    progressContainer.style.display = 'block';
                    progressBar.style.width = '0%'; // Reset progress bar

                    // Simulate progress while processing the file
                    simulateProgress(() => {
                        extractTextFromMergedFile(mergedFile);

                        // Hide spinner and progress bar after processing
                        spinner.style.display = 'none';
                        progressContainer.style.display = 'none';

                        setTimeout(() => {
                            checkifaudio();
                            checkifimage();
                            checkifvideo('inputText');
                            enableAllButtons();
                        }, 300);
                    });
                }
            });
        });


        function simulateProgress(callback) {
            let progress = 0;
            const interval = setInterval(() => {
                progress += 10; // Increase progress by 10%

                // Update progress bar width and text
                const progressBar = document.getElementById('progressBar');
                progressBar.style.width = progress + '%';
                progressBar.innerText = progress + '%';

                if (progress >= 100) {
                    clearInterval(interval); // Stop the progress simulation
                    callback(); // Execute the callback function (file processing)
                }
            }, 200); // Adjust the interval as needed
        }


        const musicContainer = document.getElementById('music-container');
        const audioPlayer = musicContainer.querySelector('.audio_player');
        const progressRange = document.querySelector('.progress-range');
        const progressBar = document.querySelector('.progress-bar');
        const currentTime = document.querySelector('.time-elapsed');
        const duration = document.querySelector('.time-duration');
        const audio = document.getElementById('audioPlayback');
        const playBtn = document.getElementById('play');
        const speaker = musicContainer.querySelector('.speaker');
        const speakerIcon = musicContainer.querySelector('#speaker_icon');
        const volInput = musicContainer.querySelector('input[name="volume"]');
        const removeaudio = musicContainer.querySelector('#removeaudio');

        function loadSong(song) {

            audio.src = song;
        }

        function playSong() {
            musicContainer.classList.add('play');
            playBtn.innerHTML = `<svg          width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
  <path fill-rule="evenodd" d="M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z" clip-rule="evenodd"/>
</svg>
`;

            audio.play();
        }


        function pauseSong() {
            musicContainer.classList.remove('play');
            playBtn.innerHTML = `<svg          width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
  <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd"/>
</svg>
`;

            audio.pause();
        }


        function displayTime(time) {
            const minutes = Math.floor(time / 60);
            let seconds = Math.floor(time % 60);
            seconds = seconds > 9 ? seconds : `0${seconds}`;
            return `${minutes}:${seconds}`;
        }

        function updateProgress() {
            // Ensure that the audio has loaded properly
            if (!isNaN(audioPlayer.duration)) {
                progressBar.style.width = `${(audioPlayer.currentTime / audioPlayer.duration) * 100}%`;
                currentTime.textContent = `${displayTime(audioPlayer.currentTime)}`;
            }

            // Check if the audio has ended
            if (audioPlayer.currentTime === audioPlayer.duration) {
                playBtn.innerHTML = `
      <svg          width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
        <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd"/>
      </svg>
    `;

                // Reset the player status if you want to switch back to the 'play' state
                musicContainer.classList.remove('play');
            }
        }


        function scrub(event) {
            const scrubTime = (event.offsetX / progressRange.offsetWidth) * audioPlayer.duration;
            audioPlayer.currentTime = scrubTime;
        }

        let muted = false;

        function mute() {
            if (!muted) {
                audioPlayer['volume'] = 0;
                volInput.value = 0;
                speakerIcon.innerHTML = `<svg          width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.43A4.985 4.985 0 0 1 17 12c0 1.126-.5 2.5-1.5 3.5m2.864-9.864A8.972 8.972 0 0 1 21 12c0 2.023-.5 4.5-2.5 6M7.8 7.5l2.56-2.133a1 1 0 0 1 1.64.768V12m0 4.5v1.365a1 1 0 0 1-1.64.768L6 15H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m1-4 14 14"/>
</svg>
`;
                muted = true;
                audioPlayer.muted = true;
            } else {
                audioPlayer['volume'] = 1;
                volInput.value = 1;
                muted = false;
                audioPlayer.muted = false;
                speakerIcon.innerHTML = `<svg          width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.43A4.985 4.985 0 0 1 17 12a4.984 4.984 0 0 1-1.43 3.5m2.794 2.864A8.972 8.972 0 0 0 21 12a8.972 8.972 0 0 0-2.636-6.364M12 6.135v11.73a1 1 0 0 1-1.64.768L6 15H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2l4.36-3.633a1 1 0 0 1 1.64.768Z"/>
</svg>
`;
            }
        }


        function setProgress(e) {
            const newTime = e.offsetX / progressRange.offsetWidth;
            progressBar.style.width = `${newTime * 100}%`;
            audioPlayer.currentTime = newTime * audioPlayer.duration;
        }


        playBtn.addEventListener('click', () => {
            const isPlaying = musicContainer.classList.contains('play');

            if (isPlaying) {
                pauseSong();
            } else {
                playSong();
            }
        });

        function removemusicContainer() {
            audio.src = "";
            musicContainer.style.display = 'none';
        }
        audio.addEventListener('timeupdate', updateProgress);
        progressRange.addEventListener('click', setProgress);
        speakerIcon.addEventListener('click', mute);
        removeaudio.addEventListener('click', removemusicContainer);
        let mouseDown = false;
        progressRange.addEventListener('click', scrub);
        progressRange.addEventListener('mousemove', (event) => mouseDown && scrub(event));
        progressRange.addEventListener('mousedown', () => mouseDown = true);
        progressRange.addEventListener('mouseup', () => mouseDown = false);

        const videoContainer = document.getElementById('video-container');
        const videoPlayer = videoContainer.querySelector('.video_player');
        const progressvideoRange = document.querySelector('.progress-video-range');
        const progressvideoBar = document.querySelector('.progress-video-bar');
        const currenttimevideo = document.querySelector('.timevideo-elapsed');
        const durationvideo = document.querySelector('.timevideo-duration');
        const playvideoBtn = document.getElementById('playvideo');
        const speakerIconvideo = videoContainer.querySelector('.speakervideo');
        const volInputvideo = videoContainer.querySelector('input[name="volumevideo"]');
        const removeVideo = videoContainer.querySelector('#removevideo');

        function loadVideo(videoSrc) {
            videoPlayer.src = videoSrc;
        }

        function playVideo() {
            videoContainer.classList.add('playvideo');
            playvideoBtn.innerHTML = `<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
  <path fill-rule="evenodd" d="M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z" clip-rule="evenodd"/>
</svg>
`; // Replace with your SVG code
            videoPlayer.play();
        }

        function pauseVideo() {
            videoContainer.classList.remove('playvideo');
            playvideoBtn.innerHTML = `<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
        <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd"/>
      </svg>
`; // Replace with your SVG code
            videoPlayer.pause();
        }

        function displaytimevideo(timevideo) {
            const minutes = Math.floor(timevideo / 60);
            let seconds = Math.floor(timevideo % 60);
            seconds = seconds > 9 ? seconds : `0${seconds}`;
            return `${minutes}:${seconds}`;
        }

        function updateprogressvideo() {
            if (!isNaN(videoPlayer.duration)) {
                progressvideoBar.style.width = `${(videoPlayer.currentTime / videoPlayer.duration) * 100}%`;
                currenttimevideo.textContent = `${displaytimevideo(videoPlayer.currentTime)}`;

            }

            if (videoPlayer.currentTime === videoPlayer.duration) {
                playvideoBtn.innerHTML = `<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
        <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd"/>
      </svg>`; // Replace with your SVG code
                videoContainer.classList.remove('playvideo');
            }
        }

        function scrubvideo(event) {
            const scrubtimevideo = (event.offsetX / progressvideoRange.offsetWidth) * videoPlayer.duration;
            videoPlayer.currentTime = scrubtimevideo;
        }

        let mutedvideo = false;

        function mutevideo() {
            if (!mutedvideo) {
                mutedvideo['volume'] = 0;
                volInputvideo.value = 0;
                speakerIconvideo.innerHTML = `<svg          width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.43A4.985 4.985 0 0 1 17 12c0 1.126-.5 2.5-1.5 3.5m2.864-9.864A8.972 8.972 0 0 1 21 12c0 2.023-.5 4.5-2.5 6M7.8 7.5l2.56-2.133a1 1 0 0 1 1.64.768V12m0 4.5v1.365a1 1 0 0 1-1.64.768L6 15H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m1-4 14 14"/>
</svg>
`;
                mutedvideo = true;
                videoPlayer.muted = true;
            } else {
                mutedvideo['volume'] = 1;
                volInputvideo.value = 1;
                videoPlayer.muted = false;
                mutedvideo = false;
                speakerIconvideo.innerHTML = `<svg          width="24" height="24" fill="none" viewBox="0 0 24 24">
  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.5 8.43A4.985 4.985 0 0 1 17 12a4.984 4.984 0 0 1-1.43 3.5m2.794 2.864A8.972 8.972 0 0 0 21 12a8.972 8.972 0 0 0-2.636-6.364M12 6.135v11.73a1 1 0 0 1-1.64.768L6 15H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h2l4.36-3.633a1 1 0 0 1 1.64.768Z"/>
</svg>
`;
            }

        }

        videoPlayer.addEventListener('timeupdate', updateprogressvideo);
        progressvideoRange.addEventListener('click', scrubvideo);
        playvideoBtn.addEventListener('click', () => {
            if (videoPlayer.paused) {
                playVideo();
            } else {
                pauseVideo();
            }
        });
        speakerIconvideo.addEventListener('click', mutevideo);
        volInputvideo.addEventListener('input', (e) => {
            const volumeValue = Math.max(0, Math.min(1, e.target.value));
            videoPlayer.volume = volumeValue;
        });
        removeVideo.addEventListener('click', () => {
            videoPlayer.src = '';
            videoContainer.style.display = 'none';
        });




        function checkifvideo(id) {
            const videoPlayback = document.getElementById('video-container');
            videoPlayback.style.display = 'none';
            var outputText = document.getElementById(id).value;
            if (outputText.startsWith('data:video')) {
                loadVideo(outputText);

                videoPlayback.style.display = 'block';
            }

        }

        const openmodalrecordVideoBtnrecordVideo = document.getElementById('openmodalrecordVideoBtnrecordVideo');
        const modalrecordVideo = document.getElementById('modalrecordVideo');
        const previewVideo = document.getElementById('previewVideo');
        const recordedvideo = document.getElementById('recordedvideo');
        const startBtnrecordVideo = document.getElementById('startBtnrecordVideo');
        const pauseBtnrecordVideo = document.getElementById('pauseBtnrecordVideo');
        const stopBtnrecordVideo = document.getElementById('stopBtnrecordVideo');
        const muteBtnrecordVideo = document.getElementById('muteBtnrecordVideo');
        const recordControls = document.querySelector('.record-controls');
        const videorecordActions = document.querySelector('.video-record-actions');
        const saveBtnrecordVideo = document.getElementById('saveBtnrecordVideo');
        const deleteBtnrecordVideo = document.getElementById('deleteBtnrecordVideo');
        const downloadBtnrecordVideo = document.getElementById('downloadBtnrecordVideo');
        const hiderecordmodal = document.getElementById('hiderecordmodal');
        const takePhotoBtn = document.getElementById('takePhoto');
        const photoContainer = document.getElementById('photoContainer');
        const snapshot = document.getElementById('snapshot');
        const deletePhotoBtn = document.getElementById('deletePhoto');
        const downloadPhotoBtn = document.getElementById('downloadPhoto');
        const savePhotoBtn = document.getElementById('savePhoto');
        const switchCameraBtn = document.getElementById('switchCameraBtn');
        let mediaRecorder;
        let recordedChunks = [];
        let stream;

        // Open the modalrecordVideo and start video stream
        openmodalrecordVideoBtnrecordVideo.addEventListener('click', () => {
            modalrecordVideo.style.display = 'flex';
            startVideoStream();
        });

        hiderecordmodal.addEventListener('click', () => {
            // Hide the modal
            modalrecordVideo.style.display = 'none';
            document.getElementById('timerecordmodal').textContent = '';
            // Stop the video stream properly
            let stream = previewVideo.srcObject;
            if (stream) {
                stream.getTracks().forEach(track => track.stop()); // Stop all tracks
            }
            previewVideo.srcObject = null;
            recordedvideo.src = '';
            recordedvideo.style.display = 'none';
            previewVideo.style.display = 'block';
            recordControls.style.display = 'flex';
            videorecordActions.style.display = 'none';
        });
        // Request access to camera and microphone

        let usingBackCamera = false; // Track the current camera state

        // Modify the startVideoStream function to accept a parameter for camera direction
        async function startVideoStream(useBackCamera = false) {
            try {
                const constraints = {
                    video: {
                        facingMode: useBackCamera ? 'environment' : 'user'
                    },
                    audio: true
                };
                stream = await navigator.mediaDevices.getUserMedia(constraints);
                previewVideo.srcObject = stream;

                muteBtnrecordVideo.addEventListener('click', () => {
                    const audioTrack = stream.getAudioTracks()[0];
                    audioTrack.enabled = !audioTrack.enabled;
                    muteBtnrecordVideo.innerHTML = audioTrack.enabled ?
                        `<svg  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M5 8a1 1 0 0 1 1 1v3a4.006 4.006 0 0 0 4 4h4a4.006 4.006 0 0 0 4-4V9a1 1 0 1 1 2 0v3.001A6.006 6.006 0 0 1 14.001 18H13v2h2a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h2v-2H9.999A6.006 6.006 0 0 1 4 12.001V9a1 1 0 0 1 1-1Z" clip-rule="evenodd"/>
                    <path d="M7 6a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v5a4 4 0 0 1-4 4h-2a4 4 0 0 1-4-4V6Z"/>
                </svg>` :
                        `<svg style="color: red;"  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="m15.506 14.097.994.995A3.989 3.989 0 0 0 17.975 12V9.011a.996.996 0 0 1 1.992 0v2.99a5.981 5.981 0 0 1-2.054 4.503l1.762 1.762a.996.996 0 1 1-1.408 1.408L4.325 5.733a.996.996 0 0 1 1.408-1.408L7.04 5.632a3.984 3.984 0 0 1 3.964-3.59h1.992c2.2 0 3.983 1.783 3.983 3.983v4.98a3.975 3.975 0 0 1-1.473 3.092ZM4.033 10.008a.996.996 0 1 1 1.992 0V12a3.99 3.99 0 0 0 3.984 3.984H12c.55 0 .996.446.996.996v2.988h1.992a.996.996 0 0 1 0 1.992H9.012a.996.996 0 0 1 0-1.992h1.992v-1.992h-.997a5.981 5.981 0 0 1-5.974-5.974v-1.993Z"/>
                </svg>`;
                });

                startBtnrecordVideo.addEventListener('click', () => startRecording(stream));
                stopBtnrecordVideo.addEventListener('click', stopRecording);
                pauseBtnrecordVideo.addEventListener('click', togglePause);
            } catch (error) {
                console.error('Error accessing media devices.', error);
                alert('Could not access camera or microphone.');
            }
        }

        // Switch camera button event listener
        switchCameraBtn.addEventListener('click', () => {
            usingBackCamera = !usingBackCamera; // Toggle the camera state
            startVideoStream(usingBackCamera); // Restart the stream with the selected camera
        });


        let timerInterval;
        let startTime;

        function startRecording(stream) {
            recordedChunks = [];
            mediaRecorder = new MediaRecorder(stream);

            mediaRecorder.ondataavailable = event => {
                if (event.data.size > 0) recordedChunks.push(event.data);
            };

            mediaRecorder.onstop = showRecordedVideo;

            mediaRecorder.start();
            startBtnrecordVideo.disabled = true;
            startTime = Date.now();
            updateTimer(); // Start the timer
            timerInterval = setInterval(updateTimer, 1000); // Update every second

            startBtnrecordVideo.innerHTML = `
          <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="red"/>
            <path d="M9 8h6v8H9z" fill="red"/>
          </svg>
        `;

            stopBtnrecordVideo.disabled = false;
            pauseBtnrecordVideo.disabled = false;
            switchCameraBtn.disabled = true;
        }

        function updateTimer() {
            const elapsed = Date.now() - startTime;
            const hours = Math.floor(elapsed / 3600000);
            const minutes = Math.floor((elapsed % 3600000) / 60000);
            const seconds = Math.floor((elapsed % 60000) / 1000);

            document.getElementById('timerecordmodal').textContent =
                `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function stopRecording() {
            previewVideo.srcObject = null;
            mediaRecorder.stop();
            clearInterval(timerInterval); // Stop the timer

            startBtnrecordVideo.disabled = false;
            stopBtnrecordVideo.disabled = true;
            pauseBtnrecordVideo.disabled = true;
            switchCameraBtn.disabled = false;
            muteBtnrecordVideo.mute = true;

            startBtnrecordVideo.innerHTML = `
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd"/>
          </svg>
        `;
        }

        function togglePause() {
            if (mediaRecorder.state === 'recording') {
                mediaRecorder.pause();
                clearInterval(timerInterval); // Pause the timer

                pauseBtnrecordVideo.innerHTML = `
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 18V6l8 6-8 6Z"/>
              </svg>
            `;
            } else if (mediaRecorder.state === 'paused') {
                mediaRecorder.resume();
                startTime = Date.now() - (Date.now() - startTime); // Resume from where it paused
                timerInterval = setInterval(updateTimer, 1000); // Resume the timer

                pauseBtnrecordVideo.innerHTML = `
              <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M8 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H8Zm7 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1Z" clip-rule="evenodd"/>
              </svg>
            `;
            }
        }

        function showRecordedVideo() {
            const blob = new Blob(recordedChunks, {
                type: 'video/mp4'
            });
            const url = URL.createObjectURL(blob);

            // Update video sources and UI elements
            recordedvideo.src = url;
            document.getElementById('timerecordmodal').textContent = '';

            // Minimize DOM operations by setting styles once
            previewVideo.style.display = 'none';
            recordedvideo.style.display = 'block';
            recordControls.style.display = 'none';
            videorecordActions.style.display = 'flex';
            previewVideo.play(); // Ensure preview resumes if needed

            const spinner = document.getElementById('spinner');

            // Handle Download button click
            downloadBtnrecordVideo.onclick = () => downloadVideo(url);

            // Handle Delete button click
            deleteBtnrecordVideo.onclick = () => resetRecording();

            // Handle Save button click
            saveBtnrecordVideo.onclick = async () => await saveVideo(blob, spinner);
        }

        // Function to download video
        function downloadVideo(url) {
            const a = document.createElement('a');
            a.href = url;
            a.download = 'recorded-video.mp4';
            a.click();
        }

        // Function to reset video recording and UI
        function resetRecording() {
            recordedvideo.src = '';
            recordedvideo.style.display = 'none';
            previewVideo.style.display = 'block';
            recordControls.style.display = 'flex';
            videorecordActions.style.display = 'none';
            startVideoStream(); // Restart the video stream
        }

        // Function to save video and update input field
        async function saveVideo(blob, spinner) {
            document.getElementById('savebtnsound').play();
            spinner.style.display = 'block'; // Show spinner
            recordedvideo.pause();

            try {
                const reader = new FileReader();
                const result = await readBlobAsDataURL(blob, reader);

                document.getElementById('inputText').value = result; // Set video as input text
                showToast("Video saved successfully!");

                // Hide spinner and perform post-save checks after a brief delay
                setTimeout(() => {
                    spinner.style.display = 'none';
                    postSaveActions();
                }, 300);
            } catch (error) {
                spinner.style.display = 'none';
                showToast("Error reading video file."); // Notify user of error
            }
        }

        // Helper function to read Blob as Data URL using Promises
        function readBlobAsDataURL(blob, reader) {
            return new Promise((resolve, reject) => {
                reader.onloadend = () => resolve(reader.result);
                reader.onerror = () => reject(new Error("Failed to read Blob."));
                reader.readAsDataURL(blob); // Start reading the blob
            });
        }

        // Function to perform checks and update UI after saving
        function postSaveActions() {
            checkifvideo('inputText');
            modalrecordVideo.style.display = 'none';
            displayStats('charCount', document.getElementById('inputText').value); // Update character count
        }



        takePhotoBtn.addEventListener('click', () => {
            document.getElementById('savebtnsound').play();
            const canvas = document.createElement('canvas');
            canvas.width = previewVideo.videoWidth;
            canvas.height = previewVideo.videoHeight;
            const ctx = canvas.getContext('2d', {
                willReadFrequently: true
            });
            ctx.drawImage(previewVideo, 0, 0, canvas.width, canvas.height);
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            ctx.putImageData(imageData, 0, 0);
            snapshot.src = canvas.toDataURL('image/webp');
            photoContainer.style.display = 'block';

        });


        // Delete the photo
        deletePhotoBtn.addEventListener('click', () => {
            snapshot.src = '';
            photoContainer.style.display = 'none';
        });

        // Download the photo
        downloadPhotoBtn.addEventListener('click', () => {
            const link = document.createElement('a');
            link.href = snapshot.src;
            link.download = 'captured-photo.png';
            link.click();
        });

        savePhotoBtn.addEventListener('click', () => {
            document.getElementById('savebtnsound').play();
            const dataURL = snapshot.src; // Get the current image data URL

            // Disable all buttons and show spinner
            disableAllButtons();
            const spinner = document.getElementById('spinner');
            spinner.style.display = 'block';

            fetch(dataURL)
                .then(res => res.blob())
                .then(blob => {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        document.getElementById('inputText').value = reader.result; // Set the result to input field
                        showToast("Photo saved successfully!");

                        // Perform further actions after a short delay
                        setTimeout(() => {
                            displayStats('charCount', document.getElementById('inputText').value);
                            checkifimage();
                            modalrecordVideo.style.display = 'none';

                            // Re-enable buttons and hide spinner
                            enableAllButtons();
                            spinner.style.display = 'none';
                        }, 300);
                    };
                    reader.readAsDataURL(blob); // Read Blob as data URL
                    photoContainer.style.display = 'none';
                })
                .catch(error => {
                    console.error('Error saving photo:', error);
                    showToast("Error saving photo.");

                    // Re-enable buttons and hide spinner in case of error
                    enableAllButtons();
                    spinner.style.display = 'none';
                });
        });
    </script>



</body>

</html>
